<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Vue-ç”Ÿå‘½å‘¨æœŸï¼ˆä¸‰ï¼‰</title>
      <link href="/posts/a886c21.html"/>
      <url>/posts/a886c21.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>å…·ä½“ç»†èŠ‚å‚è€ƒ <a href="https://cn.vuejs.org/guide/introduction.html"><code>Vue</code> å®˜æ–¹æ–‡æ¡£</a> ï¼Œæœ¬ç« èŠ‚ä¼šè¯¦ç»†è®²è§£åˆ° <code>Vue</code> çš„ç”Ÿå‘½å‘¨æœŸï¼Œç†è§£äº†ç”Ÿå‘½å‘¨æœŸå¯ä»¥åœ¨ä¸åŒçš„é˜¶æ®µæ›´å¥½çš„ç®¡ç†ç»„ä»¶ã€‚</p></blockquote><hr><h2 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h2><blockquote><p>ç”Ÿå‘½å‘¨æœŸï¼šå°±æ˜¯ä»å‡ºç”Ÿåˆ°æ­»äº¡çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œæ— è®ºæ˜¯åœ¨ç”Ÿæ´»ä¸­è¿˜æ˜¯åœ¨ç¨‹åºä¸­éƒ½é€‚ç”¨ã€‚</p><p>ç”Ÿå‘½å‘¨æœŸä»£è¡¨ä¸€ä¸ªå®ä½“çš„æ•´ä¸ªç”Ÿå­˜è¿‡ç¨‹ï¼ŒåŒ…æ‹¬åˆ›å»ºï¼ˆå‡ºç”Ÿï¼‰ã€æ›´æ–°ï¼ˆæˆé•¿ï¼‰ã€é”€æ¯ï¼ˆæ­»äº¡ï¼‰ç­‰é˜¶æ®µã€‚</p></blockquote><hr><h2 id="Vue2-X-ç”Ÿå‘½å‘¨æœŸ"><a href="#Vue2-X-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Vue2.X ç”Ÿå‘½å‘¨æœŸ"></a><code>Vue2.X</code> ç”Ÿå‘½å‘¨æœŸ</h2><ol><li><p><strong>ğŸ¤”æ€è€ƒï¼šé‚£ <code>Vue</code> å’Œäººçš„ç”Ÿå‘½å‘¨æœŸæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ</strong></p><ul><li>åˆ›å»ºï¼ˆå‡ºç”Ÿï¼‰ï¼š<code>created</code> </li><li>æ›´æ–°ï¼ˆæˆé•¿ï¼‰ï¼š<code>mounted</code></li><li>é”€æ¯ï¼ˆæ­»äº¡ï¼‰ï¼š<code>destroyed</code></li></ul></li><li><p><strong>ğŸ¤”æ€è€ƒï¼šé‚£ <code>Vue</code> çš„ç”Ÿå‘½å‘¨æœŸå¯ä»¥æŠ½è±¡ä¸ºé‚£å‡ ä¸ªè¿‡ç¨‹å‘¢ï¼Ÿ</strong></p><p>å¯ä»¥åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼Œå…«ä¸ªè¿‡ç¨‹ï¼Œå…·ä½“ä¿¡æ¯å¦‚ä¸‹ï¼š</p><div class="tabs" id="explain"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#explain-1">åˆ›å»ºé˜¶æ®µ</button></li><li class="tab"><button type="button" data-href="#explain-2">æˆé•¿é˜¶æ®µ</button></li><li class="tab"><button type="button" data-href="#explain-3">æ›´æ–°é˜¶æ®µ</button></li><li class="tab"><button type="button" data-href="#explain-4">é”€æ¯é˜¶æ®µ</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="explain-1"><p>åœ¨è¿™ä¸ªé˜¶æ®µï¼ŒVue ç»„ä»¶æ­£åœ¨åˆ›é€ å’Œå‡†å¤‡è‡ªå·±ï¼Œå°±åƒä¸€ä¸ªäººä»è¯ç”Ÿåˆ°æˆé•¿çš„è¿‡ç¨‹ã€‚</p><p><strong><code>beforeCreate</code></strong> </p><ul><li>åœ¨ç»„ä»¶å®ä¾‹åˆå§‹åŒ–å®Œæˆä¹‹åç«‹å³è°ƒç”¨</li><li><code>vue</code> å®ä¾‹çš„<strong>æŒ‚è½½å…ƒç´ </strong> <code>$el</code> å’Œ <strong>æ•°æ®å¯¹è±¡</strong> <code>data</code> éƒ½ä¸º <strong><code>undefined</code></strong>ï¼Œè¿˜æœªåˆå§‹åŒ–ã€‚</li><li>ç±»ä¼¼åœ¨äººå‡ºç”Ÿå‰ï¼Œå®¶åº­åœ¨å‡†å¤‡è¿æ¥æ–°æˆå‘˜ï¼Œä½†å­©å­è¿˜æ²¡æœ‰å‘±å‘±å åœ°ã€‚</li></ul><p><strong><code>create</code></strong> </p><ul><li>åœ¨ç»„ä»¶å®ä¾‹å¤„ç†å®Œæ‰€æœ‰ä¸çŠ¶æ€ç›¸å…³çš„é€‰é¡¹åè°ƒç”¨ã€‚</li><li><code>vue</code> å®ä¾‹çš„ <strong>æ•°æ®å¯¹è±¡</strong><code>data</code>æœ‰äº†ï¼Œ<code>$el</code> è¿˜æ²¡æœ‰</li><li>ç±»ä¼¼å­©å­å‡ºç”Ÿåï¼Œå·²ç»æˆä¸ºä¸€ä¸ªä¸ªä½“ï¼Œå¯ä»¥å¼€å§‹è®¤è¯†ä¸–ç•Œï¼Œä½†è¿˜æ²¡æœ‰å‚ä¸åˆ°å„ç§æ´»åŠ¨ä¸­ã€‚</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="explain-2"><p>è¿™ä¸ªé˜¶æ®µç±»ä¼¼äºä¸€ä¸ªäººçš„æˆé•¿è¿‡ç¨‹ï¼ŒVue ç»„ä»¶ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ï¼Œæ›´æ–°çŠ¶æ€ï¼Œä¸æ–­å‘å±•ã€‚</p><p><strong><code>beforeMount</code></strong></p><ul><li>åœ¨ç»„ä»¶è¢«æŒ‚è½½åˆ° <code>DOM</code> ä¹‹å‰è°ƒç”¨ã€‚</li><li><code>vue</code> å®ä¾‹çš„ <code>$el</code> å’Œ <code>data</code> éƒ½åˆå§‹åŒ–äº†ï¼Œä½†è¿˜æ˜¯è™šæ‹Ÿçš„ <code>DOM</code> èŠ‚ç‚¹ï¼Œå…·ä½“çš„ <code>data.filter</code> è¿˜æœªæ›¿æ¢ã€‚</li><li>ç±»ä¼¼å­©å­æˆé•¿ä¸ºå­¦ç«¥ï¼Œå‡†å¤‡è¿›å…¥å­¦æ ¡é˜¶æ®µï¼Œä½†å°šæœªçœŸæ­£å¼€å§‹ä¸Šè¯¾</li></ul><p><strong><code>mounted</code></strong></p><ul><li>åœ¨ç»„ä»¶è¢«æŒ‚è½½åˆ° <code>DOM</code> ä¸Šåè°ƒç”¨ï¼Œè¿™æ˜¯åˆå§‹åŒ–è¿‡ç¨‹çš„æœ€åä¸€ä¸ªé˜¶æ®µã€‚</li><li><code>vue</code> å®ä¾‹æŒ‚è½½å®Œæˆï¼Œ<code>data.filter</code> æˆåŠŸæ¸²æŸ“ã€‚</li><li>ç±»ä¼¼å­©å­å·²ç»è¿›å…¥å­¦æ ¡ï¼Œå¯ä»¥å’ŒåŒå­¦äº’åŠ¨ï¼Œå‚åŠ å„ç§æ´»åŠ¨ï¼Œèå…¥ç¤¾äº¤åœˆã€‚</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="explain-3"><p>è¿™ä¸ªé˜¶æ®µç±»ä¼¼äºä¸€ä¸ªäººåœ¨æˆé•¿è¿‡ç¨‹ä¸­çš„ä¸æ–­æ›´æ–°å’Œå˜åŒ–ï¼ŒVue ç»„ä»¶ä¼šæ ¹æ®æ•°æ®çš„å˜åŒ–è¿›è¡Œæ›´æ–°ã€‚</p><p><strong><code>beforeUpdate</code></strong></p><ul><li>åœ¨ç»„ä»¶å³å°†å› ä¸ºä¸€ä¸ªå“åº”å¼çŠ¶æ€å˜æ›´è€Œæ›´æ–°å…¶ DOM æ ‘ä¹‹å‰è°ƒç”¨ã€‚</li><li><code>data</code> æ›´æ–°æ—¶è§¦å‘ï¼Œå½“è™šæ‹ŸDOMä¸­çš„dataå‘ç”Ÿæ”¹å˜æ—¶è§¦å‘ï¼Œæ­¤æ—¶è™šæ‹ŸDOMæ²¡æœ‰åŠ è½½åˆ°é¡µé¢ä¸Šã€‚<br>é¡µé¢ä¸Šçš„æ•°æ®ä¸å˜ï¼Œè™šæ‹ŸDOMä¸­çš„æ•°æ®æ”¹å˜ã€‚</li><li>ç±»ä¼¼ä¸€ä¸ªäººåœ¨æ”¹å˜è‡ªå·±çš„æ—¥å¸¸ä¹ æƒ¯ï¼Œä½†å°šæœªå®Œå…¨è½¬å˜ä¸ºæ–°çŠ¶æ€ã€‚</li></ul><p><strong><code>updated</code></strong></p><ul><li>åœ¨ç»„ä»¶å› ä¸ºä¸€ä¸ªå“åº”å¼çŠ¶æ€å˜æ›´è€Œæ›´æ–°å…¶ DOM æ ‘ä¹‹åè°ƒç”¨ã€‚</li><li><code>data</code> æ›´æ–°æ—¶è§¦å‘ï¼Œè™šæ‹ŸDOMä¸­çš„dataå‘ç”Ÿæ”¹å˜é¡µé¢ä¸Šçš„dataä¹Ÿå‘ç”Ÿæ”¹å˜ï¼ˆå³æ–°ç”Ÿæˆçš„è™šæ‹ŸDOMæŒ‚è½½ä¸Šé¡µé¢äº†ï¼‰</li><li>ç±»ä¼¼äººå·²ç»é€‚åº”äº†æ–°çš„ä¹ æƒ¯ï¼Œæ”¹å˜å·²ç»ç”Ÿæ•ˆå¹¶å®Œæˆæ›´æ–°ã€‚</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="explain-4"><p><strong><code>beforeDestroy</code></strong></p><ul><li>åœ¨å®ä¾‹é”€æ¯ä¹‹å‰è¢«è°ƒç”¨ã€‚å¯ä»¥è¿›è¡Œæ¸…ç†å·¥ä½œï¼Œå¦‚å–æ¶ˆå®šæ—¶å™¨ã€è§£ç»‘äº‹ä»¶ç­‰ã€‚</li><li>ç»„ä»¶é”€æ¯æ—¶è§¦å‘</li><li>ç±»ä¼¼ä¸€ä¸ªäººåœ¨ç¦»ä¸–å‰ï¼Œå®‰æ’é—æ„¿å’Œåšä¸€äº›åäº‹çš„å‡†å¤‡ã€‚</li></ul><p><strong><code>destroyed</code></strong></p><ul><li>åœ¨å®ä¾‹é”€æ¯ä¹‹åè¢«è°ƒç”¨ã€‚æ­¤æ—¶ç»„ä»¶å·²ç»è¢«å®Œå…¨é”€æ¯ï¼Œäº‹ä»¶ç›‘å¬å’Œæ•°æ®ç»‘å®šéƒ½è¢«è§£é™¤ã€‚</li><li>ç»„ä»¶é”€æ¯æ—¶è§¦å‘ï¼Œ<code>vue</code> å®ä¾‹è§£é™¤äº†äº‹ä»¶ç›‘å¬ä»¥åŠå’Œ <code>DOM</code> ç»‘å®šï¼ˆæ— å“åº”äº†ï¼‰ï¼Œä½† <code>DOM</code>èŠ‚ç‚¹ä¾æ—§å­˜åœ¨</li><li>ç±»ä¼¼ä¸€ä¸ªäººå·²ç»ç¦»ä¸–ï¼Œæ‰€æœ‰å…³è”çš„äº‹ç‰©éƒ½å·²ç»è§£é™¤ã€‚</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li><li><p><strong>ğŸ’¡<code>Vue</code> ç”Ÿå‘½å‘¨æœŸå›¾è§£</strong></p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308091741172.png" alt="Vue å®ä¾‹ç”Ÿå‘½å‘¨æœŸ" style="zoom:67%;float:left" /></p></li><li><p><strong>ğŸ› ï¸ä»£ç å®ç°</strong></p><p>å‡è®¾ é€šè¿‡ è®¡æ•°å™¨ æŒ‰é’®å®ç° <code>Vue</code> çš„ç”Ÿå‘½å‘¨æœŸ</p><ul><li><code>HTML</code> æ¨¡æ¿å’Œæ•°æ®</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>è®¡æ•°å™¨ï¼š&#123;&#123; counter &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment&quot;</span>&gt;</span>å¢åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;destroy&quot;</span>&gt;</span>é”€æ¯<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>Vue</code> å®ä¾‹å’Œæ•°æ®</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    data: &#123;</span><br><span class="line">      counter: 0</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      increment() &#123;</span><br><span class="line">        this.counter++;</span><br><span class="line">      &#125;,</span><br><span class="line">      destroy() &#123;</span><br><span class="line">        this.$destroy();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">      console.log(&#x27;beforeCreate: å®ä¾‹æ­£åœ¨åˆ›å»ºä¸­ ==&gt; å®ä¾‹(this.counter)ï¼š&#x27;, this.counter, &#x27;ï¼ŒDOMèŠ‚ç‚¹ï¼š&#x27;, this.$el);</span><br><span class="line">    &#125;,</span><br><span class="line">    created() &#123;</span><br><span class="line">      console.log(&#x27;created: å®ä¾‹å·²åˆ›å»º ==&gt; å®ä¾‹(this.counter)ï¼š&#x27;, this.counter, &#x27;ï¼ŒDOMèŠ‚ç‚¹ï¼š&#x27;, this.$el);</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeMount() &#123;</span><br><span class="line">      console.log(&#x27;beforeMount: åœ¨æŒ‚è½½åˆ° DOM ä¹‹å‰ ==&gt; å®ä¾‹(this.counter)ï¼š&#x27;, this.counter, &#x27;ï¼ŒDOMèŠ‚ç‚¹ï¼š&#x27;, this.$el);</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">      console.log(&#x27;mounted: å®ä¾‹å·²æŒ‚è½½åˆ° DOM ==&gt; å®ä¾‹(this.counter)ï¼š&#x27;, this.counter, &#x27;ï¼ŒDOMèŠ‚ç‚¹ï¼š&#x27;, this.$el);</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeUpdate() &#123;</span><br><span class="line">      console.log(&#x27;beforeUpdate: åœ¨æ›´æ–°æ•°æ®ä¹‹å‰ ==&gt; å®ä¾‹(this.counter)ï¼š&#x27;, this.counter, &#x27;ï¼ŒDOMèŠ‚ç‚¹ï¼š&#x27;, this.$el);</span><br><span class="line">    &#125;,</span><br><span class="line">    updated() &#123;</span><br><span class="line">      console.log(&#x27;updated: æ•°æ®å·²æ›´æ–° ==&gt; å®ä¾‹(this.counter)ï¼š&#x27;, this.counter, &#x27;ï¼ŒDOMèŠ‚ç‚¹ï¼š&#x27;, this.$el);</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeDestroy() &#123;</span><br><span class="line">      console.log(&#x27;beforeDestroy: å®ä¾‹å³å°†è¢«é”€æ¯ ==&gt; å®ä¾‹(this.counter)ï¼š&#x27;, this.counter, &#x27;ï¼ŒDOMèŠ‚ç‚¹ï¼š&#x27;, this.$el);</span><br><span class="line">    &#125;,</span><br><span class="line">    destroyed() &#123;</span><br><span class="line">      console.log(&#x27;destroyed: å®ä¾‹å·²è¢«é”€æ¯ ==&gt; å®ä¾‹(this.counter)ï¼š&#x27;, this.counter, &#x27;ï¼ŒDOMèŠ‚ç‚¹ï¼š&#x27;, this.$el);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><ul><li>ç»“æœ</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308091812537.gif" alt="åŠ¨ç”»" style="float:left"/></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯æ¡†æ¶ </category>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue-åŸºç¡€è¯­æ³•ï¼ˆäºŒï¼‰</title>
      <link href="/posts/ce705295.html"/>
      <url>/posts/ce705295.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>å…·ä½“ç»†èŠ‚å‚è€ƒ <a href="https://cn.vuejs.org/guide/introduction.html"><code>Vue</code> å®˜æ–¹æ–‡æ¡£</a> ï¼Œè¿™ä¸€ç« çš„å†…å®¹éå¸¸é‡è¦ï¼Œæˆ‘ä»¬å¼€å‘å®Œæˆä¹‹åä¼šé€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹å°†è¿™äº›çŸ¥è¯†ç‚¹å…¨éƒ¨ä¸²èµ·æ¥ã€‚</p></blockquote><p>æœ¬æ–‡ä¸»è¦å°†è®²è§£ <code>Vue</code> çš„åŸºç¡€è¯­æ³•ï¼ŒåŒ…æ‹¬å¦‚ä¸‹å†…å®¹ï¼š</p><ul><li>æ¡ä»¶æ¸²æŸ“ï¼ˆ v-if ã€v-elseã€v-else-ifã€v-showï¼‰</li><li>åˆ—è¡¨æ¸²æŸ“ï¼ˆ v-for ï¼‰</li><li>å±æ€§ç»‘å®šï¼ˆ v-bindã€v-model ï¼‰</li><li>äº‹ä»¶å¤„ç†ï¼ˆ v-on ï¼‰</li><li>è®¡ç®—å±æ€§ï¼ˆ computed ï¼‰</li><li>ç›‘å¬å™¨ï¼ˆ watch ï¼‰</li><li><p>Class ä¸ Style ç»‘å®š</p></li><li><p>ä»»åŠ¡æ¸…å•-æ¡ˆä¾‹</p></li></ul><hr><h2 id="æ¡ä»¶æ¸²æŸ“"><a href="#æ¡ä»¶æ¸²æŸ“" class="headerlink" title="æ¡ä»¶æ¸²æŸ“"></a>æ¡ä»¶æ¸²æŸ“</h2><blockquote><p>å¦‚ä¸‹å››ä¸ªæ¡ä»¶æ¸²æŸ“æŒ‡ä»¤åœ¨å¼€å‘ä¸­ä½¿ç”¨é¢‘ç‡éå¸¸é«˜ï¼Œç±»ä¼¼äºjavaä¸­çš„ <code>if</code>ã€<code>else</code>ã€<code>else-if</code>ã€‚ä¾‹å¦‚ï¼Œä»»åŠ¡çŠ¶æ€ä¿¡æ¯ç­‰éœ€æ±‚ã€‚</p><ul><li><code>v-if</code></li><li><code>v-else</code></li><li><code>v-else-if</code></li><li><code>v-show</code></li></ul></blockquote><h3 id="v-if"><a href="#v-if" class="headerlink" title="v-if"></a>v-if</h3><blockquote><p><code>v-if</code>ï¼šç”¨äºæ¡ä»¶åˆ¤æ–­æŒ‡ä»¤ï¼Œä¸€èˆ¬ç”¨äºç•Œé¢å†…å®¹çš„æ¸²æŸ“ï¼Œè¯¥æŒ‡ä»¤ä¼šèµ°è¡¨è¾¾å¼ä¸º <code>true</code> çš„åˆ†æ”¯ã€‚</p></blockquote><h3 id="v-else"><a href="#v-else" class="headerlink" title="v-else"></a>v-else</h3><blockquote><p><code>v-else</code>: ä¸€èˆ¬ç»“åˆ <code>v-if</code> ä½¿ç”¨ï¼Œè¯¥æŒ‡ä»¤èµ°ä¸ <code>v-if</code> ç›¸åçš„åˆ†æ”¯ã€‚</p></blockquote><h3 id="v-else-if"><a href="#v-else-if" class="headerlink" title="v-else-if"></a>v-else-if</h3><blockquote><p><code>v-else-if</code>ï¼šæä¾›çš„æ˜¯ç›¸åº”äºv-ifçš„ï¼Œå®ƒå¯ä»¥è¿ç»­å¤šæ¬¡é‡å¤ä½¿ç”¨ã€‚</p><p><code>v-else</code> å’Œ <code>v-else-if</code> å¿…é¡»ç´§è·Ÿåœ¨ <code>v-if</code> æˆ– <code>v-else-if</code> çš„åé¢ï¼Œå¹¶ä¸”å®ƒä»¬åªèƒ½ä¸ç›¸åŒçˆ¶å…ƒç´ çš„ <code>v-if</code> æˆ– <code>v-else-if</code> ä¸€èµ·ä½¿ç”¨ã€‚</p></blockquote><p>å…·ä½“ä¿¡æ¯å¦‚ä¸‹å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308071540037.png" style="zoom:50%;float:left" /></p><p>å‡è®¾ï¼Œæ ¹æ® <code>type</code> ç±»å‹å±•ç¤ºä¸åŒçš„å­—æ¯ã€‚</p><ul><li><code>HTML</code> æ¨¡æ¿</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;type === &#x27;A&#x27;&quot;</span>&gt;</span> A <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">&quot;type === &#x27;B&#x27;&quot;</span>&gt;</span> B <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">&quot;type === &#x27;C&#x27;&quot;</span>&gt;</span> C <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span> Not A/B/C <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>Vue</code> å®ä¾‹å’Œæ•°æ®</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    data: &#123;</span><br><span class="line">      type: &quot;A&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><ul><li>ç»“æœä¿¡æ¯</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308071608321.png" alt="image-20230807160807290" style="zoom:100%;float:left" /></p><h3 id="v-show"><a href="#v-show" class="headerlink" title="v-show"></a>v-show</h3><blockquote><p><code>v-show</code>ï¼šä¹Ÿæ˜¯æ¡ä»¶æ¸²æŸ“æŒ‡ä»¤ï¼Œæ§åˆ¶å…ƒç´ æ˜¾ç¤ºæˆ–è€…éšè—ã€‚ ç”¨æ³•ä¸ <code>v-if</code> ä¸€è‡´ï¼Œä½†ä¸èƒ½å’Œ <code>v-else</code> å’Œ <code>v-else-if</code> ä¸€èµ·ä½¿ç”¨ã€‚</p></blockquote><p>å‡è®¾ï¼Œæ ¹æ® <code>type</code> ç±»å‹å±•ç¤ºä¸åŒçš„å­—æ¯ã€‚</p><ul><li><code>HTML</code> æ¨¡æ¿</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;type === &#x27;A&#x27;&quot;</span>&gt;</span> A <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>Vue</code> çš„å®ä¾‹å’Œæ•°æ®</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    data: &#123;</span><br><span class="line">      type: &quot;A&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><ul><li>ç»“æœä¿¡æ¯</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308071608321.png" alt="image-20230807160807290" style="zoom:100%;float:left" /></p><h3 id="v-if-å’Œ-v-show-åŒºåˆ«"><a href="#v-if-å’Œ-v-show-åŒºåˆ«" class="headerlink" title="v-if å’Œ v-show åŒºåˆ«"></a><code>v-if</code> å’Œ <code>v-show</code> åŒºåˆ«</h3><ol><li><p><strong>æ¸²æŸ“æ–¹å¼</strong></p><ul><li><code>v-if</code>ï¼šå½“æ¡ä»¶ä¸º <code>false</code> æ—¶ï¼Œå…ƒç´ ä¸­ä¸ä¼šåœ¨ <code>DOM</code> ä¸­å­˜åœ¨ï¼Œå®ƒä¼šè¢«å®Œå…¨ç§»é™¤ã€‚</li><li><code>v-show</code>ï¼šå½“æ¡ä»¶ä¸º <code>false</code> æ—¶ï¼Œå…ƒç´ ä»ç„¶åœ¨ <code>DOM</code> ä¸­å­˜åœ¨ï¼Œä½†æ˜¯é€šè¿‡CSSæ ·å¼å°†å…¶éšè—ï¼ˆdisplayï¼‰ã€‚</li></ul></li><li><p><strong>æ€§èƒ½å¼€é”€</strong></p><ul><li><code>v-if</code>ï¼šå½“æ¡ä»¶ä¸º <code>true</code> æ—¶ï¼Œ<code>Vue</code> ä¼šé‡æ–°åˆ›å»ºå…ƒç´ å¹¶æ¸²æŸ“ã€‚å½“æ¡ä»¶ä¸º <code>false</code> æ—¶ï¼Œå…ƒç´ ä¸ä¼šè¢«æ¸²æŸ“ã€‚è¿™ä¹Ÿå°±æ˜¯è¯´åªè¦åˆ‡æ¢æ¡ä»¶ï¼Œå…ƒç´ éƒ½éœ€è¦è¢«åˆ›æ–°åˆ›å»ºå’Œé”€æ¯ï¼Œå¦‚æœåˆ‡æ¢é¢‘ç¹è¿™éœ€è¦çš„æ€§èƒ½å¼€é”€å°±æ¯”è¾ƒå¤§äº†ã€‚</li><li><code>v-show</code>ï¼šå½“æ¡ä»¶ä¸ç®¡æ˜¯ <code>true</code> æˆ–è€… <code>false</code> å…ƒç´ éƒ½å·²ç»è¢«æ¸²æŸ“å®Œæˆäº†ï¼Œæ‰€ä»¥å°±ä¸å­˜åœ¨åˆ‡æ¢æ—¶çš„æ€§èƒ½å¼€é”€ã€‚</li></ul></li><li><p><strong>å¦‚ä½•é€‰æ‹©</strong></p><ul><li><p><code>v-if</code>ï¼šå½“æ¡ä»¶ä¸º <code>false</code> æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¸Œæœ›å‡å°‘ç›¸å…³çš„ <code>DOM</code> æ•°é‡ï¼Œé‚£æˆ‘ä»¬ä½¿ç”¨ <code>v-if</code> å°±æ˜¯åˆé€‚çš„ã€‚</p><p>ä¾‹å¦‚å¦‚ä¸‹ä»£ç ä¸­ï¼Œæˆ‘å¸Œæœ›å±•ç¤ºåˆ—è¡¨é¡µæ—¶ï¼Œåˆ é™¤è¯¦æƒ…é¡µçš„é¡µé¢ä¿¡æ¯å‡å°‘è¯·æ±‚æ¬¡æ•°ï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>v-if</code> æ¥å®Œæˆã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;class-style&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ ¹æ®çŠ¶æ€æ¸²æŸ“ä¸åŒç»„ä»¶ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å½“çŠ¶æ€ä¸º &#x27;list&#x27; æ—¶ï¼Œæ˜¾ç¤ºåˆ—è¡¨é¡µ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">list-page</span> <span class="attr">v-if</span>=<span class="string">&quot;status === &#x27;list&#x27;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">list-page</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å½“çŠ¶æ€ä¸º &#x27;detail&#x27; æ—¶ï¼Œæ˜¾ç¤ºè¯¦æƒ…é¡µ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">detail-page</span> <span class="attr">v-else-if</span>=<span class="string">&quot;status === &#x27;detail&#x27;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">detail-page</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">ListPage</span> <span class="keyword">from</span> <span class="string">&#x27;./ListPage.vue&#x27;</span>; <span class="comment">// å¯¼å…¥åˆ—è¡¨é¡µç»„ä»¶</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">DetailPage</span> <span class="keyword">from</span> <span class="string">&#x27;./DetailPage.vue&#x27;</span>; <span class="comment">// å¯¼å…¥è¯¦æƒ…é¡µç»„ä»¶</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">ListPage</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">DetailPage</span></span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">status</span>: <span class="string">&#x27;list&#x27;</span>, <span class="comment">// é»˜è®¤çŠ¶æ€ä¸º &#x27;list&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><code>v-show</code>ï¼šå¦‚æœéœ€è¦é¢‘ç¹åˆ‡æ¢æ—¶ï¼Œè€Œä¸äº§ç”Ÿè¾ƒå¤§çš„æ€§èƒ½å¼€é”€æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ <code>v-show</code>ã€‚</p><p>ä¾‹å¦‚å¦‚ä¸‹ä»£ç ä¸­ï¼Œ å±•å¼€/æ”¶èµ·æ–‡ç« çš„è¯¦ç»†å†…å®¹æ—¶ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; article.title &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;toggleContent(article)&quot;</span>&gt;</span>Toggle Content<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;article.showContent&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123; article.content &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">article</span>: &#123; <span class="attr">title</span>: <span class="string">&#x27;Article&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;Content of Article&#x27;</span>, <span class="attr">showContent</span>: <span class="literal">false</span> &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">toggleContent</span>(<span class="params">article</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      article.<span class="property">showContent</span> = !article.<span class="property">showContent</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li></ol><hr><h2 id="åˆ—è¡¨æ¸²æŸ“"><a href="#åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="åˆ—è¡¨æ¸²æŸ“"></a>åˆ—è¡¨æ¸²æŸ“</h2><blockquote><p>åˆ—è¡¨æ¸²æŸ“ï¼ˆ<code>v-for</code>ï¼‰æ˜¯éå¸¸éå¸¸éå¸¸å¸¸ç”¨çš„ä¸€ä¸ªæŒ‡ä»¤ï¼Œåœ¨å¼€å‘ä¸­ 100% ä¼šä½¿ç”¨åˆ°çš„ä¸€ä¸ªæŒ‡ä»¤ï¼Œç±»ä¼¼äº <code>java</code> ä¸­çš„ <code>for</code> å¾ªç¯ã€‚</p></blockquote><h3 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h3><blockquote><p><code>v-for</code>ï¼šåŸºäºä¸€ä¸ªæ•°ç»„è¿›è¡Œåˆ—è¡¨çš„æ¸²æŸ“ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬çš„ <code>form</code> è¡¨å•å°±ä¸€å®šä¼šä½¿ç”¨åˆ°ã€‚</p></blockquote><ul><li>è¯­æ³•</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;&#123; message &#125; in items&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123; message &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æœ‰ index ç´¢å¼•æ—¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(&#123; message &#125;, index) in items&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123; message &#125;&#125; &#123;&#123; index &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œéœ€è¦å°†æ•°ç»„é‡Œé¢çš„å…ƒç´ å…¨éƒ¨éå†å‡ºæ¥ï¼Œä½¿ç”¨ <code>v-for</code> å®ç°ã€‚</p><ul><li><p><code>HTML</code> æ¨¡æ¿</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">v-for</span>=<span class="string">&quot;item in items&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.message&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123; item.message &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><code>Vue</code> å®ä¾‹å’Œæ•°æ®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">      <span class="attr">items</span>: [</span><br><span class="line">        &#123; <span class="attr">message</span>: <span class="string">&#x27;Foo&#x27;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">message</span>: <span class="string">&#x27;Bar&#x27;</span> &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li><li><p>ç»“æœ</p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308071719211.png" alt="image-20230807171914191" style="zoom:100%;float:left" /></p></li></ul><hr><h2 id="å±æ€§ç»‘å®š"><a href="#å±æ€§ç»‘å®š" class="headerlink" title="å±æ€§ç»‘å®š"></a>å±æ€§ç»‘å®š</h2><blockquote><p>å±æ€§ç»‘å®šï¼šåœ¨å‰ç«¯é¡µé¢ä¸­å¦‚æœéœ€è¦å°†æ•°æ®ç»‘å®šåœ¨ <code>HTML</code> å…ƒç´ æˆ–è€…è¡¨å•çš„å±æ€§ä¸Šæ—¶ï¼Œæˆ‘ä»¬éœ€è¦è¿™äº›å±æ€§ç»‘å®šçš„å€¼å¯ä»¥éšç€æ•°æ®çš„å˜åŒ–è€Œè¿›è¡Œæ›´æ–°ã€‚</p><p>åœ¨å±æ€§ç»‘å®šä¸­ï¼Œå¸¸ç”¨çš„æŒ‡ä»¤æœ‰å¦‚ä¸‹ä¸¤ç§ï¼š</p><ul><li><code>v-bind</code></li><li><code>v-model</code></li></ul></blockquote><h3 id="v-bind"><a href="#v-bind" class="headerlink" title="v-bind"></a>v-bind</h3><blockquote><p><code>v-bind</code>ï¼šç”¨äºå°†æ•°æ®ç»‘å®šåˆ° <strong><code>HTML</code> å…ƒç´ </strong> ä¸Šï¼Œä½¿å±æ€§å€¼å¯ä»¥åŠ¨æ€çš„éšæ•°æ®çš„å˜åŒ–è€Œå˜åŒ–ã€‚ </p><p>å¦‚æœç»‘å®šçš„å€¼æ˜¯ <code>null</code> æˆ–è€… <code>undefined</code>ï¼Œé‚£ä¹ˆè¯¥ attribute å°†ä¼šä»æ¸²æŸ“çš„å…ƒç´ ä¸Šç§»é™¤ã€‚</p></blockquote><ul><li>è¯­æ³•</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:id</span>=<span class="string">&quot;dynamicId&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>å…¶ä¸­ <code>v-bind</code> å¯ä»¥çœç•¥ä¸å†™ï¼Œç›´æ¥ç®€åŒ–ä¸º <code>:</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:id</span>=<span class="string">&quot;dynamicId&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­é’ˆå¯¹ <code>v-bind</code> çš„å…¸å‹ç”¨æ³•åº”è¯¥æ—¶åˆ†é¡µæ¡ï¼Œå¦‚ä¸‹æ˜¯ <a href="https://element-plus.org/zh-CN/component/pagination.html#%E8%AE%BE%E7%BD%AE%E6%9C%80%E5%A4%A7%E9%A1%B5%E7%A0%81%E6%8C%89%E9%92%AE%E6%95%B0"><code>Element-ui</code> åˆ†é¡µæ¡</a> çš„ç”¨æ³•ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308071821319.png" alt="image-20230807182109294" style="zoom:80%;float:left" /></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-pagination</span> <span class="attr">:page-size</span>=<span class="string">&quot;20&quot;</span> <span class="attr">:pager-count</span>=<span class="string">&quot;11&quot;</span> <span class="attr">layout</span>=<span class="string">&quot;prev, pager, next&quot;</span> <span class="attr">:total</span>=<span class="string">&quot;1000&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h3><blockquote><p><code>v-model</code>ï¼šç”¨äºå°†æ•°æ®ç»‘å®šåœ¨ <strong>è¡¨å•å…ƒç´ ï¼ˆæ–‡æœ¬è¾“å…¥æ¡†ã€å¤é€‰æ¡†ã€å•é€‰æŒ‰é’®ç­‰ç­‰ï¼‰</strong> ä¸Šåˆ›å»ºåŒå‘ç»‘å®šæ•°æ®ï¼Œå¯ä»¥å®ç°ç”¨æˆ·çš„è¾“å…¥ä¸æ•°æ®ä¹‹é—´çš„åŒæ­¥ã€‚</p></blockquote><ul><li>è¯­æ³•</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;edit me&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>å‡è®¾æˆ‘ä»¬å°†å¤šä¸ªå¤é€‰æ¡†ç»‘å®šåˆ°åŒä¸€ä¸ªæ•°ç»„</p><ul><li><code>HTML</code> æ¨¡æ¿</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>Checked names: &#123;&#123; checkedNames &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;jack&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Jack&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;checkedNames&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;jack&quot;</span>&gt;</span>Jack<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;john&quot;</span> <span class="attr">value</span>=<span class="string">&quot;John&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;checkedNames&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;john&quot;</span>&gt;</span>John<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;mike&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Mike&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;checkedNames&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;mike&quot;</span>&gt;</span>Mike<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>Vue</code> å®ä¾‹å’Œæ•°æ®</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">checkedNames</span>: []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><ul><li>ç»“æœ</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308072218364.gif" alt="åŠ¨ç”»" style="float:left;" /></p><hr><h2 id="äº‹ä»¶å¤„ç†"><a href="#äº‹ä»¶å¤„ç†" class="headerlink" title="äº‹ä»¶å¤„ç†"></a>äº‹ä»¶å¤„ç†</h2><blockquote><p>äº‹ä»¶å¤„ç†ï¼šåœ¨å‰ç«¯å¼€å‘ä¸­æˆ‘ä»¬æœ‰æ—¶éœ€è¦ç›‘å¬ <code>DOM</code> äº‹ä»¶ï¼Œå¹¶åœ¨è§¦å‘æ—¶æ‰§è¡Œç›¸åº”çš„ <code>JavaScript</code> ä»£ç ï¼Œæ§åˆ¶æ•°æ®çš„å˜åŒ–æˆ–æ‰§è¡Œç‰¹å®šçš„æ“ä½œã€‚</p><p>äº‹ä»¶å¤„ç†çš„å€¼å¯ä»¥æ˜¯å¦‚ä¸‹ä¸¤ç§ï¼š</p><ul><li><strong>å†…è”äº‹ä»¶å¤„ç†å™¨</strong></li><li><strong>æ–¹æ³•äº‹ä»¶å¤„ç†å™¨</strong></li><li><strong>è‡ªå®šä¹‰äº‹ä»¶å¤„ç†å™¨ï¼ˆåé¢åœ¨ç»„å»ºé€šä¿¡æ—¶è®²è§£ï¼‰</strong></li><li>æŒ‰é’®ä¿®é¥°ç¬¦</li></ul></blockquote><ul><li><code>Vue</code> è¯­æ³•</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;handler&quot;</span>&gt;</span> Click Me <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>ç®€å†™ï¼šçœç•¥ <code>v-on:</code> ä¿®æ”¹ä¸º <code>@</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handler&quot;</span>&gt;</span> Click Me <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å†…è”äº‹ä»¶å¤„ç†å™¨"><a href="#å†…è”äº‹ä»¶å¤„ç†å™¨" class="headerlink" title="å†…è”äº‹ä»¶å¤„ç†å™¨"></a>å†…è”äº‹ä»¶å¤„ç†å™¨</h3><blockquote><p>å†…è”äº‹ä»¶å¤„ç†å™¨ï¼šæŒ‡çš„æ˜¯åœ¨ <code>HTML</code> å…ƒç´ ä¸­æŒ‡å®šäº‹ä»¶ç›‘å¬å‡½æ•°ï¼Œç±»ä¼¼äº <code>JavaScript</code> çš„ <code>onclick</code> äº‹ä»¶ã€‚</p></blockquote><p>å‡è®¾æˆ‘ä»¬ç°åœ¨é€šè¿‡ <code>å†…è”äº‹ä»¶å¤„ç†å™¨</code> å®ç°ç‚¹å‡»æŒ‰é’®æ•°å­—<code>ï¼‹1</code></p><ul><li><code>HTML</code> æ¨¡æ¿</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span> Count is: &#123;&#123; count &#125;&#125; <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;count++&quot;</span>&gt;</span>Add 1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>Vue</code> å®ä¾‹å’Œæ•°æ®</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><ul><li>ç»“æœ</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308081152597.gif" alt="åŠ¨ç”»" style="float:left" /></p><h3 id="æ–¹æ³•äº‹ä»¶å¤„ç†å™¨"><a href="#æ–¹æ³•äº‹ä»¶å¤„ç†å™¨" class="headerlink" title="æ–¹æ³•äº‹ä»¶å¤„ç†å™¨"></a>æ–¹æ³•äº‹ä»¶å¤„ç†å™¨</h3><blockquote><p>æ–¹æ³•äº‹ä»¶å¤„ç†å™¨ï¼šå¦‚æœç®€å•çš„æ¡ˆä¾‹å¯ä»¥é€šè¿‡ <code>å†…è”äº‹ä»¶å¤„ç†å™¨</code> è¿›è¡Œè§£å†³ï¼Œä½†ä¸šåŠ¡ä¸€æ—¦å¤æ‚ï¼Œé‚£ä¹ˆ <code>å†…è”äº‹ä»¶å¤„ç†å™¨</code> çš„åŠ£åŠ¿ï¼ˆä¸å¤Ÿçµæ´»ï¼‰å°±å‡ºæ¥äº†ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°†ç‚¹å‡»äº‹ä»¶çš„å¤„ç†é€»è¾‘æå‡ºæ¥æŠ½æˆä¸€ä¸ªæ–¹æ³•ï¼Œå°±å½¢æˆäº† <code>æ–¹æ³•äº‹ä»¶å¤„ç†å™¨</code>ã€‚</p></blockquote><p> å‡è®¾æˆ‘ä»¬ç°åœ¨é€šè¿‡ <code>æ–¹æ³•äº‹ä»¶å¤„ç†å™¨</code> å®ç°ç‚¹å‡»æŒ‰é’®æ•°å­—<code>ï¼‹1</code>ã€‚å¦‚ä¸‹çš„æ¡ˆä¾‹è™½ç„¶å¾ˆç®€å•ï¼Œä½†æ˜¯åç»­æˆ‘ä»¬</p><ul><li><code>HTML</code> æ¨¡æ¿</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span> Count is: &#123;&#123; count &#125;&#125; <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>Add 1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>Vue</code> å®ä¾‹å’Œæ•°æ®</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">      <span class="title function_">add</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">count</span>++</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><ul><li>ç»“æœ</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308081209134.gif" alt="åŠ¨ç”»" style="float:left" /></p><hr><h2 id="è®¡ç®—å±æ€§"><a href="#è®¡ç®—å±æ€§" class="headerlink" title="è®¡ç®—å±æ€§"></a>è®¡ç®—å±æ€§</h2><blockquote><p>è®¡ç®—å±æ€§ï¼šæˆ‘ä»¬åœ¨å¼€å‘ä¸­ï¼Œæ— æ³•é¿å…ä¸¤ä¸ªå±æ€§å‘ç”Ÿè®¡ç®—çš„ï¼Œä¸€æ—¦æŸä¸ªå±æ€§çš„å€¼å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆä»–ä»¬è®¡ç®—å‡ºæ¥çš„ç»“æœä¹Ÿä¸€å®šä¼šå‘ç”Ÿå˜åŒ–ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä½¿ç”¨åˆ°å±æ€§è®¡ç®—äº†ã€‚</p></blockquote><h3 id="computed"><a href="#computed" class="headerlink" title="computed"></a>computed</h3><blockquote><p>computedï¼šå½“å…¶ä¾èµ–çš„å±æ€§çš„å€¼å‘ç”Ÿå˜åŒ–çš„æ—¶ï¼Œè®¡ç®—å±æ€§ä¼šé‡æ–°è®¡ç®—ã€‚</p></blockquote><ul><li>è¯­æ³•</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">   </span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">computed</span>: &#123;</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å‡è®¾æˆ‘ä»¬éœ€è¦åˆ¤æ–­å½“å‰æ•°ç»„çš„æ•°é‡æ˜¯å¦æ˜¾ç¤ºå…ƒç´ ï¼Œä¸ä½¿ç”¨ è®¡ç®—å±æ€§ <code>computed</code></strong></p><ul><li><code>HTML</code> æ¨¡æ¿</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Has published books:<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; author.books.length &gt; 0 ? &#x27;Yes&#x27; : &#x27;No&#x27; &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>Vue</code> å®ä¾‹å’Œæ•°æ®</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">author</span>: &#123;</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&#x27;John Doe&#x27;</span>,</span><br><span class="line">          <span class="attr">books</span>: [</span><br><span class="line">            <span class="string">&#x27;Vue 2 - Advanced Guide&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Vue 3 - Basic Guide&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Vue 4 - The Mystery&#x27;</span></span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><ul><li>ç»“æœ</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308081357460.png" alt="image-20230808135722435" style="float:left" /></p><p><strong>å‡è®¾æˆ‘ä»¬éœ€è¦åˆ¤æ–­å½“å‰æ•°ç»„çš„æ•°é‡æ˜¯å¦æ˜¾ç¤ºå…ƒç´ ï¼Œä½¿ç”¨ è®¡ç®—å±æ€§ <code>computed</code></strong></p><p><strong>è®¡ç®—å±æ€§å¸¦æ¥çš„ä¼˜ç‚¹</strong></p><ul><li>å¤ç”¨æ€§é«˜ï¼šå¦‚æœåœ¨åæœŸæˆ‘ä»¬ä½¿ç”¨ç»„ä»¶å¼€å‘ï¼Œé‚£å°†ä¼šå¯¼è‡´å¤§é‡çš„å†—ä½™ä»£ç ã€‚å¦‚æœä½¿ç”¨ <code>computed</code> æŠŠå¤æ‚çš„é€»è¾‘å°è£…ä¸ºä¸€ä¸ªå±æ€§ï¼Œä½¿æ¨¡æ¿ä¸­çš„ä»£ç æ›´ç®€æ´ã€æ˜“è¯»ã€‚</li><li>æ€§èƒ½æé«˜ï¼š è®¡ç®—å±æ€§å…·æœ‰è‡ªåŠ¨ç¼“å­˜æœºåˆ¶ï¼Œåªæœ‰å½“å…¶ä¾èµ–çš„å“åº”å¼æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—ã€‚</li></ul><p>ä½¿ç”¨ <code>computed</code> ä¿®æ”¹ä¹‹åçš„ä»£ç å¦‚ä¸‹</p><ul><li><code>HTML</code> æ¨¡æ¿</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Has published books:<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; publishedBooksMessage &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>Vue</code> å®ä¾‹å’Œæ•°æ®</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">author</span>: &#123;</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&#x27;John Doe&#x27;</span>,</span><br><span class="line">          <span class="attr">books</span>: [</span><br><span class="line">            <span class="string">&#x27;Vue 2 - Advanced Guide&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Vue 3 - Basic Guide&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Vue 4 - The Mystery&#x27;</span></span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">computed</span>: &#123;</span><br><span class="line">      <span class="comment">// ä¸€ä¸ªè®¡ç®—å±æ€§çš„ getter</span></span><br><span class="line">      publishedBooksMessage () &#123;</span><br><span class="line">        <span class="comment">// `this` æŒ‡å‘å½“å‰ç»„ä»¶å®ä¾‹</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">author</span>.<span class="property">books</span>.<span class="property">length</span> &gt; <span class="number">0</span> ? <span class="string">&#x27;Yes&#x27;</span> : <span class="string">&#x27;No&#x27;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><hr><h2 id="ç›‘å¬å™¨"><a href="#ç›‘å¬å™¨" class="headerlink" title="ç›‘å¬å™¨"></a>ç›‘å¬å™¨</h2><blockquote><p>ç›‘å¬å™¨ï¼šç›‘å¬è§‚å¯ŸæŸä¸ªäº‹ä»¶ï¼ˆç¨‹åºï¼‰å‘ç”Ÿå˜åŒ–æ—¶ï¼Œäº‹ä»¶å‘ç”Ÿè€…ï¼ˆäº‹ä»¶æºï¼‰ å°±ä¼šç»™æ³¨å†Œè¯¥äº‹ä»¶çš„ç›‘å¬è€…ï¼ˆç›‘å¬å™¨ï¼‰å‘é€æ¶ˆæ¯ï¼Œå‘Šè¯‰ç›‘å¬è€…æŸäº›ä¿¡æ¯å·²ç»å‘ç”Ÿå˜åŒ–äº†ã€‚</p></blockquote><h3 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h3><blockquote><p>watchï¼šåœ¨ <code>Vue</code> ä¸­ï¼Œç›‘å¬å™¨é€šå¸¸æŒ‡çš„æ˜¯ <code>watch</code> å»ç›‘å¬å±æ€§æ¥å“åº”æ•°æ®çš„å˜åŒ–ã€‚</p></blockquote><ul><li>æµ…å±‚ç›‘å¬å™¨è¯­æ³•</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">   </span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">watch</span>: &#123;</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ·±å±‚ç›‘å¬å™¨è¯­æ³•</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">watch</span>: &#123;</span><br><span class="line">    <span class="attr">someObject</span>: &#123;</span><br><span class="line">      <span class="title function_">handler</span>(<span class="params">newValue, oldValue</span>) &#123;</span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼šåœ¨åµŒå¥—çš„å˜æ›´ä¸­ï¼Œ</span></span><br><span class="line">        <span class="comment">// åªè¦æ²¡æœ‰æ›¿æ¢å¯¹è±¡æœ¬èº«ï¼Œ</span></span><br><span class="line">        <span class="comment">// é‚£ä¹ˆè¿™é‡Œçš„ `newValue` å’Œ `oldValue` ç›¸åŒ</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">deep</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>â”ç›‘å¬å™¨å’Œè®¡ç®—å±æ€§æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢</strong></p><ul><li><p><strong>å¼‚æ­¥æ“ä½œ</strong>ï¼šå¦‚æœè¯´æˆ‘ä»¬éœ€è¦çš„æ•°æ®å‘ç”Ÿå˜åŒ–éœ€è¦è°ƒç”¨å¤–éƒ¨ <code>API</code> æ—¶ï¼Œä½¿ç”¨è®¡ç®—å±æ€§æ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºè®¡ç®—å±æ€§é‡‡ç”¨çš„æ˜¯åŒæ­¥ï¼Œè€Œç›‘å¬å™¨é‡‡ç”¨çš„å¼‚æ­¥ã€‚</p></li><li><p><strong>ç›‘æ§å¤šä¸ªæ•°æ®å˜åŒ–</strong>ï¼šå¦‚æœè¯´æˆ‘ä»¬éœ€è¦ç›‘å¬å¤šä¸ªæ•°æ®æºå‘ç”Ÿå˜åŒ–ï¼Œå¹¶ä¸”åªè¦å…¶ä¸­ä¸€ä¸ªæ•°æ®å‘ç”Ÿå˜åŒ–æ—¶å°±æ‰§è¡Œæ“ä½œã€‚é‚£ä¹ˆç›‘å¬å™¨æ˜¯æ›´åŠ åˆé€‚çš„ã€‚</p></li></ul><p>å‡è®¾æˆ‘ä»¬ä½¿ç”¨ç›‘å¬å™¨å®ç°ç™»å½•åŠŸèƒ½ï¼Œéœ€æ±‚å¦‚ä¸‹ï¼š</p><ol><li>ç”¨æˆ·åé•¿åº¦å¿…é¡»å¤§äº5</li><li>å¯†ç é•¿åº¦å¿…é¡»å¤§äº8</li><li>ç™»å½•æŒ‰é’®å¿…é¡»æ»¡è¶³ä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶æ‰å¯ä»¥ç™»å½•</li></ol><ul><li><code>HTML</code> æ¨¡æ¿</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Login Form<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      </span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>Username:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;username&quot;</span> /&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>Password:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;password&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> /&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">:disabled</span>=<span class="string">&quot;!isValid&quot;</span>&gt;</span>Login<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>Vue</code>  å®ä¾‹å’Œæ•°æ®</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  new Vue(&#123;</span><br><span class="line">    el: &quot;#app&quot;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        username: &quot;&quot;,</span><br><span class="line">        password: &quot;&quot;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line">      isValid() &#123;</span><br><span class="line">        return this.username.length &gt;= 5 &amp;&amp; this.password.length &gt;= 8;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    watch: &#123;</span><br><span class="line">      username(newValue, oldValue) &#123;</span><br><span class="line">        console.log(`Username changed from $&#123;oldValue&#125; to $&#123;newValue&#125;`);</span><br><span class="line">      &#125;,</span><br><span class="line">      password(newValue, oldValue) &#123;</span><br><span class="line">        console.log(`Password changed from $&#123;oldValue&#125; to $&#123;newValue&#125;`);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><ul><li>ç»“æœ</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308081554548.gif" alt="åŠ¨ç”»"></p><hr><h2 id="Class-ä¸-Style-ç»‘å®š"><a href="#Class-ä¸-Style-ç»‘å®š" class="headerlink" title="Class ä¸ Style ç»‘å®š"></a>Class ä¸ Style ç»‘å®š</h2><blockquote><p><strong>Class</strong> ä¸ <strong>Style</strong> ç»‘å®šï¼šæŒ‡çš„æ˜¯å°† <code>HTML</code> å…ƒç´ çš„æ ·å¼ä¸ <code>CSS</code> ç±»è¿›è¡Œè”åŠ¨çš„è¿‡ç¨‹ã€‚</p></blockquote><h3 id="Class-ç»‘å®š"><a href="#Class-ç»‘å®š" class="headerlink" title="Class ç»‘å®š"></a><code>Class</code> ç»‘å®š</h3><blockquote><p>é€šè¿‡ä¸º HTML å…ƒç´ æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªç±»åï¼Œä½ å¯ä»¥å°†å…ƒç´ ä¸é¢„å®šä¹‰çš„ <code>CSS</code> æ ·å¼è§„åˆ™å…³è”èµ·æ¥ã€‚</p></blockquote><ul><li><code>HTML</code> æ¨¡æ¿</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box red-border&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>CSS</code> æ ·å¼</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: lightgray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.red-border</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Style-ç»‘å®š"><a href="#Style-ç»‘å®š" class="headerlink" title="Style ç»‘å®š"></a><code>Style</code> ç»‘å®š</h3><blockquote><p>å†…è”æ ·å¼æ˜¯ç›´æ¥åœ¨ HTML å…ƒç´ ä¸­ä½¿ç”¨ <code>style</code> å±æ€§æ¥å®šä¹‰æ ·å¼ã€‚</p></blockquote><ul><li><code>HTML</code> æ¨¡æ¿</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width: 100px; height: 100px; background-color: lightgray;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å†…è”æ ·å¼è™½ç„¶çµæ´»ï¼Œä½†é€šå¸¸ä¸æ¨èåœ¨å¤§è§„æ¨¡é¡¹ç›®ä¸­é¢‘ç¹ä½¿ç”¨ï¼Œå› ä¸ºå®ƒå®¹æ˜“å¯¼è‡´ä»£ç æ··ä¹±ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚</p><h3 id="Vue-ç»‘å®š-class"><a href="#Vue-ç»‘å®š-class" class="headerlink" title="Vue ç»‘å®š  class"></a><code>Vue</code> ç»‘å®š  <code>class</code></h3><blockquote><p>å±æ€§ç»‘å®šçš„ä¸€ä¸ªå¸¸è§éœ€æ±‚åœºæ™¯æ˜¯æ“çºµå…ƒç´ çš„ <code>CSS class</code> åˆ—è¡¨å’Œå†…è”æ ·å¼ï¼Œè¿™ä¸ªéœ€æ±‚æ˜¯éå¸¸å¸¸è§çš„ã€‚ä¾‹å¦‚æˆ‘ä»¬éœ€è¦é€šè¿‡æŒ‰é’®æ§åˆ¶è¡¨å•æ˜¯éœ€è¦ç¼–è¾‘è¿˜æ˜¯ä¿å­˜ã€‚</p></blockquote><ul><li>è¯­æ³•</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">&quot;&#123; active: isActive &#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å‡è®¾æˆ‘ä»¬é€šè¿‡æŒ‰é’®æ§åˆ¶å­—ä½“çš„æ ·å¼</p><ul><li><code>HTML</code> æ¨¡æ¿</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;toggleStatus(task)&quot;</span>&gt;</span>Toggle Status<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">&quot;&#123; active: isActive, &#x27;text-danger&#x27;: hasError &#125;&quot;</span>&gt;</span>Dynamic Class Binding<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>Vue</code> å®ä¾‹å’Œæ•°æ®</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  new Vue(&#123;</span><br><span class="line">    el: &quot;#app&quot;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        isActive: false,</span><br><span class="line">        hasError: false</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      toggleStatus() &#123;</span><br><span class="line">        this.isActive = !this.isActive</span><br><span class="line">        this.hasError = !this.hasError</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><ul><li><code>css</code> æ ·å¼</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  <span class="selector-class">.active</span> &#123;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.text-danger</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><ul><li>ç»“æœ</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308082113970.gif" alt="åŠ¨ç”»"></p><p>å¦‚ä¸‹ä»£ç è¿˜å¯ä»¥æ”¹å†™ä¸ºå¦‚ä¸‹æ ·å¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;toggleStatus(task)&quot;</span>&gt;</span>Toggle Status<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">&quot;classObject&quot;</span>&gt;</span>Dynamic Class Binding<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">isActive</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">hasError</span>: <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">      &#125;;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">classObject</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">active</span>: <span class="variable language_">this</span>.<span class="property">isActive</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="string">&#x27;text-danger&#x27;</span>: <span class="variable language_">this</span>.<span class="property">hasError</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">toggleStatus</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">isActive</span> = !<span class="variable language_">this</span>.<span class="property">isActive</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">hasError</span> = !<span class="variable language_">this</span>.<span class="property">hasError</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="ä»»åŠ¡æ¸…å•-æ¡ˆä¾‹"><a href="#ä»»åŠ¡æ¸…å•-æ¡ˆä¾‹" class="headerlink" title="ä»»åŠ¡æ¸…å•-æ¡ˆä¾‹"></a>ä»»åŠ¡æ¸…å•-æ¡ˆä¾‹</h2><p>éœ€æ±‚å¦‚ä¸‹</p><ol><li>é€šè¿‡è¾“å…¥æ¡†è¾“å…¥ä»»åŠ¡ç‚¹ï¼Œæ·»åŠ åˆ°ä»»åŠ¡åˆ—è¡¨ä¸­ï¼›</li><li>åœ¨æ·»åŠ çš„ä»»åŠ¡ç‚¹é€šè¿‡æŒ‰é’®å®ç°ä»»åŠ¡æ˜¯å¦å®Œæˆä»¥åŠåˆ é™¤ä»»åŠ¡ç‚¹ï¼›</li><li>ç»Ÿè®¡å·²ç»å®Œæˆçš„ä»»åŠ¡æ•°é‡</li><li>éœ€è¦å°†ä»»åŠ¡åˆ—è¡¨æ·»åŠ è¿›ç¼“å­˜ï¼Œå®ç°å…³é—­æµè§ˆå™¨ä¹Ÿå¯ä»¥å±•ç¤ºä»»åŠ¡æ¸…å•åˆ—è¡¨</li></ol><p>æ•ˆæœå›¾å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308082346330.gif" alt="åŠ¨ç”»" style="float:left"/></p><ol><li><p><strong>å®ç°å‰ç«¯é¡µé¢</strong></p><ul><li><code>HTML</code> å‰ç«¯é¡µé¢</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Todo ä»»åŠ¡æ¸…å•<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;å›è½¦æ·»åŠ ä»»åŠ¡æ¸…å•&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span> ä»»åŠ¡ç‚¹ <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span> æ˜¯å¦å®Œæˆ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span> åˆ é™¤ä»»åŠ¡ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å·²ç»å®Œæˆçš„ä»»åŠ¡æ•°é‡ï¼š0<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>é€šè¿‡è¾“å…¥æ¡†è¾“å…¥ä»»åŠ¡ç‚¹ï¼Œæ·»åŠ åˆ°ä»»åŠ¡åˆ—è¡¨ä¸­</strong></p><ul><li><code>HTML</code> å‰ç«¯é¡µé¢</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Todo ä»»åŠ¡æ¸…å•<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;addTask&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;newTask&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;å›è½¦æ·»åŠ ä»»åŠ¡æ¸…å•&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">v-for</span>=<span class="string">&quot;(task , index) in taskList&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span> &#123;&#123; task.task &#125;&#125; <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span> æ˜¯å¦å®Œæˆ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span> åˆ é™¤ä»»åŠ¡ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å·²ç»å®Œæˆçš„ä»»åŠ¡æ•°é‡ï¼š0<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>Vue</code> å®ä¾‹å’Œæ•°æ®</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">newTask</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">taskList</span>: []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">      <span class="comment">// æ·»åŠ ä»»åŠ¡ç‚¹</span></span><br><span class="line">      <span class="title function_">addTask</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">newTask</span>.<span class="title function_">trim</span>() !== <span class="string">&#x27;&#x27;</span>)&#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">taskList</span>.<span class="title function_">push</span>(&#123;<span class="attr">task</span>: <span class="variable language_">this</span>.<span class="property">newTask</span>&#125;);</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">newTask</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><ul><li>ç»“æœ</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308090048518.gif" alt="åŠ¨ç”»" style="float:left" /></p></li><li><p><strong>åœ¨æ·»åŠ çš„ä»»åŠ¡ç‚¹é€šè¿‡æŒ‰é’®å®ç°ä»»åŠ¡ æ˜¯å¦å®Œæˆ ä»¥åŠ åˆ é™¤ä»»åŠ¡ </strong></p><ul><li><code>HTML</code> å‰ç«¯é¡µé¢</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Todo ä»»åŠ¡æ¸…å•<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;addTask&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;newTask&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;å›è½¦æ·»åŠ ä»»åŠ¡æ¸…å•&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">v-for</span>=<span class="string">&quot;(task , index) in taskList&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">:class</span>=<span class="string">&quot;&#123; active: task.isActive &#125;&quot;</span>&gt;</span> &#123;&#123; task.task &#125;&#125; <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;completedTask(task)&quot;</span>&gt;</span>æ˜¯å¦å®Œæˆ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;removeTask(index)&quot;</span>&gt;</span>åˆ é™¤ä»»åŠ¡<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å·²ç»å®Œæˆçš„ä»»åŠ¡æ•°é‡ï¼š0<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>CSS</code> æ ·å¼</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  <span class="selector-class">.active</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: green;</span><br><span class="line">    <span class="attribute">text-decoration</span>: line-through;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><code>Vue</code> å®ä¾‹å’Œæ•°æ®</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">newTask</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">taskList</span>: []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">      <span class="comment">// æ·»åŠ ä»»åŠ¡ç‚¹</span></span><br><span class="line">      <span class="title function_">addTask</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">newTask</span>.<span class="title function_">trim</span>() !== <span class="string">&#x27;&#x27;</span>)&#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">taskList</span>.<span class="title function_">push</span>(&#123;<span class="attr">task</span>: <span class="variable language_">this</span>.<span class="property">newTask</span>, <span class="attr">isActive</span>: <span class="literal">false</span>&#125;);</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">newTask</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// æ˜¯å¦å®Œæˆ</span></span><br><span class="line">      <span class="title function_">completedTask</span>(<span class="params">task</span>) &#123;</span><br><span class="line">        task.<span class="property">isActive</span> = !task.<span class="property">isActive</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// åˆ é™¤ä»»åŠ¡</span></span><br><span class="line">      <span class="title function_">removeTask</span>(<span class="params">index</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">taskList</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><ul><li><p>ç»“æœ</p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308090055891.gif" alt="åŠ¨ç”»" style="float:left"/></p></li></ul></li><li><p><strong>ç»Ÿè®¡å·²ç»å®Œæˆçš„ä»»åŠ¡æ•°é‡</strong></p><ul><li><code>HTML</code> æ¨¡æ¿</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Todo ä»»åŠ¡æ¸…å•<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;addTask&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;newTask&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;å›è½¦æ·»åŠ ä»»åŠ¡æ¸…å•&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">v-for</span>=<span class="string">&quot;(task , index) in taskList&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">:class</span>=<span class="string">&quot;&#123; active: task.isActive &#125;&quot;</span>&gt;</span> &#123;&#123; task.task &#125;&#125; <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;completedTask(task)&quot;</span>&gt;</span>æ˜¯å¦å®Œæˆ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;removeTask(index)&quot;</span>&gt;</span>åˆ é™¤ä»»åŠ¡<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å·²ç»å®Œæˆçš„ä»»åŠ¡æ•°é‡ï¼š&#123;&#123; finishedTotal &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>Vue</code> å®ä¾‹å’Œæ•°æ®</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">    <span class="comment">// å±æ€§è®¡ç®—</span></span><br><span class="line">    <span class="attr">computed</span>: &#123;</span><br><span class="line">      <span class="title function_">finishedTotal</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">taskList</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">isActive</span>).<span class="property">length</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><ul><li>ç»“æœ</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308082346330.gif" alt="åŠ¨ç”»" style="float:left"/></p></li><li><p><strong>éœ€è¦å°†ä»»åŠ¡åˆ—è¡¨æ·»åŠ è¿›ç¼“å­˜ï¼Œå®ç°å…³é—­æµè§ˆå™¨ä¹Ÿå¯ä»¥å±•ç¤ºä»»åŠ¡æ¸…å•åˆ—è¡¨</strong></p><ul><li><code>Vue</code> å®ä¾‹å’Œæ•°æ®</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  new Vue(&#123;</span><br><span class="line">    el: &quot;#app&quot;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        newTask: &#x27;&#x27;,</span><br><span class="line">        taskList: []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // ç›‘å¬æ•°ç»„</span><br><span class="line">    watch: &#123;</span><br><span class="line">      taskList: &#123;</span><br><span class="line">        handler(newTaskList, oldTaskList) &#123;</span><br><span class="line">          localStorage.setItem(&#x27;taskList&#x27;, JSON.stringify(newTaskList));</span><br><span class="line">        &#125;,</span><br><span class="line">        deep: true</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // åœ¨ç”Ÿå‘½å‘¨æœŸä¸­ä¼šè®²åˆ° created</span><br><span class="line">    created() &#123;</span><br><span class="line">        const storedTasks = JSON.parse(localStorage.getItem(&quot;taskList&quot;));</span><br><span class="line">        if (storedTasks) &#123;</span><br><span class="line">          this.taskList = storedTasks;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><ul><li>ç»“æœ</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202308090121139.gif" alt="åŠ¨ç”»"></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯æ¡†æ¶ </category>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue-åŸºç¡€æ¦‚å¿µï¼ˆä¸€ï¼‰</title>
      <link href="/posts/1b94845f.html"/>
      <url>/posts/1b94845f.html</url>
      
        <content type="html"><![CDATA[<h2 id="â”Vueæ˜¯ä»€ä¹ˆ"><a href="#â”Vueæ˜¯ä»€ä¹ˆ" class="headerlink" title="â”Vueæ˜¯ä»€ä¹ˆ"></a>â”<code>Vue</code>æ˜¯ä»€ä¹ˆ</h2><div class="note success simple"><p><code>Vue</code> æ˜¯ä¸€ä¸ªå¼€æºçš„ <code>MVVM</code> å‰ç«¯ <code>JavaScript</code> æ¡†æ¶ï¼Œç”¨äºåœ¨ <code>Web</code> ä¸Šç”Ÿæˆç”¨æˆ·ç•Œé¢å’Œå•é¡µåº”ç”¨ç¨‹åºã€‚</p></div><p>é€šè¿‡ å¯¹æ¯” <code>MVC</code> æ¶æ„å’Œ <code>MVVM</code> æ¶æ„ï¼Œå¯ä»¥æ˜æ˜¾çœ‹åˆ°ä½¿ç”¨ <code>Vue</code> ä¹‹åçš„åŒºåˆ«</p><p><strong><code>MVC</code> æ¶æ„ï¼š ä»¥ JSP ï¼ŒJQuery ä¸ºä»£è¡¨çš„ä¸€ç³»åˆ—æ¶æ„</strong></p><blockquote><p>Mï¼šModelï¼ˆæ¨¡å‹ï¼‰ï¼Œè´Ÿè´£å­˜å‚¨æ•°æ®å’Œåº”ç”¨ç¨‹åºé€»è¾‘ã€‚</p><p> Vï¼šViewï¼ˆè§†å›¾ï¼‰ï¼Œè´Ÿè´£æ˜¾ç¤ºæ•°æ®å’Œç”¨æˆ·ç•Œé¢ã€‚</p><p> Cï¼šControllerï¼ˆæ§åˆ¶å™¨ï¼‰ï¼Œè´Ÿè´£å¤„ç†ç”¨æˆ·è¾“å…¥å’Œåº”ç”¨ç¨‹åºé€»è¾‘ã€‚</p></blockquote><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9ibG9naW1hZ2UtMTI1NTYxODU5Mi5jb3MuYXAtY2hlbmdkdS5teXFjbG91ZC5jb20vaW1nMjAyMDAzMTgyMDQ4NDMucG5n" alt="MVCä¸ä¸‰å±‚æ¶æ„ç†è§£ - å…¨æ ˆç¨‹åºå‘˜å¿…çœ‹" style="zoom:50%;float:left" /></p><p><strong><code>MVVM</code> æ¶æ„ï¼šä»¥ Vueã€Angularã€Reactä¸ºä»£è¡¨çš„ä¸€ç³»åˆ—æ¡†æ¶</strong></p><blockquote><p><code>MVVM (Model-View-ViewModel)</code> æ¶æ„æ˜¯ä»¥ <code>MVP (Model-View-Presenter)</code> æ¼”è¿›è€Œæ¥ï¼Œå¯ä»¥ç†è§£ä¸º <code>MVC</code> çš„å¢å¼ºç‰ˆï¼Œå…¶ä¸­çš„ <code>Presenter</code> å˜ä¸ºäº† <code>ViewModel</code>ã€‚</p><p>Mï¼šModelï¼ˆæ¨¡å‹ï¼‰ï¼Œè´Ÿè´£å­˜å‚¨æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ã€‚</p><p> Vï¼šViewï¼ˆè§†å›¾ï¼‰ï¼Œè´Ÿè´£ç”¨æˆ·ç•Œé¢çš„æ˜¾ç¤ºã€‚</p><p>VMï¼šViewModelï¼ˆè§†å›¾æ¨¡å‹ï¼‰ï¼Œ MVVM çš„æ ¸å¿ƒï¼Œå®ƒè´Ÿè´£å°†è§†å›¾ä¸æ¨¡å‹ä¹‹é—´çš„é€šä¿¡å’Œæ•°æ®ç»‘å®šï¼Œå³åŒå‘ç»‘å®šã€‚</p></blockquote><p><img src="https://pic4.zhimg.com/80/edd0080fb145315fbc96164c219fee7e_hd.jpg" alt="vue-mvvmè®¾è®¡æ¨¡å¼" style="zoom:50%;float:left" /></p><h2 id="ğŸ’¡Vue-è§£å†³äº†å“ªäº›é—®é¢˜"><a href="#ğŸ’¡Vue-è§£å†³äº†å“ªäº›é—®é¢˜" class="headerlink" title="ğŸ’¡Vue è§£å†³äº†å“ªäº›é—®é¢˜"></a>ğŸ’¡<code>Vue</code> è§£å†³äº†å“ªäº›é—®é¢˜</h2><blockquote><p>å‚è€ƒåšæ–‡ï¼š<a href="https://cn.vuejs.org/guide/introduction.html#api-styles">ç®€ä»‹ | Vue.js (vuejs.org)</a></p></blockquote><ul><li>è§£å†³äº†æ•°æ®ä¸è§†å›¾çš„åŒæ­¥æ›´æ–°ã€‚</li><li><p>è§£å†³äº†å¤æ‚ <code>DOM</code> æ“ä½œ</p><ul><li>ä¹‹å‰é€šè¿‡ <code>JQuery</code> æ—¶æˆ‘ä»¬éœ€è¦è·å– <code>DOM</code> ï¼ŒVue.js é‡‡ç”¨è™šæ‹ŸDOMæ¥ä»£æ›¿ç›´æ¥æ“ä½œçœŸå®DOMï¼Œé€šè¿‡æ¯”è¾ƒè™šæ‹ŸDOMçš„å·®å¼‚ï¼Œæœ€å°åŒ–DOMæ“ä½œï¼Œä»è€Œæé«˜äº†æ€§èƒ½ï¼Œå¹¶è§£å†³äº†å¤æ‚çš„DOMæ“ä½œé—®é¢˜ã€‚</li></ul></li><li><p>è§£å†³äº†ç»„ä»¶åŒ–å¼€å‘å›°éš¾</p><ul><li>Vue.jsæ”¯æŒç»„ä»¶åŒ–å¼€å‘ï¼Œå®ƒå°†åº”ç”¨åˆ’åˆ†ä¸ºå¤šä¸ªç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶å…·æœ‰ç‹¬ç«‹çš„é€»è¾‘å’Œè§†å›¾ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªè¡¨å•çš„ <code>CRUD</code> æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸åŒçš„ç»„ä»¶è¿›è¡Œå¼€å‘ï¼Œç„¶ååœ¨å¼•å…¥ã€‚</li></ul></li><li><p>è§£å†³äº†ä»£ç å¯ç»´æŠ¤æ€§å·®</p><ul><li><code>LayUI</code> å¼€å‘çš„ä¸€ä¸ªè¡¨å•ä¸­å¯èƒ½ æ‰€æœ‰çš„ <code>CURD</code> åŸºæœ¬ä¸Šéƒ½åœ¨ä¸€ä¸ª html ä¸­å®Œæˆï¼Œå¹¶æ²¡æœ‰å®ç°æ¨¡å—åŒ–å¼€å‘ï¼Œå¯¼è‡´è€¦åˆåº¦é«˜ï¼Œä¸å®œç»´æŠ¤ã€‚</li><li><code>Vue</code> å°±è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å°†ä¸€ä¸ªéœ€æ±‚æ‹†åˆ†ä¸ºå¤šä¸ªæ¨¡å—è¿›è¡Œå¼€å‘å’Œç»´æŠ¤ã€‚</li></ul></li></ul><h2 id="ğŸ› ï¸Vue-å¿«é€Ÿä¸Šæ‰‹"><a href="#ğŸ› ï¸Vue-å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="ğŸ› ï¸Vue å¿«é€Ÿä¸Šæ‰‹"></a>ğŸ› ï¸<code>Vue</code> å¿«é€Ÿä¸Šæ‰‹</h2><p>å¦‚ä¸‹æ˜¯å®˜ç½‘æä¾›çš„ <code>Vue</code> <a href="https://play.vuejs.org/#eNo9jcEKwjAMhl/lt5fpQYfXUQfefAMvvRQbddC1pUuHUPrudg4HIcmXjyRZXEM4zYlEJ+T0iEPgXjn6BB8Zhp46WUZWDjCa9f6w9kAkTtH9CRinV4fmRtZ63H20Ztesqiylphqy3R5UYBqD1UyVAPk+9zkvV1CKbCv9poMLiTEfR2/IXpSoXomqZLtti/IFwVtA9A==">å¿«é€Ÿä¸Šæ‰‹</a> æ¡ˆä¾‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line">è·Ÿ Vue è¯´ Hello Worldï¼</span><br><span class="line">--&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      message: &#x27;Hello World!&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;&#123;&#123; message &#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>ä»¥ <code>MVVM</code> æ¶æ„è¿›è¡Œè§£é‡Šè¯´æ˜</p><p><strong>Viewï¼ˆè§†å›¾ï¼‰</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;&#123;&#123; message &#125;&#125;&lt;/h1&gt;</span><br></pre></td></tr></table></figure><p><strong>ViewModelï¼ˆè§†å›¾æ¨¡å‹ï¼‰</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">// TODO</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Modelï¼ˆæ¨¡å‹ï¼‰</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      message: &#x27;Hello World!&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯æ¡†æ¶ </category>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue-å‰è¨€</title>
      <link href="/posts/120eec8d.html"/>
      <url>/posts/120eec8d.html</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸ»â€â„ï¸-å†™ä½œç›®çš„"><a href="#ğŸ»â€â„ï¸-å†™ä½œç›®çš„" class="headerlink" title="ğŸ»â€â„ï¸ å†™ä½œç›®çš„"></a>ğŸ»â€â„ï¸ å†™ä½œç›®çš„</h2><blockquote><p>ç›®å‰å¤§éƒ¨åˆ†å…¬å¸ä½¿ç”¨çš„å‰ç«¯æ¡†æ¶éƒ½æ˜¯åŸºäº <code>VUE</code> è¿›è¡Œå¼€å‘çš„ï¼Œä½œä¸ºåç«¯å·¥ç¨‹å¸ˆä¹Ÿæ˜¯éœ€è¦æŒæ¡ <code>VUE</code> çš„ç›¸å…³çŸ¥è¯†ï¼Œåšéƒ¨åˆ†ç®€å•çš„å¼€å‘ã€‚æ‰€ä»¥æœ¬æ–‡æœ¬ä»¥ <code>Vue2.x</code> ç‰ˆæœ¬ ä½œä¸ºä¸€ä¸ªå¤‡å¿˜å½•ã€‚</p></blockquote><p>ç›®å‰å¤§éƒ¨åˆ†å…¬å¸å‰åç«¯å¼€å‘å·¥ç¨‹å¸ˆçš„æ¨¡å¼å¦‚ä¸‹ï¼š</p><ul><li>å‰ç«¯å·¥ç¨‹å¸ˆï¼šä¸»è¦è´Ÿè´£ç³»ç»Ÿå…¨å±€ <code>UI</code> ç»„ä»¶ã€æ ¸å¿ƒç»„ä»¶ã€ç§»åŠ¨ç«¯å¼€å‘ã€‚</li><li>åç«¯å·¥ç¨‹å¸ˆï¼šä¸»è¦è´Ÿè´£åå°æ¥å£ã€æ•°æ®åº“ã€æœåŠ¡å™¨çš„è¿ç»´ä¸å¼€å‘ï¼Œä½†ä¹Ÿéœ€è¦åšéƒ¨åˆ†å‰ç«¯å·¥ä½œï¼Œä¾‹å¦‚ç®€å•è¡¨å•çš„ <code>CRUD</code> å¼€å‘ã€‚</li></ul><h2 id="ğŸ˜˜-å†™ä½œæ–¹å¼"><a href="#ğŸ˜˜-å†™ä½œæ–¹å¼" class="headerlink" title="ğŸ˜˜ å†™ä½œæ–¹å¼"></a>ğŸ˜˜ å†™ä½œæ–¹å¼</h2><blockquote><p>æœ¬æ–‡ä¸»è¦ä»¥éœ€æ±‚æ¨åŠ¨ç›¸å…³æŠ€æœ¯çš„å­¦ä¹ ï¼Œå› ä¸ºè¿™æ ·å­¦ä¹ é€Ÿåº¦æœ€å¿«ã€‚</p></blockquote><p>é€šå¸¸ï¼Œåœ¨å…¬å¸é‡Œï¼Œæˆ‘ä»¬ç›´æ¥æ”¶åˆ°éœ€æ±‚åï¼Œä¼šåœ¨ç°æœ‰ç³»ç»Ÿçš„åŸºç¡€ä¸Šè¿›è¡Œå¼€å‘ã€‚è¿™æ¶‰åŠåˆ°å¾ˆå¤šçŸ¥è¯†ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦å°†è¿™äº›çŸ¥è¯†ç‚¹èåˆï¼Œé€ä¸€å‡»ç ´ã€‚</p><h2 id="ğŸƒ-å†™ä½œé£æ ¼"><a href="#ğŸƒ-å†™ä½œé£æ ¼" class="headerlink" title="ğŸƒ å†™ä½œé£æ ¼"></a>ğŸƒ å†™ä½œé£æ ¼</h2><ul><li><p>Whatï¼šä»‹ç»ç›¸å…³çŸ¥è¯†ç‚¹æ˜¯ä»€ä¹ˆã€‚</p></li><li><p>Whyï¼šé˜è¿°è¯¥çŸ¥è¯†ç‚¹è§£å†³äº†å“ªäº›é—®é¢˜ã€‚</p></li><li><p>Howï¼šä½¿ç”¨ç›¸å…³æ¡ˆä¾‹æ¥è§£å†³é—®é¢˜ã€‚</p></li></ul><h2 id="ğŸ“‡-å†™ä½œå¤§çº²"><a href="#ğŸ“‡-å†™ä½œå¤§çº²" class="headerlink" title="ğŸ“‡ å†™ä½œå¤§çº²"></a>ğŸ“‡ å†™ä½œå¤§çº²</h2><ul><li><p><a href="https://wickson.top/2023/07/10/Vue/Vue%20-%20%E5%89%8D%E8%A8%80/"><code>Vue</code> - å‰è¨€</a></p></li><li><p><a href="https://wickson.top/2023/07/11/Vue/Vue-%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%EF%BC%88%E4%B8%80%EF%BC%89/"><code>Vue</code> - åŸºç¡€æ¦‚å¿µï¼ˆä¸€ï¼‰</a></p></li><li><code>Vue</code> - åŸºç¡€è¯­æ³•ï¼ˆäºŒï¼‰</li><li><code>Vue</code> - ç”Ÿå‘½å‘¨æœŸï¼ˆä¸‰ï¼‰</li><li><code>Vue</code> - ç»„ä»¶å¼€å‘ï¼ˆå››ï¼‰</li><li><code>Vue</code> - è·¯ç”±å®ˆå«ï¼ˆäº”ï¼‰</li><li><code>Vue</code> - å®æˆ˜æ¡ˆä¾‹ï¼ˆå…­ï¼‰</li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯æ¡†æ¶ </category>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL-äº‹åŠ¡ï¼ˆå››ï¼‰</title>
      <link href="/posts/698c9247.html"/>
      <url>/posts/698c9247.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>æœ¬æ–‡ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><ul><li>ç¬¬ä¸€ä¸ªéƒ¨åˆ†ä¸º <code>MySQL</code> äº‹åŠ¡çš„ç‰¹æ€§ï¼›</li><li>ç¬¬äºŒä¸ªéƒ¨åˆ†ä¸º <code>MySQL</code> äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼›</li><li>ç¬¬ä¸‰ä¸ªéƒ¨åˆ†ä¸º <code>MySQL</code> å¸¸è§é”æœºåˆ¶ï¼›</li><li>ç¬¬å››ä¸ªéƒ¨åˆ†ä¸ºå…·ä½“çš„å®è·µæ¡ˆä¾‹ã€‚</li></ul></blockquote><h2 id="ğŸ’¡é—®é¢˜æ€è€ƒ"><a href="#ğŸ’¡é—®é¢˜æ€è€ƒ" class="headerlink" title="ğŸ’¡é—®é¢˜æ€è€ƒ"></a>ğŸ’¡é—®é¢˜æ€è€ƒ</h2><ol><li><p><strong><code>MySQL</code> äº‹åŠ¡æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p><ul><li><code>MySQL</code> äº‹åŠ¡æ˜¯æŒ‡ä¸€ç»„ <code>SQL</code> è¯­å¥ï¼Œå®ƒä»¬è¢«å½“æˆä¸€ä¸ªå•ç‹¬çš„å·¥ä½œå•å…ƒï¼Œ è¦ä¹ˆå…¨éƒ¨æ‰§è¡ŒæˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">å‡è®¾ä½ æœ‰ä¸€ä¸ªé“¶è¡Œè´¦æˆ·ï¼Œä½ è¦å‘å¦ä¸€ä¸ªè´¦æˆ·è½¬è´¦ 1000 å…ƒã€‚</span><br><span class="line">è¿™ä¸ªæ“ä½œæ¶‰åŠåˆ°ä¸¤ä¸ª SQL è¯­å¥ï¼šä¸€ä¸ªæ˜¯ä»ä½ çš„è´¦æˆ·æ‰£é™¤ 1000 å…ƒï¼Œå¦ä¸€ä¸ªæ˜¯ç»™å¯¹æ–¹çš„è´¦æˆ·å¢åŠ  1000 å…ƒã€‚</span><br><span class="line">å¦‚æœä½ ä¸ä½¿ç”¨äº‹åŠ¡ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µï¼š</span><br><span class="line">1. ç¬¬ä¸€ä¸ª SQL è¯­å¥æ‰§è¡ŒæˆåŠŸï¼Œä½†æ˜¯ç¬¬äºŒä¸ª SQL è¯­å¥æ‰§è¡Œå¤±è´¥ï¼Œå¯¼è‡´ä½ çš„é’±å°‘äº† 1000 å…ƒï¼Œä½†æ˜¯å¯¹æ–¹æ²¡æœ‰æ”¶åˆ°ã€‚</span><br><span class="line">2. ç¬¬ä¸€ä¸ª SQL è¯­å¥æ‰§è¡Œå¤±è´¥ï¼Œä½†æ˜¯ç¬¬äºŒä¸ª SQL è¯­å¥æ‰§è¡ŒæˆåŠŸï¼Œå¯¼è‡´ä½ çš„é’±æ²¡æœ‰å˜åŒ–ï¼Œä½†æ˜¯å¯¹æ–¹å¤šäº† 1000 å…ƒã€‚</span><br><span class="line">3. ç¬¬ä¸€ä¸ª SQL è¯­å¥æ‰§è¡ŒæˆåŠŸï¼Œä½†æ˜¯åœ¨ç¬¬äºŒä¸ª SQL è¯­å¥æ‰§è¡Œä¹‹å‰ï¼Œæœ‰å…¶ä»–äººæŸ¥è¯¢äº†ä½ æˆ–å¯¹æ–¹çš„è´¦æˆ·ä½™é¢ï¼Œçœ‹åˆ°äº†ä¸æ­£ç¡®çš„æ•°æ®ã€‚</span><br><span class="line">è¿™äº›æƒ…å†µéƒ½ä¼šé€ æˆæ•°æ®çš„ä¸ä¸€è‡´å’Œä¸å®Œæ•´ã€‚å¦‚æœä½ ä½¿ç”¨äº‹åŠ¡ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä¿è¯ä¸¤ä¸ª SQL è¯­å¥è¦ä¹ˆéƒ½æ‰§è¡ŒæˆåŠŸï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œã€‚</span><br></pre></td></tr></table></figure></li><li><p><strong><code>MySQL</code> äº‹åŠ¡è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</strong></p><ul><li><p>é’ˆå¯¹ä¸Šè¯‰é—®é¢˜ï¼Œäº‹åŠ¡æœ€å°‘æ˜¯éœ€è¦æ»¡è¶³ä¸€è‡´æ€§å’Œéš”ç¦»æ€§ã€‚</p></li><li><p><strong>è„è¯»</strong>ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®ï¼Œ<strong>ä¸ç¬¦åˆä¸€è‡´æ€§</strong>ã€‚</p></li><li><strong>ä¸å¯é‡å¤è¯»</strong>ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å¦ä¸€ä¸ªäº‹åŠ¡å·²ç»æäº¤çš„ <code>update</code> æ“ä½œçš„æ•°æ®ï¼Œå¯¼è‡´å‰åä¸¤æ¬¡æŸ¥è¯¢ç»“æœä¸ä¸€è‡´ï¼Œ<strong>ä¸ç¬¦åˆéš”ç¦»æ€§</strong></li><li><strong>å¹»è¯»</strong>ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å¦ä¸€ä¸ªäº‹åŠ¡å·²ç»æäº¤çš„ insert æ“ä½œçš„æ•°æ®ï¼Œå¯¼è‡´å‰åä¸¤æ¬¡æŸ¥è¯¢ç»“æœä¸ä¸€è‡´ï¼Œ<strong>ä¸ç¬¦åˆéš”ç¦»æ€§</strong>ã€‚</li></ul></li><li><p><strong><code>MySQL</code> äº‹åŠ¡éš”ç¦»çº§åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p><ul><li><code>MySQL</code> çš„äº‹åŠ¡éš”ç¦»çº§åˆ«æ˜¯æŒ‡åœ¨<strong>å¤šä¸ªäº‹åŠ¡å¹¶å‘è¿è¡Œæ—¶ï¼Œäº’ç›¸æ˜¯å¦‚ä½•éš”ç¦»çš„ï¼Œä»è€Œæ¥é¿å…ä¸€äº›äº‹åŠ¡å¹¶å‘è¿è¡Œæ—¶äº§ç”Ÿçš„é—®é¢˜</strong>ã€‚</li><li><code>SQL</code> æ ‡å‡†ä¸­è§„å®šäº†å››ç§äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼š<strong>è¯»æœªæäº¤ï¼ˆRead Uncommittedï¼‰</strong>ã€<strong>è¯»å·²æäº¤ï¼ˆRead Committedï¼‰</strong>ã€<strong>å¯é‡å¤è¯»ï¼ˆRepeatable Readï¼‰</strong>ã€<strong>ä¸²è¡ŒåŒ–ï¼ˆ<code>Serializable</code>ï¼‰</strong>ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å‡è®¾æœ‰ä¸¤ä¸ªäºº A å’Œ Bï¼Œä»–ä»¬éƒ½è¦ä»é“¶è¡Œå–é’±ã€‚</span><br><span class="line">A å…ˆå¼€å§‹å–é’±ï¼Œä»–å°†é“¶è¡Œå¡ä¸­çš„ä½™é¢ä» 1000 å…ƒæ”¹ä¸º 800 å…ƒï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å®Œæˆå–é’±ã€‚æ­¤æ—¶ï¼ŒB å¼€å§‹å–é’±ï¼Œä»–éœ€è¦æŸ¥è¯¢é“¶è¡Œå¡ä¸­çš„ä½™é¢ã€‚</span><br><span class="line">å¦‚æœ B çš„éš”ç¦»çº§åˆ«æ˜¯è¯»æœªæäº¤ï¼Œåˆ™ B å¯ä»¥è¯»å–åˆ° A ä¿®æ”¹åçš„ä½™é¢ 800 å…ƒï¼›</span><br><span class="line">å¦‚æœ B çš„éš”ç¦»çº§åˆ«æ˜¯è¯»å·²æäº¤ï¼Œåˆ™ B åªèƒ½è¯»å–åˆ° A ä¿®æ”¹å‰çš„ä½™é¢ 1000 å…ƒï¼›</span><br><span class="line">å¦‚æœ B çš„éš”ç¦»çº§åˆ«æ˜¯å¯é‡å¤è¯»ï¼Œåˆ™ B åªèƒ½è¯»å–åˆ° A ä¿®æ”¹å‰çš„ä½™é¢ 1000 å…ƒï¼›</span><br><span class="line">å¦‚æœ B çš„éš”ç¦»çº§åˆ«æ˜¯ä¸²è¡ŒåŒ–ï¼Œåˆ™ B å¿…é¡»ç­‰å¾… A å®Œæˆå–é’±åæ‰èƒ½å¼€å§‹æŸ¥è¯¢ã€‚</span><br></pre></td></tr></table></figure></li></ol><h2 id="äº‹åŠ¡ç‰¹æ€§"><a href="#äº‹åŠ¡ç‰¹æ€§" class="headerlink" title="äº‹åŠ¡ç‰¹æ€§"></a>äº‹åŠ¡ç‰¹æ€§</h2><blockquote><p>äº‹åŠ¡æ˜¯ç”±ä¸€ç»„ <code>SQL</code> è¯­å¥ç»„æˆçš„é€»è¾‘å¤„ç†å•å…ƒ,äº‹åŠ¡å…·æœ‰ä»¥ä¸‹4ä¸ªå±æ€§,é€šå¸¸ç®€ç§°ä¸ºäº‹åŠ¡çš„ <strong>ACID</strong> å±æ€§ã€‚</p></blockquote><ul><li>åŸå­æ€§(Atomicity) ï¼šäº‹åŠ¡æ˜¯ä¸€ä¸ªåŸå­æ“ä½œå•å…ƒ,å…¶å¯¹æ•°æ®çš„ä¿®æ”¹,è¦ä¹ˆå…¨éƒ½æ‰§è¡Œ,è¦ä¹ˆå…¨éƒ½ä¸æ‰§è¡Œã€‚</li><li>ä¸€è‡´æ€§(Consistent) ï¼šåœ¨äº‹åŠ¡å¼€å§‹å’Œå®Œæˆæ—¶,æ•°æ®éƒ½å¿…é¡»ä¿æŒä¸€è‡´çŠ¶æ€ã€‚è¿™æ„å‘³ç€æ‰€æœ‰ç›¸å…³çš„æ•°æ®è§„åˆ™éƒ½å¿…é¡»åº”ç”¨äºäº‹åŠ¡çš„ä¿®æ”¹,ä»¥ä¿æŒæ•°æ®çš„å®Œæ•´æ€§ã€‚</li><li>éš”ç¦»æ€§(Isolation) ï¼šæ•°æ®åº“ç³»ç»Ÿæä¾›ä¸€å®šçš„éš”ç¦»æœºåˆ¶,ä¿è¯äº‹åŠ¡åœ¨ä¸å—å¤–éƒ¨å¹¶å‘æ“ä½œå½±å“çš„â€œç‹¬ç«‹â€ç¯å¢ƒæ‰§è¡Œã€‚è¿™æ„å‘³ç€äº‹åŠ¡å¤„ç†è¿‡ç¨‹ä¸­çš„ä¸­é—´çŠ¶æ€å¯¹å¤–éƒ¨æ˜¯ä¸å¯è§çš„,åä¹‹äº¦ç„¶ã€‚</li><li>æŒä¹…æ€§(Durable) ï¼šäº‹åŠ¡å®Œæˆä¹‹å,å®ƒå¯¹äºæ•°æ®çš„ä¿®æ”¹æ˜¯æ°¸ä¹…æ€§çš„,å³ä½¿å‡ºç°ç³»ç»Ÿæ•…éšœä¹Ÿèƒ½å¤Ÿä¿æŒã€‚</li></ul><h2 id="äº‹åŠ¡éš”ç¦»çº§åˆ«"><a href="#äº‹åŠ¡éš”ç¦»çº§åˆ«" class="headerlink" title="äº‹åŠ¡éš”ç¦»çº§åˆ«"></a>äº‹åŠ¡éš”ç¦»çº§åˆ«</h2><blockquote><p>ä»é—®é¢˜æ€è€ƒä¸­ï¼Œæˆ‘ä»¬çŸ¥é“äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å››ç±»ï¼š</p><ul><li><strong>è¯»æœªæäº¤ï¼ˆRead Uncommittedï¼‰</strong></li><li><strong>è¯»å·²æäº¤ï¼ˆRead Committedï¼‰</strong></li><li><strong>å¯é‡å¤è¯»ï¼ˆRepeatable Readï¼‰</strong></li><li><strong>ä¸²è¡ŒåŒ–ï¼ˆ<code>Serializable</code>ï¼‰</strong></li></ul><p>è€Œäº‹åŠ¡éš”ç¦»çº§åˆ«ä¸»è¦è§£å†³äº†ä»¥ä¸‹ä¸»è¦çš„ä¸‰ä¸ªé—®é¢˜ï¼š</p><ul><li><strong>è„è¯»</strong></li><li><strong>ä¸å¯é‡å¤è¯»</strong></li><li><strong>å¹»è¯»</strong></li></ul><p><strong><code>Mysql</code> é»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«æ˜¯å¯é‡å¤è¯»ï¼Œç”¨Springå¼€å‘ç¨‹åºæ—¶ï¼Œå¦‚æœä¸è®¾ç½®éš”ç¦»çº§åˆ«é»˜è®¤ç”¨ <code>Mysql</code> è®¾ç½®çš„éš”ç¦»çº§åˆ«ï¼Œå¦‚æœ <code>Spring</code> è®¾ç½®äº†å°±ç”¨å·²ç»è®¾ç½®çš„éš”ç¦»çº§åˆ«</strong></p></blockquote><ul><li><strong>è„è¯»</strong>ã€<strong>ä¸å¯é‡å¤è¯»</strong> å’Œ <strong>å¹»è¯»</strong>ï¼Œå…¶å®éƒ½æ˜¯æ•°æ®åº“è¯»ä¸€è‡´æ€§é—®é¢˜ï¼Œå¿…é¡»ç”±æ•°æ®åº“æä¾›ä¸€å®šçš„äº‹åŠ¡éš”ç¦»æœºåˆ¶æ¥è§£å†³ã€‚</li></ul><div class="table-container"><table><thead><tr><th>éš”ç¦»çº§åˆ«</th><th>è„è¯»(Dirty Read)</th><th>ä¸å¯é‡å¤è¯»(NonRepeatable Read)</th><th>å¹»è¯»(Phantom Read)</th></tr></thead><tbody><tr><td>è¯»æœªæäº¤(Read uncommitted)</td><td>å¯èƒ½</td><td>å¯èƒ½</td><td>å¯èƒ½</td></tr><tr><td>è¯»å·²æäº¤(Read committed)</td><td>ä¸å¯èƒ½</td><td>å¯èƒ½</td><td>å¯èƒ½</td></tr><tr><td>å¯é‡å¤è¯»(Repeatableread)</td><td>ä¸å¯èƒ½</td><td>ä¸å¯èƒ½</td><td>å¯èƒ½</td></tr><tr><td>å¯ä¸²è¡ŒåŒ–(Serializable)</td><td>ä¸å¯èƒ½</td><td>ä¸å¯èƒ½</td><td>ä¸å¯èƒ½</td></tr></tbody></table></div><ul><li>æŸ¥çœ‹å½“å‰æ•°æ®åº“çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼š</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> variables <span class="keyword">like</span> <span class="string">&#x27;tx_isolation&#x27;</span>;</span><br></pre></td></tr></table></figure><ul><li>è®¾ç½®äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼š</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> tx_isolation<span class="operator">=</span><span class="string">&#x27;REPEATABLE-READ&#x27;</span>;</span><br></pre></td></tr></table></figure><h2 id="é”"><a href="#é”" class="headerlink" title="é”"></a>é”</h2><blockquote><p>é”çš„æœ¬è´¨æ˜¯è§£å†³äº† è®¡ç®—æœºåè°ƒå¤šä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹å¹¶å‘è®¿é—®æŸä¸€èµ„æºçš„æœºåˆ¶ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL-æ‰§è¡Œè®¡åˆ’ï¼ˆä¸‰ï¼‰</title>
      <link href="/posts/efe48dc1.html"/>
      <url>/posts/efe48dc1.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>æœ¬æ–‡ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼Œç¬¬ä¸€ä¸ªéƒ¨åˆ†è®²è§£ <code>MySQL</code> æŸ¥è¯¢æ—¶ä¼šç»è¿‡å“ªäº›è¿‡ç¨‹ï¼›ç¬¬äºŒä¸ªéƒ¨åˆ†è®²è§£ <code>Explain</code> çš„åŸºæœ¬ç”¨æ³•ï¼›ç¬¬ä¸‰ä¸ªéƒ¨åˆ†è®²è§£ <code>Explain</code> å‚æ•°åˆ†æã€‚ </p><p>å¦‚ä¸‹å¾ˆå¤šæ“ä½œåªæ˜¯ä¸€äº›åŸºæœ¬çš„æ“ä½œï¼Œå¦‚æœç›¸å¯¹ <code>MySQL</code> è¿›è¡Œæ·±å±‚æ¬¡çš„å­¦ä¹ è¿˜æ˜¯è¦å¯¹ B+ æ ‘æœ‰ä¸€å®šäº†è§£</p><p><strong>å‡†å¤‡å·¥ä½œ</strong></p><ul><li>å¯¼å…¥ <code>SQL</code> æ–‡ä»¶ï¼š<strong><a href="https://www.yuque.com/attachments/yuque/0/2023/sql/3009312/1675232949321-223f7e2a-763c-4fd0-b3ab-3a780183719d.sql?_lake_card=%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2023%2Fsql%2F3009312%2F1675232949321-223f7e2a-763c-4fd0-b3ab-3a780183719d.sql%22%2C%22name%22%3A%22explain_demo_test.sql%22%2C%22size%22%3A2597%2C%22ext%22%3A%22sql%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22u85e0af12-a42a-4726-8f10-7f751f7fe49%22%2C%22taskType%22%3A%22upload%22%2C%22type%22%3A%22%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22u94be3304%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%2C%22card%22%3A%22file%22%7D">explain_demo_test.sql</a></strong> ä¹‹åä¼šæœ‰ä¸‰å¼ è¡¨ï¼ˆactorã€filmã€film_actorï¼‰</li></ul></blockquote><h2 id="MySQL-æŸ¥è¯¢è¿‡ç¨‹"><a href="#MySQL-æŸ¥è¯¢è¿‡ç¨‹" class="headerlink" title="MySQL æŸ¥è¯¢è¿‡ç¨‹"></a><code>MySQL</code> æŸ¥è¯¢è¿‡ç¨‹</h2><p>æœåŠ¡å™¨ç¨‹åºå¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„æŸ¥è¯¢è¯·æ±‚å¤§è‡´éœ€è¦ç»è¿‡ä¸‰ä¸ªéƒ¨åˆ† : <strong>è¿æ¥ç®¡ç†ã€è§£æä¸ä¼˜åŒ–ã€å­˜å‚¨å¼•æ“</strong>ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305151907705.png" alt="image2022-12-28_16-1-44.png"><br><code>MySQL</code> æŸ¥è¯¢è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li>å®¢æˆ·ç«¯å°†æŸ¥è¯¢å‘é€åˆ° <code>MySQL</code> æœåŠ¡å™¨</li><li>æœåŠ¡å™¨å…ˆæ£€æŸ¥<strong>æŸ¥è¯¢ç¼“å­˜</strong>ï¼Œå¦‚æœå‘½ä¸­ï¼Œç«‹å³è¿”å›ç¼“å­˜ä¸­çš„ç»“æœï¼›å¦åˆ™è¿›å…¥ä¸‹ä¸€é˜¶æ®µ</li><li>æœåŠ¡å™¨å¯¹ <code>SQL</code> è¿›è¡Œ<strong>è§£æ</strong>ã€<strong>é¢„å¤„ç†</strong>ï¼Œå†ç”±<strong>ä¼˜åŒ–å™¨</strong>ç”Ÿæˆå¯¹è±¡çš„<strong>æ‰§è¡Œè®¡åˆ’</strong></li><li><code>MySQL</code> æ ¹æ®<strong>ä¼˜åŒ–å™¨</strong>ç”Ÿæˆçš„<strong>æ‰§è¡Œè®¡åˆ’</strong>ï¼Œè°ƒç”¨<strong><code>å­˜å‚¨å¼•æ“API</code></strong>æ¥æ‰§è¡ŒæŸ¥è¯¢</li><li>æœåŠ¡å™¨å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ï¼ŒåŒæ—¶<strong>ç¼“å­˜æŸ¥è¯¢ç»“æœ</strong></li></ol><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305151907957.png" alt="image2022-12-27_15-52-41.png"></p><h2 id="Explain-åŸºæœ¬ä»‹ç»"><a href="#Explain-åŸºæœ¬ä»‹ç»" class="headerlink" title="Explain åŸºæœ¬ä»‹ç»"></a>Explain åŸºæœ¬ä»‹ç»</h2><h3 id="Explain-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Explain-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Explain æ˜¯ä»€ä¹ˆï¼Ÿ"></a>Explain æ˜¯ä»€ä¹ˆï¼Ÿ</h3><ul><li><code>MySQL</code> çš„ Explain æ˜¯ä¸€ä¸ªç”¨äºæŸ¥çœ‹ SELECTã€INSERTã€UPDATEã€DELETE è¯­å¥ <strong>æ‰§è¡Œè®¡åˆ’ </strong>çš„å‘½ä»¤ã€‚</li><li>æ‰§è¡Œè®¡åˆ’ï¼šæŒ‡ <code>SQL</code> è¯­å¥åœ¨ç»è¿‡ <code>MySQL</code> <strong>æŸ¥è¯¢ä¼˜åŒ–å™¨ </strong>çš„ä¼˜åŒ–ä¼šåï¼Œå…·ä½“çš„æ‰§è¡Œæ–¹å¼ã€‚</li></ul><h3 id="Explain-è§£å†³äº†é‚£äº›é—®é¢˜ï¼Ÿ"><a href="#Explain-è§£å†³äº†é‚£äº›é—®é¢˜ï¼Ÿ" class="headerlink" title="Explain è§£å†³äº†é‚£äº›é—®é¢˜ï¼Ÿ"></a>Explain è§£å†³äº†é‚£äº›é—®é¢˜ï¼Ÿ</h3><ul><li>å®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬<strong>äº†è§£æŸ¥è¯¢æ‰§è¡Œè®¡åˆ’</strong>ï¼Œå¹¶<strong>è¯†åˆ«æ½œåœ¨çš„æ€§èƒ½é—®é¢˜</strong>ã€‚</li></ul><h3 id="Explain-å¦‚ä½•ä½¿ç”¨ï¼Ÿ"><a href="#Explain-å¦‚ä½•ä½¿ç”¨ï¼Ÿ" class="headerlink" title="Explain å¦‚ä½•ä½¿ç”¨ï¼Ÿ"></a>Explain å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h3><ul><li>è¯­æ³•</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># ç¬¬ä¸€æ¡ï¼š<span class="keyword">SQL</span>åŸºç¡€æ‰§è¡Œä¿¡æ¯</span><br><span class="line">EXPLAIN EXTENDED <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> actor;</span><br><span class="line"># MySQLä¼˜åŒ–åçš„æŸ¥è¯¢è¯­å¥ï¼Œå¯ä»¥çœ‹åˆ°ä¼˜åŒ–å™¨å…·ä½“ä¼˜åŒ–çš„<span class="keyword">SQL</span>ä¿¡æ¯</span><br><span class="line"><span class="keyword">SHOW</span> WARNINGS;</span><br></pre></td></tr></table></figure><ul><li>ç¤ºä¾‹</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> explain extended <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> actor;<span class="keyword">show</span> warnings;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span> <span class="operator">|</span> partitions <span class="operator">|</span> type <span class="operator">|</span> possible_keys <span class="operator">|</span> key  <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>  <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> actor <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">ALL</span>  <span class="operator">|</span> <span class="keyword">NULL</span>          <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.03</span> sec)</span><br><span class="line"> </span><br><span class="line"><span class="operator">+</span><span class="comment">---------+------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> Level   <span class="operator">|</span> Code <span class="operator">|</span> Message                                                                                                                                                                                                 <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> Warning <span class="operator">|</span> <span class="number">1681</span> <span class="operator">|</span> <span class="string">&#x27;EXTENDED&#x27;</span> <span class="keyword">is</span> deprecated <span class="keyword">and</span> will be removed <span class="keyword">in</span> a future release.                                                                                                                                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Note    <span class="operator">|</span> <span class="number">1003</span> <span class="operator">|</span> <span class="comment">/* select#1 */</span> <span class="keyword">select</span> `explain_demo_test`.`actor`.`id` <span class="keyword">AS</span> `id`,`explain_demo_test`.`actor`.`name` <span class="keyword">AS</span> `name`,`explain_demo_test`.`actor`.`update_time` <span class="keyword">AS</span> `update_time` <span class="keyword">from</span> `explain_demo_test`.`actor` <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.03</span> sec)</span><br></pre></td></tr></table></figure><h2 id="Explain-å‚æ•°åˆ†æ"><a href="#Explain-å‚æ•°åˆ†æ" class="headerlink" title="Explain å‚æ•°åˆ†æ"></a>Explain å‚æ•°åˆ†æ</h2><ul><li>æ¯å¼ è¡¨å¯¹åº”çš„ç´¢å¼•æƒ…å†µï¼Œä½¿ç”¨Explainå¾—åˆ°çš„ç»“æœéƒ½ä¸ä¸€æ ·ï¼Œæ‰§è¡Œ Explain è¯·å¯¹ç…§ç´¢å¼•æƒ…å†µçœ‹</li></ul><div class="tabs" id="explain"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#explain-1">id</button></li><li class="tab"><button type="button" data-href="#explain-2">select_type</button></li><li class="tab"><button type="button" data-href="#explain-3">table</button></li><li class="tab"><button type="button" data-href="#explain-4">partitions</button></li><li class="tab"><button type="button" data-href="#explain-5">type</button></li><li class="tab"><button type="button" data-href="#explain-6">possible_keys</button></li><li class="tab"><button type="button" data-href="#explain-7">key</button></li><li class="tab"><button type="button" data-href="#explain-8">key_len</button></li><li class="tab"><button type="button" data-href="#explain-9">ref</button></li><li class="tab"><button type="button" data-href="#explain-10">rows</button></li><li class="tab"><button type="button" data-href="#explain-11">filtered</button></li><li class="tab"><button type="button" data-href="#explain-12">Extra</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="explain-1"><p>select çš„åºåˆ—å·ï¼Œè¡¨ç¤ºä¼˜åŒ–å™¨è®¿é—®è¡¨çš„é¡ºåºã€‚</p><ul><li>åºå·è¶Šå¤§æ‰§è¡Œä¼˜å…ˆçº§è¶Šé«˜ï¼Œidç›¸åŒåˆ™ä»ä¸Šå¾€ä¸‹æ‰§è¡Œï¼Œidä¸ºNULLæœ€åæ‰§è¡Œ</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="explain-2"><p>æŸ¥è¯¢æ•°æ®çš„æ“ä½œç±»å‹ï¼ˆç®€å•ã€å¤æ‚ï¼‰ï¼Œè¡¨ç¤ºä½¿ç”¨çš„ SELECT è¯­å¥çš„ç±»å‹</p><ul><li>simpleï¼šç®€å•æŸ¥è¯¢ï¼Œå•è¡¨æŸ¥è¯¢</li><li>primaryï¼šå¤æ‚æŸ¥è¯¢ä¸­æœ€å¤–å±‚çš„ select</li><li>subqueryï¼šåŒ…å«åœ¨ select ä¸­çš„å­æŸ¥è¯¢ï¼ˆä¸åœ¨ from å­å¥ä¸­ï¼‰</li><li>derivedï¼šåŒ…å«åœ¨ from å­å¥ä¸­çš„å­æŸ¥è¯¢ï¼Œä¹Ÿç§°ä¸ºæ´¾ç”Ÿè¡¨ï¼ˆderivedï¼‰</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="explain-3"><p>æŸ¥è¯¢æ•°æ®çš„æ“ä½œç±»å‹ï¼ˆç®€å•ã€å¤æ‚ï¼‰ï¼Œè¡¨ç¤ºä½¿ç”¨çš„ SELECT è¯­å¥çš„ç±»å‹</p><ul><li>è¡¨ç¤ºè¢«è®¿é—®çš„è¡¨çš„åç§°</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="explain-4"><p>åŒ¹é…çš„åˆ†åŒºä¿¡æ¯ï¼Œä¸ç”¨ç®¡</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="explain-5"><p>è¡¨ç¤ºè®¿é—®è¡¨çš„å…³è”ç±»å‹æˆ–è€…è¿æ¥ç±»å‹ã€‚ä¸€äº›å¸¸è§çš„è¿æ¥ç±»å‹åŒ…æ‹¬ï¼š</p><ul><li>systemï¼šæ­£åœ¨è®¿é—®åªæœ‰ä¸€è¡Œçš„è¡¨ã€‚</li><li>constï¼šä½¿ç”¨å…·æœ‰å”¯ä¸€æˆ–ä¸»é”®çº¦æŸçš„ç´¢å¼•åˆ—è®¿é—®è¡¨ã€‚</li><li>eq_refï¼šä½¿ç”¨å”¯ä¸€ç´¢å¼•æˆ–ä¸»é”®è®¿é—®è¡¨ã€‚</li><li>refï¼šä½¿ç”¨éå”¯ä¸€ç´¢å¼•è®¿é—®è¡¨ã€‚</li><li>range : ä½¿ç”¨ä¸€ä¸ªç´¢å¼•æ¥æ£€ç´¢ç»™å®šèŒƒå›´çš„è¡Œ, é€šå¸¸å‡ºç°åœ¨ in(), between ,&gt; ,&lt;, &gt;= ç­‰æ“ä½œä¸­</li><li>indexï¼šåªéå†ç´¢å¼•æ ‘ã€‚</li><li>ALLï¼šå…¨è¡¨æ‰«æï¼Œæ€§èƒ½æœ€æ‹‰å®ã€‚</li></ul><p><strong>ä¼˜å…ˆçº§æ’åºï¼šsystem &gt; const &gt; eq_ref &gt; ref &gt; range &gt; index &gt; ALL</strong></p><p><strong>é€šå¸¸ä¼˜åŒ–è‡³å°‘åˆ° range çº§åˆ«ï¼Œæœ€å¥½èƒ½ä¼˜åŒ–åˆ°ref</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="explain-6"><p>æŸ¥è¯¢æ•°æ®å¯èƒ½ä½¿ç”¨å“ªäº›ç´¢å¼•æ¥æŸ¥æ‰¾</p><ul><li>å¦‚æœè¯¥åˆ—æ˜¯NULLï¼Œåˆ™æ²¡æœ‰ä½¿ç”¨ç´¢å¼•</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="explain-7"><p>æ˜¾ç¤º MySQL å®é™…ä½¿ç”¨çš„ç´¢å¼•</p><ul><li>å¦‚æœä¸º NULLï¼Œåˆ™æ²¡æœ‰ä½¿ç”¨ç´¢å¼•æŸ¥è¯¢</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="explain-8"><p>è¡¨ç¤ºç´¢å¼•ä¸­ä½¿ç”¨çš„å­—èŠ‚æ•°ï¼Œé€šè¿‡è¯¥åˆ—è®¡ç®—æŸ¥è¯¢ä¸­ä½¿ç”¨çš„ç´¢å¼•çš„é•¿åº¦</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="explain-9"><p>è¡¨çš„ç´¢å¼•å­—æ®µå…³è”äº†å“ªå¼ è¡¨çš„å“ªä¸ªå­—æ®µæˆ–å¸¸é‡</p><ul><li>constï¼ˆå¸¸é‡ï¼‰</li><li>å­—æ®µåï¼ˆä¾‹ï¼šfilm.idï¼‰</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="explain-10"><p>ä¼°ç®—å‡ºæ‰¾åˆ°æ‰€éœ€çš„è®°å½•æˆ–æ‰€éœ€è¯»å–çš„è¡Œæ•°</p><ul><li>æ•°å€¼è¶Šå°è¶Šå¥½</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="explain-11"><p>ç»“æœçš„è¡Œæ•°å è¯»å–è¡Œæ•°çš„ç™¾åˆ†æ¯”</p><ul><li>å€¼è¶Šå¤§è¶Šå¥½</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="explain-12"><p>ååˆ†é‡è¦çš„é¢å¤–ä¿¡æ¯ï¼Œå¦‚ä¸‹æ˜¯å¸¸è§çš„å€¼</p><ul><li>Using indexï¼šä½¿ç”¨è¦†ç›–ç´¢å¼•ã€‚</li><li>Using whereï¼šä½¿ç”¨ where è¯­å¥æ¥å¤„ç†ç»“æœï¼Œå¹¶ä¸”æŸ¥è¯¢çš„åˆ—æœªè¢«ç´¢å¼•è¦†ç›–ã€‚</li><li>Using index conditionï¼šæŸ¥è¯¢çš„åˆ—ä¸å®Œå…¨è¢«ç´¢å¼•è¦†ç›–ï¼Œwhereæ¡ä»¶ä¸­æ˜¯ä¸€ä¸ªå‰å¯¼åˆ—çš„èŒƒå›´ï¼›</li><li>Using temporaryï¼šmysqléœ€è¦åˆ›å»ºä¸€å¼ ä¸´æ—¶è¡¨æ¥å¤„ç†æŸ¥è¯¢ã€‚</li><li>Using filesortï¼šå¤–éƒ¨æ’åºè€Œä¸æ˜¯ç´¢å¼•æ’åºï¼Œæ•°æ®è¾ƒå°æ—¶ä»å†…å­˜æ’åºï¼Œå¦åˆ™éœ€è¦åœ¨ç£ç›˜å®Œæˆæ’åºã€‚</li><li>Select tables optimized awayï¼šä½¿ç”¨æŸäº›èšåˆå‡½æ•°ï¼ˆæ¯”å¦‚ maxã€minï¼‰æ¥è®¿é—®å­˜åœ¨ç´¢å¼•çš„æŸä¸ªå­—æ®µ</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="id"><a href="#id" class="headerlink" title="id"></a>id</h3><blockquote><p>idï¼š<strong>select æŸ¥è¯¢åºåˆ—å·</strong></p><ul><li>åºå·è¶Šå¤§æ‰§è¡Œä¼˜å…ˆçº§è¶Šé«˜ï¼›</li><li>idç›¸åŒï¼Œæ‰§è¡Œé¡ºåºç”±ä¸Šè‡³ä¸‹ï¼›</li><li>idä¸åŒï¼Œidå€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¶Šå…ˆè¢«æ‰§è¡Œï¼›</li><li>idä¸ºNULLæœ€åæ‰§è¡Œï¼›</li></ul></blockquote><h3 id="select-type"><a href="#select-type" class="headerlink" title="select_type"></a>select_type</h3><blockquote><p>select_typeï¼š<strong>select_type è¡¨ç¤ºå¯¹åº”è¡Œæ˜¯ç®€å•è¿˜æ˜¯å¤æ‚çš„æŸ¥è¯¢</strong></p><ul><li><strong>SIMPLE</strong>        ï¼š ç®€å•æŸ¥è¯¢ï¼Œä¸€èˆ¬æŒ‡å•è¡¨æŸ¥è¯¢ã€‚</li><li><strong>DERIVED     </strong> ï¼šæ´¾ç”Ÿè¡¨ï¼ŒåŒ…å«åœ¨ from å­å¥ä¸­çš„å­æŸ¥è¯¢ã€‚</li><li><strong>PRIMARY     </strong>ï¼šå¤æ‚æŸ¥è¯¢ï¼Œä¸€èˆ¬æŒ‡æœ€å¤–å±‚çš„ selectã€‚</li><li><strong>SUBQUERY</strong>  ï¼šåŒ…å«åœ¨ select ä¸­çš„å­æŸ¥è¯¢ï¼ˆä¸åœ¨ from å­å¥ä¸­ï¼‰ ã€‚</li><li><strong>UNION       </strong> ï¼š è¡¨ç¤ºä½¿ç”¨ UNION è¿ç®—ç¬¦çš„ SELECT è¯­å¥ã€‚</li></ul></blockquote><ul><li>ç¤ºä¾‹</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">#å…³é—­mysql5<span class="number">.7</span>æ–°ç‰¹æ€§å¯¹è¡ç”Ÿè¡¨çš„åˆå¹¶ä¼˜åŒ–</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">set</span> session optimizer_switch<span class="operator">=</span><span class="string">&#x27;derived_merge=off&#x27;</span>;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.39</span> sec)</span><br><span class="line"> </span><br><span class="line"># Explain æ‰§è¡Œçš„è¿‡ç¨‹ï¼Œå…¶ä¸­å¯¹åº”çš„ select_type</span><br><span class="line"># EXPLAIN <span class="keyword">SELECT</span>                             <span class="operator">=</span><span class="operator">=</span><span class="operator">&gt;</span>   id <span class="operator">=</span> <span class="number">1</span>; select_type <span class="operator">=</span> <span class="keyword">PRIMARY</span>;  <span class="keyword">table</span> <span class="operator">=</span> <span class="operator">&lt;</span>derived3<span class="operator">&gt;</span></span><br><span class="line">#   ( <span class="keyword">SELECT</span> <span class="number">1</span> <span class="keyword">FROM</span> actor <span class="keyword">WHERE</span> id <span class="operator">=</span> <span class="number">1</span> )     <span class="operator">=</span><span class="operator">=</span><span class="operator">&gt;</span>   id <span class="operator">=</span> <span class="number">2</span>; select_type <span class="operator">=</span> SUBQUERY; <span class="keyword">table</span> <span class="operator">=</span> actor</span><br><span class="line"># <span class="keyword">FROM</span></span><br><span class="line">#   ( <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> film <span class="keyword">WHERE</span> id <span class="operator">=</span> <span class="number">1</span> ) der; <span class="operator">=</span><span class="operator">=</span><span class="operator">&gt;</span>   id <span class="operator">=</span> <span class="number">3</span>; select_type <span class="operator">=</span> DERIVED;  <span class="keyword">table</span> <span class="operator">=</span> film</span><br><span class="line"> </span><br><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> (<span class="keyword">select</span> <span class="number">1</span> <span class="keyword">from</span> actor <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span>) <span class="keyword">from</span> (<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> film <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span>) der;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+--------+---------------+---------+---------+-------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span>      <span class="operator">|</span> partitions <span class="operator">|</span> type   <span class="operator">|</span> possible_keys <span class="operator">|</span> key     <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>   <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+--------+---------------+---------+---------+-------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> <span class="keyword">PRIMARY</span>     <span class="operator">|</span> <span class="operator">&lt;</span>derived3<span class="operator">&gt;</span> <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">system</span> <span class="operator">|</span> <span class="keyword">NULL</span>          <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">NULL</span>        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> DERIVED     <span class="operator">|</span> film       <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> const  <span class="operator">|</span> <span class="keyword">PRIMARY</span>       <span class="operator">|</span> <span class="keyword">PRIMARY</span> <span class="operator">|</span> <span class="number">4</span>       <span class="operator">|</span> const <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">NULL</span>        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> SUBQUERY    <span class="operator">|</span> actor      <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> const  <span class="operator">|</span> <span class="keyword">PRIMARY</span>       <span class="operator">|</span> <span class="keyword">PRIMARY</span> <span class="operator">|</span> <span class="number">4</span>       <span class="operator">|</span> const <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">Using</span> index <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+--------+---------------+---------+---------+-------+------+----------+-------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.03</span> sec)</span><br><span class="line"> </span><br><span class="line"># è¿˜åŸé»˜è®¤é…ç½®;</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">set</span> session optimizer_switch<span class="operator">=</span><span class="string">&#x27;derived_merge=on&#x27;</span>;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"> </span><br><span class="line"># select_type <span class="operator">=</span> SIMPLE ï¼Œè¯´æ˜ä½¿ç”¨çš„æ˜¯å•è¡¨</span><br><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> film <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+-------+---------------+---------+---------+-------+------+----------+-------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span> <span class="operator">|</span> partitions <span class="operator">|</span> type  <span class="operator">|</span> possible_keys <span class="operator">|</span> key     <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>   <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+-------+---------------+---------+---------+-------+------+----------+-------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> film  <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> const <span class="operator">|</span> <span class="keyword">PRIMARY</span>       <span class="operator">|</span> <span class="keyword">PRIMARY</span> <span class="operator">|</span> <span class="number">4</span>       <span class="operator">|</span> const <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+-------+---------------+---------+---------+-------+------+----------+-------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.03</span> sec)</span><br><span class="line"> </span><br><span class="line"># select_type <span class="operator">=</span> <span class="keyword">UNION</span> ï¼Œè¯´æ˜åœ¨ <span class="keyword">union</span> ä¸­çš„ç¬¬äºŒä¸ªå’Œéšåçš„ <span class="keyword">select</span></span><br><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> <span class="number">1</span> <span class="keyword">union</span> <span class="keyword">all</span> <span class="keyword">select</span> <span class="number">1</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span> <span class="operator">|</span> partitions <span class="operator">|</span> type <span class="operator">|</span> possible_keys <span class="operator">|</span> key  <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>  <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> <span class="keyword">PRIMARY</span>     <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>          <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span> <span class="keyword">No</span> tables used <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> <span class="keyword">UNION</span>       <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>          <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span> <span class="keyword">No</span> tables used <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.03</span> sec)</span><br></pre></td></tr></table></figure><h3 id="table"><a href="#table" class="headerlink" title="table"></a>table</h3><blockquote><p>tableï¼š<strong>è¿™ä¸€åˆ—è¡¨ç¤º explain çš„ä¸€è¡Œæ­£åœ¨è®¿é—®å“ªä¸ªè¡¨ã€‚</strong></p><ul><li>å½“ from å­å¥ä¸­æœ‰å­æŸ¥è¯¢æ—¶ï¼Œtable åˆ—æ˜¯ <derivenN> æ ¼å¼ï¼Œè¡¨ç¤ºå½“å‰æŸ¥è¯¢ä¾èµ– id=N çš„æŸ¥è¯¢ï¼Œäºæ˜¯å…ˆæ‰§è¡Œ id=N çš„æŸ¥è¯¢ã€‚</li></ul></blockquote><p><strong>è¡ç”Ÿè¡¨</strong></p><ul><li>æ‰§è¡Œè¿™è¡Œå¦‚æœæƒ³è¦å¾—åˆ°è¡ç”Ÿè¡¨ï¼Œéœ€è¦æ‰§è¡Œä»¥ä¸‹ä¸¤æ¡è¯­å¥ï¼š</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#å…³é—­mysql5<span class="number">.7</span>æ–°ç‰¹æ€§å¯¹è¡ç”Ÿè¡¨çš„åˆå¹¶ä¼˜åŒ–</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">set</span> session optimizer_switch<span class="operator">=</span><span class="string">&#x27;derived_merge=off&#x27;</span>;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.39</span> sec)</span><br><span class="line"></span><br><span class="line"># å¾—åˆ°çš„ <span class="keyword">table</span> åˆ—ä¸­å°±å­˜åœ¨è¡ç”Ÿè¡¨ä¿¡æ¯ã€‚</span><br><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> (<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> film <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span>) der;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+--------+---------------+---------+---------+-------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span>      <span class="operator">|</span> partitions <span class="operator">|</span> type   <span class="operator">|</span> possible_keys <span class="operator">|</span> key     <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>   <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+--------+---------------+---------+---------+-------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> <span class="keyword">PRIMARY</span>     <span class="operator">|</span> <span class="operator">&lt;</span>derived2<span class="operator">&gt;</span> <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">system</span> <span class="operator">|</span> <span class="keyword">NULL</span>          <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">NULL</span>        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> DERIVED     <span class="operator">|</span> film       <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> const  <span class="operator">|</span> <span class="keyword">PRIMARY</span>       <span class="operator">|</span> <span class="keyword">PRIMARY</span> <span class="operator">|</span> <span class="number">4</span>       <span class="operator">|</span> const <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">NULL</span>        <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+--------+---------------+---------+---------+-------+------+----------+-------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br></pre></td></tr></table></figure><h3 id="type"><a href="#type" class="headerlink" title="type"></a>type</h3><blockquote><p>typeï¼šè¿™ä¸€åˆ—è¡¨ç¤º<strong>å…³è”ç±»å‹</strong>æˆ–<strong>è®¿é—®ç±»å‹</strong>ï¼Œå³<strong>MySQLå†³å®šå¦‚ä½•æŸ¥æ‰¾è¡¨ä¸­çš„è¡Œ</strong>ï¼ŒæŸ¥æ‰¾æ•°æ®è¡Œè®°å½•çš„å¤§æ¦‚èŒƒå›´ã€‚</p><p>ä¾æ¬¡ä»æœ€ä¼˜åˆ°æœ€å·®åˆ†åˆ«ä¸ºï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå¾—ä¿è¯æŸ¥è¯¢è¾¾åˆ°rangeçº§åˆ«ï¼Œæœ€å¥½è¾¾åˆ°refï¼š</p><ol><li><strong>null</strong> </li><li><strong>system</strong></li><li><strong>const </strong></li><li><strong>eq_ref </strong></li><li><strong>ref</strong></li><li><strong>range</strong></li><li><strong>index</strong> </li><li><strong>ALL</strong></li></ol></blockquote><ol><li><p>NULL</p><blockquote><p>mysqlèƒ½å¤Ÿåœ¨<strong>ä¼˜åŒ–é˜¶æ®µåˆ†è§£æŸ¥è¯¢è¯­å¥</strong>ï¼Œåœ¨æ‰§è¡Œé˜¶æ®µç”¨ä¸ç€å†è®¿é—®è¡¨æˆ–ç´¢å¼•ã€‚</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> <span class="built_in">min</span>(id) <span class="keyword">from</span> film;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+------------------------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span> <span class="operator">|</span> partitions <span class="operator">|</span> type <span class="operator">|</span> possible_keys <span class="operator">|</span> key  <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>  <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra                        <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+------------------------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>          <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span> <span class="keyword">Select</span> tables optimized away <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.05</span> sec)</span><br></pre></td></tr></table></figure></li><li><p>const, system</p><blockquote><p>mysqlèƒ½å¯¹æŸ¥è¯¢çš„æŸéƒ¨åˆ†è¿›è¡Œä¼˜åŒ–å¹¶å°†å…¶è½¬åŒ–æˆä¸€ä¸ªå¸¸é‡ï¼Œæ‰€ä»¥è¡¨æœ€å¤šæœ‰ä¸€ä¸ªåŒ¹é…è¡Œï¼Œè¯»å–1æ¬¡ï¼Œé€Ÿåº¦æ¯”è¾ƒå¿«ã€‚</p><p><strong>systemæ˜¯constçš„ç‰¹ä¾‹</strong>ï¼Œè¡¨é‡Œåªæœ‰ä¸€æ¡å…ƒç»„åŒ¹é…æ—¶ä¸ºsystem</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> explain extended <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> (<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> film <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span>) tmp;<span class="keyword">show</span> warnings;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+--------+---------------+---------+---------+-------+------+----------+-------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span>      <span class="operator">|</span> partitions <span class="operator">|</span> type   <span class="operator">|</span> possible_keys <span class="operator">|</span> key     <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>   <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+--------+---------------+---------+---------+-------+------+----------+-------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> <span class="keyword">PRIMARY</span>     <span class="operator">|</span> <span class="operator">&lt;</span>derived2<span class="operator">&gt;</span> <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">system</span> <span class="operator">|</span> <span class="keyword">NULL</span>          <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> DERIVED     <span class="operator">|</span> film       <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> const  <span class="operator">|</span> <span class="keyword">PRIMARY</span>       <span class="operator">|</span> <span class="keyword">PRIMARY</span> <span class="operator">|</span> <span class="number">4</span>       <span class="operator">|</span> const <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+--------+---------------+---------+---------+-------+------+----------+-------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.10</span> sec)</span><br><span class="line"> </span><br><span class="line"><span class="operator">+</span><span class="comment">---------+------+-------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> Level   <span class="operator">|</span> Code <span class="operator">|</span> Message                                                           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+------+-------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> Warning <span class="operator">|</span> <span class="number">1681</span> <span class="operator">|</span> <span class="string">&#x27;EXTENDED&#x27;</span> <span class="keyword">is</span> deprecated <span class="keyword">and</span> will be removed <span class="keyword">in</span> a future release. <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Note    <span class="operator">|</span> <span class="number">1003</span> <span class="operator">|</span> <span class="comment">/* select#1 */</span> <span class="keyword">select</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">AS</span> `id`,<span class="string">&#x27;film1&#x27;</span> <span class="keyword">AS</span> `name` <span class="keyword">from</span> dual     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+------+-------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.05</span> sec)</span><br></pre></td></tr></table></figure></li><li><p>eq_ref</p><blockquote><p><strong>primary key æˆ– unique key ç´¢å¼•çš„æ‰€æœ‰éƒ¨åˆ†è¢«è¿æ¥ä½¿ç”¨</strong> ï¼Œæœ€å¤šåªä¼šè¿”å›ä¸€æ¡ç¬¦åˆæ¡ä»¶çš„è®°å½•ã€‚</p><p>è¿™å¯èƒ½æ˜¯åœ¨const ä¹‹å¤–æœ€å¥½çš„è”æ¥ç±»å‹äº†ï¼Œç®€å•çš„ select æŸ¥è¯¢ä¸ä¼šå‡ºç°è¿™ç§ typeã€‚</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># å…¶ä¸­ filmè¡¨ ä½¿ç”¨çš„æ˜¯ä¸»é”®ç´¢å¼•ï¼Œ film_actorä½¿ç”¨çš„æ˜¯è”åˆç´¢å¼• NDEX `idx_film_actor_id`(`film_id`, `actor_id`) <span class="keyword">USING</span> BTREE</span><br><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> film_actor <span class="keyword">left</span> <span class="keyword">join</span> film <span class="keyword">on</span> film_actor.film_id <span class="operator">=</span> film.id;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+--------+---------------+---------+---------+--------------------------------------+------+----------+-------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span>      <span class="operator">|</span> partitions <span class="operator">|</span> type   <span class="operator">|</span> possible_keys <span class="operator">|</span> key     <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>                                  <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+--------+---------------+---------+---------+--------------------------------------+------+----------+-------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> film_actor <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">ALL</span>    <span class="operator">|</span> <span class="keyword">NULL</span>          <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> <span class="keyword">NULL</span>                                 <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> film       <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> eq_ref <span class="operator">|</span> <span class="keyword">PRIMARY</span>       <span class="operator">|</span> <span class="keyword">PRIMARY</span> <span class="operator">|</span> <span class="number">4</span>       <span class="operator">|</span> explain_demo_test.film_actor.film_id <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+--------+---------------+---------+---------+--------------------------------------+------+----------+-------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.02</span> sec)</span><br></pre></td></tr></table></figure></li><li><p>ref</p><blockquote><p>ç›¸æ¯” eq_refï¼Œä¸ä½¿ç”¨å”¯ä¸€ç´¢å¼•ï¼Œè€Œæ˜¯ä½¿ç”¨<strong>æ™®é€šç´¢å¼•</strong>æˆ–è€…<strong>å”¯ä¸€æ€§ç´¢å¼•çš„éƒ¨åˆ†å‰ç¼€</strong>ï¼Œç´¢å¼•è¦å’ŒæŸä¸ªå€¼ç›¸æ¯”è¾ƒï¼Œå¯èƒ½ä¼šæ‰¾åˆ°å¤šä¸ªç¬¦åˆæ¡ä»¶çš„è¡Œã€‚</p></blockquote><p><strong>1. æ™®é€šç´¢å¼•</strong></p><ul><li><p><code>file</code> è¡¨çš„ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fileè¡¨çš„ç´¢å¼•ä¿¡æ¯</span><br><span class="line">- ä¸»é”®ç´¢å¼•ï¼šPRIMARY KEY (`id`)</span><br><span class="line">- è”åˆç´¢å¼•ï¼šINDEX `idx_name`(`name`)</span><br><span class="line"></span><br><span class="line">fileè¡¨çš„å­—æ®µç±»å‹</span><br><span class="line">- `id` int(11) NOT NULL AUTO_INCREMENT COMMENT &#x27;ä¸»é”®ID&#x27;</span><br><span class="line">- `name` varchar(10) DEFAULT NULL COMMENT &#x27;ç”µå½±åç§°&#x27;</span><br></pre></td></tr></table></figure></li><li><p>Explain åˆ†æç»“æœ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> film <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;film1&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+----------+---------+-------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span> <span class="operator">|</span> partitions <span class="operator">|</span> type <span class="operator">|</span> possible_keys <span class="operator">|</span> key      <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>   <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+----------+---------+-------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> film  <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">ref</span>  <span class="operator">|</span> idx_name      <span class="operator">|</span> idx_name <span class="operator">|</span> <span class="number">33</span>      <span class="operator">|</span> const <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">Using</span> index <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+----------+---------+-------+------+----------+-------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.68</span> sec)</span><br></pre></td></tr></table></figure></li></ul><p><strong>2. å”¯ä¸€æ€§ç´¢å¼•çš„éƒ¨åˆ†å‰ç¼€</strong></p><ul><li><p>è¡¨çš„ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">file è¡¨çš„ç´¢å¼•ä¿¡æ¯</span><br><span class="line">- ä¸»é”®ç´¢å¼•ï¼šPRIMARY KEY (`id`)</span><br><span class="line">- è”åˆç´¢å¼•ï¼šKEY `idx_name`(`name`) </span><br><span class="line"></span><br><span class="line">file è¡¨çš„å­—æ®µç±»å‹</span><br><span class="line">- `id` int(11) NOT NULL AUTO_INCREMENT COMMENT &#x27;ä¸»é”®ID&#x27;</span><br><span class="line">- `name` varchar(10) DEFAULT NULL COMMENT &#x27;ç”µå½±åç§°&#x27;</span><br><span class="line"></span><br><span class="line">film_actor è¡¨çš„ç´¢å¼•ä¿¡æ¯</span><br><span class="line">- ä¸»é”®ç´¢å¼•ï¼šPRIMARY KEY (`id`)</span><br><span class="line">- è”åˆç´¢å¼•ï¼šKEY `idx_film_actor_id` (`film_id`,`actor_id`)</span><br><span class="line"></span><br><span class="line">film_actor è¡¨çš„å­—æ®µç±»å‹</span><br><span class="line">- `id` int(11) NOT NULL COMMENT &#x27;ä¸»é”®ID&#x27;</span><br><span class="line">- `film_id` int(11) NOT NULL COMMENT &#x27;ç”µå½±ID&#x27;</span><br><span class="line">- `actor_id` int(11) NOT NULL COMMENT &#x27;æ¼”å‘˜ID&#x27;</span><br><span class="line">- `remark` varchar(255) DEFAULT NULL COMMENT &#x27;å¤‡æ³¨&#x27;</span><br></pre></td></tr></table></figure></li><li><p>Explain åˆ†æç»“æœ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> film_id <span class="keyword">from</span> film <span class="keyword">left</span> <span class="keyword">join</span> film_actor <span class="keyword">on</span> film.id <span class="operator">=</span> film_actor.film_id;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+-------+-------------------+-------------------+---------+---------------------------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span>      <span class="operator">|</span> partitions <span class="operator">|</span> type  <span class="operator">|</span> possible_keys     <span class="operator">|</span> key               <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>                       <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+-------+-------------------+-------------------+---------+---------------------------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> film       <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> index <span class="operator">|</span> <span class="keyword">NULL</span>              <span class="operator">|</span> idx_name          <span class="operator">|</span> <span class="number">33</span>      <span class="operator">|</span> <span class="keyword">NULL</span>                      <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">Using</span> index <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> film_actor <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">ref</span>   <span class="operator">|</span> idx_film_actor_id <span class="operator">|</span> idx_film_actor_id <span class="operator">|</span> <span class="number">4</span>       <span class="operator">|</span> explain_demo_test.film.id <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">Using</span> index <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+-------+-------------------+-------------------+---------+---------------------------+------+----------+-------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.03</span> sec)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>range</p><blockquote><p>èŒƒå›´æ‰«æé€šå¸¸å‡ºç°åœ¨ in(), between ,&gt; ,&lt;, &gt;= ç­‰æ“ä½œä¸­ã€‚ä½¿ç”¨ä¸€ä¸ªç´¢å¼•æ¥æ£€ç´¢ç»™å®šèŒƒå›´çš„è¡Œã€‚</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> actor <span class="keyword">where</span> id <span class="operator">&gt;</span> <span class="number">1</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span> <span class="operator">|</span> partitions <span class="operator">|</span> type  <span class="operator">|</span> possible_keys <span class="operator">|</span> key     <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>  <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> actor <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">range</span> <span class="operator">|</span> <span class="keyword">PRIMARY</span>       <span class="operator">|</span> <span class="keyword">PRIMARY</span> <span class="operator">|</span> <span class="number">4</span>       <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">Using</span> <span class="keyword">where</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.04</span> sec)</span><br></pre></td></tr></table></figure></li><li><p>index</p><blockquote><p>æ‰«æå…¨ç´¢å¼•å°±èƒ½æ‹¿åˆ°ç»“æœï¼Œä¸€èˆ¬æ˜¯<strong>æ‰«ææŸä¸ªäºŒçº§ç´¢å¼•</strong>ï¼Œè¿™ç§æ‰«æ<strong>ä¸ä¼šä»ç´¢å¼•æ ‘æ ¹èŠ‚ç‚¹å¼€å§‹å¿«é€ŸæŸ¥æ‰¾</strong>ï¼Œè€Œæ˜¯ç›´æ¥å¯¹äºŒçº§ç´¢å¼•çš„å¶å­èŠ‚ç‚¹éå†å’Œæ‰«æï¼Œé€Ÿåº¦è¿˜æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œè¿™ç§æŸ¥è¯¢ä¸€èˆ¬ä¸ºä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼ŒäºŒçº§ç´¢å¼•ä¸€èˆ¬æ¯”è¾ƒå°ï¼Œæ‰€ä»¥è¿™ç§é€šå¸¸æ¯”ALLå¿«ä¸€äº›ã€‚</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> film;</span><br><span class="line"> </span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span> <span class="operator">|</span> partitions <span class="operator">|</span> type  <span class="operator">|</span> possible_keys <span class="operator">|</span> key      <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>  <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> film  <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> index <span class="operator">|</span> <span class="keyword">NULL</span>          <span class="operator">|</span> idx_name <span class="operator">|</span> <span class="number">33</span>      <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">Using</span> index <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.03</span> sec)</span><br></pre></td></tr></table></figure></li><li><p>ALL</p><blockquote><p>å³å…¨è¡¨æ‰«æï¼Œæ‰«æä½ çš„èšç°‡ç´¢å¼•çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹ã€‚é€šå¸¸æƒ…å†µä¸‹è¿™éœ€è¦å¢åŠ ç´¢å¼•æ¥è¿›è¡Œä¼˜åŒ–äº†ã€‚</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> actor;</span><br><span class="line"> </span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span> <span class="operator">|</span> partitions <span class="operator">|</span> type <span class="operator">|</span> possible_keys <span class="operator">|</span> key  <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>  <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> actor <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">ALL</span>  <span class="operator">|</span> <span class="keyword">NULL</span>          <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.04</span> sec)</span><br></pre></td></tr></table></figure></li></ol><h3 id="possible-keys"><a href="#possible-keys" class="headerlink" title="possible_keys"></a>possible_keys</h3><blockquote><p>possible_keysåˆ—è¡¨ç¤ºåœ¨æŸä¸ªæŸ¥è¯¢è¯­å¥ä¸­ï¼Œå¯¹æŸä¸ªè¡¨æ‰§è¡Œå•è¡¨æŸ¥è¯¢æ—¶å¯èƒ½ç”¨åˆ°çš„ç´¢å¼•æœ‰å“ªäº›</p><p>å¦‚æœè¯¥åˆ—æ˜¯NULLï¼Œåˆ™æ²¡æœ‰ç›¸å…³çš„ç´¢å¼•ã€‚</p><p><strong>æ³¨æ„</strong></p><p>possible_keysåˆ—ä¸­çš„å€¼å¹¶ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œå¯èƒ½ä½¿ç”¨çš„ç´¢å¼•è¶Šå¤šï¼ŒæŸ¥è¯¢ä¼˜åŒ–å™¨è®¡ç®—æŸ¥è¯¢æˆæœ¬æ—¶å°±å¾—èŠ±è´¹æ›´é•¿æ—¶é—´ï¼Œæ‰€ä»¥å¦‚æœå¯ä»¥çš„è¯ï¼Œå°½é‡åˆ é™¤é‚£äº›ç”¨ä¸åˆ°çš„ç´¢å¼•</p></blockquote><h3 id="key"><a href="#key" class="headerlink" title="key"></a>key</h3><blockquote><p>keyåˆ—è¡¨ç¤ºå®é™…ç”¨åˆ°çš„ç´¢å¼•æœ‰å“ªäº›ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨ç´¢å¼•ï¼Œåˆ™è¯¥åˆ—æ˜¯ NULL</p></blockquote><h3 id="key-len"><a href="#key-len" class="headerlink" title="key_len"></a>key_len</h3><blockquote><p>key_lenåˆ—è¡¨ç¤ºå½“ä¼˜åŒ–å™¨å†³å®šä½¿ç”¨æŸä¸ªç´¢å¼•æ‰§è¡ŒæŸ¥è¯¢æ—¶ï¼Œè¯¥ç´¢å¼•è®°å½•çš„æœ€å¤§é•¿åº¦.</p></blockquote><ul><li>è¡¨çš„ä¿¡æ¯</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">film_actor è¡¨çš„ç´¢å¼•ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">- ä¸»é”®ç´¢å¼•ï¼šPRIMARY KEY (`id`)</span><br><span class="line">- è”åˆç´¢å¼•ï¼šKEY `idx_film_actor_id` (`film_id`,`actor_id`)</span><br><span class="line"></span><br><span class="line">**film_actor è¡¨çš„å­—æ®µç±»å‹**</span><br><span class="line"></span><br><span class="line">- `id` int(11) NOT NULL COMMENT &#x27;ä¸»é”®ID&#x27;</span><br><span class="line">- `film_id` int(11) NOT NULL COMMENT &#x27;ç”µå½±ID&#x27;</span><br><span class="line">- `actor_id` int(11) NOT NULL COMMENT &#x27;æ¼”å‘˜ID&#x27;</span><br><span class="line">- `remark` varchar(255) DEFAULT NULL COMMENT &#x27;å¤‡æ³¨&#x27;</span><br></pre></td></tr></table></figure><p><strong>key_len ä¸ºä»€ä¹ˆä¸º4ï¼Ÿ</strong></p><blockquote><p><strong>å› ä¸ºèµ°åˆ°äº†ç´¢å¼• idx_film_actor_id ï¼Œè€Œ å­—æ®µï¼ˆfilm_idï¼‰æ•°æ®ç±»å‹æ˜¯int , intå°±æ˜¯å å››ä¸ªå­—èŠ‚</strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> film_actor <span class="keyword">where</span> film_id <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+------+-------------------+-------------------+---------+-------+------+----------+-------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span>      <span class="operator">|</span> partitions <span class="operator">|</span> type <span class="operator">|</span> possible_keys     <span class="operator">|</span> key               <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>   <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+------+-------------------+-------------------+---------+-------+------+----------+-------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> film_actor <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">ref</span>  <span class="operator">|</span> idx_film_actor_id <span class="operator">|</span> idx_film_actor_id <span class="operator">|</span> <span class="number">4</span>       <span class="operator">|</span> const <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+------+-------------------+-------------------+---------+-------+------+----------+-------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">1.83</span> sec)</span><br></pre></td></tr></table></figure><p><strong>key_len è®¡ç®—è§„åˆ™å¦‚ä¸‹</strong></p><blockquote><p><strong>å­—ç¬¦ä¸²</strong></p><ul><li>5.0.3ä»¥åç‰ˆæœ¬ä¸­ï¼Œnå‡ä»£è¡¨å­—ç¬¦æ•°ï¼Œè€Œä¸æ˜¯å­—èŠ‚æ•°ï¼Œå¦‚æœæ˜¯utf-8ï¼Œä¸€ä¸ªæ•°å­—æˆ–å­—æ¯å 1ä¸ªå­—èŠ‚ï¼Œä¸€ä¸ªæ±‰å­—å 3ä¸ªå­—èŠ‚</li><li>char(n)ï¼šå¦‚æœå­˜æ±‰å­—é•¿åº¦å°±æ˜¯ 3n å­—èŠ‚</li><li>varchar(n)ï¼šå¦‚æœå­˜æ±‰å­—åˆ™é•¿åº¦æ˜¯ 3n + 2 å­—èŠ‚ï¼ŒåŠ çš„2å­—èŠ‚ç”¨æ¥å­˜å‚¨å­—ç¬¦ä¸²é•¿åº¦ï¼Œå› ä¸ºvarcharæ˜¯å˜é•¿å­—ç¬¦ä¸²</li><li>ä¾‹å¦‚ï¼šæŸä¸ªç´¢å¼•åˆ—çš„ç±»å‹æ˜¯VARCHAR(100)ï¼Œä½¿ç”¨çš„å­—ç¬¦é›†æ˜¯utf8ï¼Œé‚£ä¹ˆè¯¥åˆ—å®é™…å ç”¨çš„æœ€å¤§å­˜å‚¨ç©ºé—´å°±æ˜¯100 Ã— 3 = 300ä¸ªå­—èŠ‚</li></ul><p><strong>æ•°å€¼ç±»å‹</strong></p><ul><li>tinyintï¼š1å­—èŠ‚</li><li>smallintï¼š2å­—èŠ‚</li><li>intï¼š4å­—èŠ‚</li><li>bigintï¼š8å­—èŠ‚</li></ul><p><strong>æ—¶é—´ç±»å‹</strong></p><ul><li>dateï¼š3å­—èŠ‚</li><li>timestampï¼š4å­—èŠ‚</li><li>datetimeï¼š8å­—èŠ‚</li></ul><p><strong>NULL</strong></p><ul><li>å¦‚æœå­—æ®µå…è®¸ä¸º NULLï¼Œéœ€è¦1å­—èŠ‚è®°å½•æ˜¯å¦ä¸º NULL</li></ul></blockquote><h3 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h3><blockquote><p>è¿™ä¸€åˆ—æ˜¾ç¤ºäº†åœ¨keyåˆ—è®°å½•çš„ç´¢å¼•ä¸­ï¼Œè¡¨æŸ¥æ‰¾å€¼æ‰€ç”¨åˆ°çš„åˆ—æˆ–å¸¸é‡</p><p>å¸¸è§çš„æœ‰ï¼šconstï¼ˆå¸¸é‡ï¼‰ï¼Œå­—æ®µåï¼ˆä¾‹ï¼šfilm.idï¼‰</p></blockquote><h3 id="rows"><a href="#rows" class="headerlink" title="rows"></a>rows</h3><blockquote><p>è¿™ä¸€åˆ—æ˜¯mysqlä¼°è®¡è¦è¯»å–å¹¶æ£€æµ‹çš„è¡Œæ•°ï¼Œæ³¨æ„è¿™ä¸ªä¸æ˜¯ç»“æœé›†é‡Œçš„è¡Œæ•°ã€‚</p></blockquote><h3 id="filtered"><a href="#filtered" class="headerlink" title="filtered"></a>filtered</h3><blockquote><p>å¯¹äºå•è¡¨è€Œè¨€è¿™ä¸ªåˆ—æ²¡å•¥æ„ä¹‰ï¼Œç»“æœå‡½æ•°å æ€»æ•°çš„ç™¾åˆ†æ¯”ã€‚</p></blockquote><h3 id="Extra"><a href="#Extra" class="headerlink" title="Extra"></a>Extra</h3><blockquote><p>è¿™ä¸€åˆ—å±•ç¤ºçš„æ˜¯é¢å¤–ä¿¡æ¯ã€‚å¸¸è§çš„é‡è¦å€¼å¦‚ä¸‹ï¼š</p><ol><li>Using indexï¼ˆè¦†ç›–ç´¢å¼•)</li><li>Using whereï¼ˆæŸ¥è¯¢çš„åˆ—æœªè¢«ç´¢å¼•è¦†ç›–ï¼‰</li><li>Using index conditionï¼ˆä¸å®Œå…¨è¢«ç´¢å¼•è¦†ç›–ï¼‰</li><li>Using temporary</li><li>Using filesort</li><li>Select tables optimized away</li></ol></blockquote><ol><li><p>Using indexï¼ˆè¦†ç›–ç´¢å¼•)</p><blockquote><p>mysqlæ‰§è¡Œè®¡åˆ’explainç»“æœé‡Œçš„keyæœ‰ä½¿ç”¨ç´¢å¼•ï¼Œå¦‚æœ <strong>select åé¢æŸ¥è¯¢çš„å­—æ®µéƒ½å¯ä»¥ä»è¿™ä¸ªç´¢å¼•çš„æ ‘ä¸­è·å–</strong>ï¼Œè¿™ç§æƒ…å†µå¯ä»¥è¯´æ˜¯ç”¨åˆ°äº†<strong>è¦†ç›–ç´¢å¼•</strong>ï¼Œextraé‡Œä¸€èˆ¬éƒ½æœ‰using indexï¼›</p></blockquote><ul><li><p>è¡¨ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">film_actor è¡¨çš„ç´¢å¼•ä¿¡æ¯</span><br><span class="line">- ä¸»é”®ç´¢å¼•ï¼šPRIMARY KEY (`id`)</span><br><span class="line">- è”åˆç´¢å¼•ï¼šKEY `idx_film_actor_id` (`film_id`,`actor_id`)</span><br><span class="line"></span><br><span class="line">film_actor è¡¨çš„å­—æ®µç±»å‹</span><br><span class="line">- `id` int(11) NOT NULL COMMENT &#x27;ä¸»é”®ID&#x27;</span><br><span class="line">- `film_id` int(11) NOT NULL COMMENT &#x27;ç”µå½±ID&#x27;</span><br><span class="line">- `actor_id` int(11) NOT NULL COMMENT &#x27;æ¼”å‘˜ID&#x27;</span><br><span class="line">- `remark` varchar(255) DEFAULT NULL COMMENT &#x27;å¤‡æ³¨&#x27;</span><br></pre></td></tr></table></figure></li><li><p>ç¤ºä¾‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> film_id <span class="keyword">from</span> film_actor <span class="keyword">where</span> film_id <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+------+-------------------+-------------------+---------+-------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span>      <span class="operator">|</span> partitions <span class="operator">|</span> type <span class="operator">|</span> possible_keys     <span class="operator">|</span> key               <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>   <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+------+-------------------+-------------------+---------+-------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> film_actor <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">ref</span>  <span class="operator">|</span> idx_film_actor_id <span class="operator">|</span> idx_film_actor_id <span class="operator">|</span> <span class="number">4</span>       <span class="operator">|</span> const <span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">Using</span> index <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+------+-------------------+-------------------+---------+-------+------+----------+-------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">19.56</span> sec)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>Using whereï¼ˆæŸ¥è¯¢çš„åˆ—æœªè¢«ç´¢å¼•è¦†ç›–ï¼‰</p><blockquote><p>ä½¿ç”¨ where è¯­å¥æ¥å¤„ç†ç»“æœï¼Œå¹¶ä¸”æŸ¥è¯¢çš„åˆ—æœªè¢«ç´¢å¼•è¦†ç›–</p></blockquote><ul><li><p>è¡¨ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">actor è¡¨çš„ç´¢å¼•ä¿¡æ¯</span><br><span class="line">- ä¸»é”®ç´¢å¼•ï¼šPRIMARY KEY (`id`)</span><br><span class="line"></span><br><span class="line">actor è¡¨çš„å­—æ®µç±»å‹</span><br><span class="line">- `id` int(11) NOT NULL COMMENT &#x27;ä¸»é”®ID&#x27;</span><br><span class="line">- `name` varchar(45) DEFAULT NULL COMMENT &#x27;æ¼”å‘˜åç§°&#x27;</span><br><span class="line">- `update_time` datetime DEFAULT NULL COMMENT &#x27;æ›´æ–°æ—¶é—´&#x27;</span><br><span class="line">- ä¸»é”®ç´¢å¼•ï¼šPRIMARY KEY (`id`)</span><br><span class="line"></span><br><span class="line">actor è¡¨çš„å­—æ®µç±»å‹</span><br><span class="line">- `id` int(11) NOT NULL COMMENT &#x27;ä¸»é”®ID&#x27;</span><br><span class="line">- `name` varchar(45) DEFAULT NULL COMMENT &#x27;æ¼”å‘˜åç§°&#x27;</span><br><span class="line">- `update_time` datetime DEFAULT NULL COMMENT &#x27;æ›´æ–°æ—¶é—´&#x27;</span><br></pre></td></tr></table></figure></li><li><p>ç¤ºä¾‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> actor <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span> <span class="operator">|</span> partitions <span class="operator">|</span> type <span class="operator">|</span> possible_keys <span class="operator">|</span> key  <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>  <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> actor <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">ALL</span>  <span class="operator">|</span> <span class="keyword">NULL</span>          <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>    <span class="number">33.33</span> <span class="operator">|</span> <span class="keyword">Using</span> <span class="keyword">where</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.03</span> sec)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>Using index conditionï¼ˆä¸å®Œå…¨è¢«ç´¢å¼•è¦†ç›–ï¼‰</p><blockquote><p>æŸ¥è¯¢çš„åˆ—ä¸å®Œå…¨è¢«ç´¢å¼•è¦†ç›–ï¼Œwhereæ¡ä»¶ä¸­æ˜¯ä¸€ä¸ªå‰å¯¼åˆ—çš„èŒƒå›´ï¼›</p></blockquote><ul><li><p>è¡¨ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">film_actor è¡¨çš„ç´¢å¼•ä¿¡æ¯</span><br><span class="line">- ä¸»é”®ç´¢å¼•ï¼šPRIMARY KEY (`id`)</span><br><span class="line">- è”åˆç´¢å¼•ï¼šKEY `idx_film_actor_id` (`film_id`,`actor_id`)</span><br><span class="line"></span><br><span class="line">film_actor è¡¨çš„å­—æ®µç±»å‹</span><br><span class="line">- `id` int(11) NOT NULL COMMENT &#x27;ä¸»é”®ID&#x27;</span><br><span class="line">- `film_id` int(11) NOT NULL COMMENT &#x27;ç”µå½±ID&#x27;</span><br><span class="line">- `actor_id` int(11) NOT NULL COMMENT &#x27;æ¼”å‘˜ID&#x27;</span><br><span class="line">- `remark` varchar(255) DEFAULT NULL COMMENT &#x27;å¤‡æ³¨&#x27;</span><br></pre></td></tr></table></figure></li><li><p>ç¤ºä¾‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> film_actor <span class="keyword">where</span> film_id <span class="operator">&gt;</span> <span class="number">1</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+-------+-------------------+-------------------+---------+------+------+----------+-----------------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span>      <span class="operator">|</span> partitions <span class="operator">|</span> type  <span class="operator">|</span> possible_keys     <span class="operator">|</span> key               <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>  <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra                 <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+-------+-------------------+-------------------+---------+------+------+----------+-----------------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> film_actor <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">range</span> <span class="operator">|</span> idx_film_actor_id <span class="operator">|</span> idx_film_actor_id <span class="operator">|</span> <span class="number">4</span>       <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">Using</span> index <span class="keyword">condition</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+------------+------------+-------+-------------------+-------------------+---------+------+------+----------+-----------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.03</span> sec)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>Using temporary</p><blockquote><p>mysqléœ€è¦åˆ›å»ºä¸€å¼ ä¸´æ—¶è¡¨æ¥å¤„ç†æŸ¥è¯¢ã€‚å‡ºç°è¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯è¦è¿›è¡Œä¼˜åŒ–çš„ï¼Œé¦–å…ˆæ˜¯æƒ³åˆ°ç”¨ç´¢å¼•æ¥ä¼˜åŒ–ã€‚</p></blockquote><ul><li><p>è¡¨ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">actor è¡¨çš„ç´¢å¼•ä¿¡æ¯</span><br><span class="line">- ä¸»é”®ç´¢å¼•ï¼šPRIMARY KEY (`id`)</span><br><span class="line"></span><br><span class="line">actor è¡¨çš„å­—æ®µç±»å‹</span><br><span class="line">- `id` int(11) NOT NULL COMMENT &#x27;ä¸»é”®ID&#x27;</span><br><span class="line">- `name` varchar(45) DEFAULT NULL COMMENT &#x27;æ¼”å‘˜åç§°&#x27;</span><br><span class="line">- `update_time` datetime DEFAULT NULL COMMENT &#x27;æ›´æ–°æ—¶é—´&#x27;</span><br><span class="line"></span><br><span class="line">actor.name æ²¡æœ‰ç´¢å¼•ï¼Œæ­¤æ—¶åˆ›å»ºäº†å¼ ä¸´æ—¶è¡¨æ¥distinct</span><br></pre></td></tr></table></figure></li><li><p>ç¤ºä¾‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> <span class="keyword">distinct</span> name <span class="keyword">from</span> actor;</span><br><span class="line"> </span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span> <span class="operator">|</span> partitions <span class="operator">|</span> type <span class="operator">|</span> possible_keys <span class="operator">|</span> key  <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>  <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> actor <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">ALL</span>  <span class="operator">|</span> <span class="keyword">NULL</span>          <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">Using</span> temporary <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.03</span> sec)</span><br></pre></td></tr></table></figure></li><li><p><strong>film.name å»ºç«‹äº†idx_nameç´¢å¼•ï¼Œæ­¤æ—¶æŸ¥è¯¢æ—¶extraæ˜¯using index,æ²¡æœ‰ç”¨ä¸´æ—¶è¡¨</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># æ–°å¢ idx_name ç´¢å¼•</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">ALTER</span> <span class="keyword">TABLE</span> `film` <span class="keyword">ADD</span> INDEX `idx_name`(`name`) <span class="keyword">USING</span> BTREE;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.09</span> sec)</span><br><span class="line">Records: <span class="number">0</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br><span class="line"> </span><br><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> <span class="keyword">distinct</span> name <span class="keyword">from</span> film;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span> <span class="operator">|</span> partitions <span class="operator">|</span> type  <span class="operator">|</span> possible_keys <span class="operator">|</span> key      <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>  <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> film  <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> index <span class="operator">|</span> idx_name      <span class="operator">|</span> idx_name <span class="operator">|</span> <span class="number">33</span>      <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">Using</span> index <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.04</span> sec)</span><br><span class="line"> </span><br><span class="line"># åˆ é™¤ idx_name ç´¢å¼•</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">ALTER</span> <span class="keyword">TABLE</span> `film` <span class="keyword">DROP</span> INDEX `idx_name`;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">1.78</span> sec)</span><br><span class="line">Records: <span class="number">0</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>Using filesort</p><blockquote><p>å°†ç”¨<strong>å¤–éƒ¨æ’åº</strong>è€Œä¸æ˜¯<strong>ç´¢å¼•æ’åº</strong>ï¼Œæ•°æ®è¾ƒå°æ—¶ä»å†…å­˜æ’åºï¼Œå¦åˆ™éœ€è¦åœ¨ç£ç›˜å®Œæˆæ’åºã€‚è¿™ç§æƒ…å†µä¸‹ä¸€èˆ¬ä¹Ÿæ˜¯è¦è€ƒè™‘ä½¿ç”¨ç´¢å¼•æ¥ä¼˜åŒ–çš„ã€‚</p></blockquote><ul><li><p>è¡¨ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">actor è¡¨çš„ç´¢å¼•ä¿¡æ¯</span><br><span class="line">- ä¸»é”®ç´¢å¼•ï¼šPRIMARY KEY (`id`)</span><br><span class="line"></span><br><span class="line">actor è¡¨çš„å­—æ®µç±»å‹</span><br><span class="line">- `id` int(11) NOT NULL COMMENT &#x27;ä¸»é”®ID&#x27;</span><br><span class="line">- `name` varchar(45) DEFAULT NULL COMMENT &#x27;æ¼”å‘˜åç§°&#x27;</span><br><span class="line">- `update_time` datetime DEFAULT NULL COMMENT &#x27;æ›´æ–°æ—¶é—´&#x27;</span><br></pre></td></tr></table></figure></li><li><p><strong>actor.nameæœªåˆ›å»ºç´¢å¼•ï¼Œä¼šæµè§ˆactoræ•´ä¸ªè¡¨ï¼Œä¿å­˜æ’åºå…³é”®å­—nameå’Œå¯¹åº”çš„idï¼Œç„¶åæ’åºnameå¹¶æ£€ç´¢è¡Œè®°å½•</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> actor <span class="keyword">order</span> <span class="keyword">by</span> name;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span> <span class="operator">|</span> partitions <span class="operator">|</span> type <span class="operator">|</span> possible_keys <span class="operator">|</span> key  <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>  <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> actor <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">ALL</span>  <span class="operator">|</span> <span class="keyword">NULL</span>          <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">Using</span> filesort <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">20.78</span> sec)</span><br></pre></td></tr></table></figure></li><li><p><strong>film.nameå»ºç«‹äº†idx_nameç´¢å¼•,æ­¤æ—¶æŸ¥è¯¢æ—¶extraæ˜¯using index</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># æ–°å¢ idx_name ç´¢å¼•</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">ALTER</span> <span class="keyword">TABLE</span> `film` <span class="keyword">ADD</span> INDEX `idx_name`(`name`) <span class="keyword">USING</span> BTREE;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.09</span> sec)</span><br><span class="line">Records: <span class="number">0</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br><span class="line"> </span><br><span class="line"># Extraï¼š<span class="keyword">Using</span> indexã€‚æ·»åŠ idx_name ç´¢å¼•ä¹‹åä½¿ç”¨åˆ°äº†è¦†ç›–ç´¢å¼•</span><br><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> film <span class="keyword">order</span> <span class="keyword">by</span> name;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span> <span class="operator">|</span> partitions <span class="operator">|</span> type  <span class="operator">|</span> possible_keys <span class="operator">|</span> key      <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>  <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> film  <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> index <span class="operator">|</span> <span class="keyword">NULL</span>          <span class="operator">|</span> idx_name <span class="operator">|</span> <span class="number">33</span>      <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>   <span class="number">100.00</span> <span class="operator">|</span> <span class="keyword">Using</span> index <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.20</span> sec)</span><br><span class="line"> </span><br><span class="line"># åˆ é™¤ idx_name ç´¢å¼•</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">ALTER</span> <span class="keyword">TABLE</span> `film` <span class="keyword">DROP</span> INDEX `idx_name`;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">1.78</span> sec)</span><br><span class="line">Records: <span class="number">0</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>Select tables optimized away</p><blockquote><p>ä½¿ç”¨æŸäº›èšåˆå‡½æ•°ï¼ˆæ¯”å¦‚ maxã€minï¼‰æ¥è®¿é—®å­˜åœ¨ç´¢å¼•çš„æŸä¸ªå­—æ®µ</p></blockquote><ul><li>ç¤ºä¾‹</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> explain <span class="keyword">select</span> <span class="built_in">min</span>(id) <span class="keyword">from</span> film;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+------------------------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> select_type <span class="operator">|</span> <span class="keyword">table</span> <span class="operator">|</span> partitions <span class="operator">|</span> type <span class="operator">|</span> possible_keys <span class="operator">|</span> key  <span class="operator">|</span> key_len <span class="operator">|</span> <span class="keyword">ref</span>  <span class="operator">|</span> <span class="keyword">rows</span> <span class="operator">|</span> filtered <span class="operator">|</span> Extra                        <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+------------------------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> SIMPLE      <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>          <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>     <span class="operator">|</span> <span class="keyword">Select</span> tables optimized away <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.11</span> sec)</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL-è¡¨è®¾è®¡è§„èŒƒï¼ˆäºŒï¼‰</title>
      <link href="/posts/1ce85a1d.html"/>
      <url>/posts/1ce85a1d.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>æœ¬æ–‡ä¸»è¦è®²è§£ <code>MySQL</code> ä¸­å¯¹è¡¨çš„è®¾è®¡ã€‚ä¾‹å¦‚ï¼Œè¡¨çš„é€šç”¨å­—æ®µã€å¦‚ä½•é€‰æ‹©åˆé€‚çš„å­—æ®µç±»å‹ã€å¦‚ä½•å¤„ç† 1:1 ã€1:N çš„å…³ç³»ç­‰ç­‰ã€‚</p><p>æˆ‘ä»¬è®¾è®¡æ—¶å¯ä»¥é€šè¿‡ <a href="http://www.pdman.cn/#/">PDMan</a> å¯¹è¡¨è¿›è¡Œè®¾è®¡</p></blockquote><h2 id="é€‰æ‹©åˆé€‚çš„å­—æ®µç±»å‹"><a href="#é€‰æ‹©åˆé€‚çš„å­—æ®µç±»å‹" class="headerlink" title="é€‰æ‹©åˆé€‚çš„å­—æ®µç±»å‹"></a>é€‰æ‹©åˆé€‚çš„å­—æ®µç±»å‹</h2><blockquote><p>æ•°å€¼ç±»å‹ï¼ˆNumeric Typesï¼‰ï¼šç”¨äºå­˜å‚¨æ•°å€¼æ•°æ®ï¼ŒåŒ…æ‹¬æ•´æ•°å’Œæµ®ç‚¹æ•°ã€‚ä¾‹å¦‚ï¼Œintã€bigintã€floatã€doubleã€decimal ç­‰ã€‚</p><p>å­—ç¬¦ä¸²ç±»å‹ï¼ˆString Typesï¼‰ï¼šç”¨äºå­˜å‚¨æ–‡æœ¬å’Œå­—ç¬¦æ•°æ®ã€‚ä¾‹å¦‚ï¼Œcharã€varcharã€textã€enumã€set ç­‰ã€‚</p><p>æ—¥æœŸå’Œæ—¶é—´ç±»å‹ï¼ˆDate and Time Typesï¼‰ï¼šç”¨äºå­˜å‚¨æ—¥æœŸã€æ—¶é—´å’Œæ—¶é—´æˆ³æ•°æ®ã€‚ä¾‹å¦‚ï¼Œdateã€timeã€datetimeã€timestampã€year ç­‰ã€‚</p><p>å¸ƒå°”ç±»å‹ï¼ˆBoolean Typeï¼‰ï¼šç”¨äºå­˜å‚¨å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºçœŸæˆ–å‡ã€‚MySQL ä¸­çš„å¸ƒå°”ç±»å‹æ˜¯ tinyint(1)ï¼Œå¯ä»¥ç”¨æ¥å­˜å‚¨ 0 æˆ– 1ã€‚</p><p>äºŒè¿›åˆ¶ç±»å‹ï¼ˆBinary Typesï¼‰ï¼šç”¨äºå­˜å‚¨äºŒè¿›åˆ¶æ•°æ®ï¼Œå¦‚å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘ç­‰ã€‚ä¾‹å¦‚ï¼Œbinaryã€varbinaryã€blob ç­‰ã€‚</p></blockquote><h3 id="æ•´æ•°æ•°æ®ç±»å‹"><a href="#æ•´æ•°æ•°æ®ç±»å‹" class="headerlink" title="æ•´æ•°æ•°æ®ç±»å‹"></a>æ•´æ•°æ•°æ®ç±»å‹</h3><blockquote><p>æ•´æ•°æ•°æ®ç±»å‹ï¼š<code>tinyint</code>ã€<code>smallint</code>ã€<code>int</code>ã€<code>bigint</code></p></blockquote><p><code>tinyint</code></p><ul><li>åŸºæœ¬å®šä¹‰ï¼šç”¨äºå­˜å‚¨éå¸¸å°çš„æ•´æ•°å€¼ã€‚å®ƒå ç”¨ 1 ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶ä¸”å¯ä»¥è¡¨ç¤ºèŒƒå›´ä¸º -128 åˆ° 127ï¼ˆæœ‰ç¬¦å·ï¼‰æˆ– 0 åˆ° 255ï¼ˆæ— ç¬¦å·ï¼‰çš„æ•´æ•°ã€‚</li><li>é€‚ç”¨åœºæ™¯ï¼šç”¨äºå­˜å‚¨å¸ƒå°”å€¼ï¼ˆ0 æˆ– 1ï¼‰æˆ–éå¸¸å°çš„æ•´æ•°æ•°æ®ã€‚</li></ul><p><code>smallint</code></p><ul><li>åŸºæœ¬å®šä¹‰ï¼šç”¨äºå­˜å‚¨è¾ƒå°çš„æ•´æ•°å€¼ã€‚å®ƒå ç”¨ 2 ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶ä¸”å¯ä»¥è¡¨ç¤ºèŒƒå›´ä¸º -32,768 åˆ° 32,767ï¼ˆæœ‰ç¬¦å·ï¼‰æˆ– 0 åˆ° 65,535ï¼ˆæ— ç¬¦å·ï¼‰çš„æ•´æ•°ã€‚</li><li>é€‚ç”¨åœºæ™¯ï¼šç”¨äºå­˜å‚¨ä¸­ç­‰å¤§å°çš„æ•´æ•°æ•°æ®ï¼Œå¦‚å¹´ä»½æˆ–æœˆä»½ï¼Œ<code>smallint</code> å¯èƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©</li></ul><p><code>int</code></p><ul><li>åŸºæœ¬å®šä¹‰ï¼šç”¨äºå­˜å‚¨æ™®é€šå¤§å°çš„æ•´æ•°å€¼ã€‚å®ƒå ç”¨ 4 ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶ä¸”å¯ä»¥è¡¨ç¤ºèŒƒå›´ä¸º -2,147,483,648 åˆ° 2,147,483,647ï¼ˆæœ‰ç¬¦å·ï¼‰æˆ– 0 åˆ° 4,294,967,295ï¼ˆæ— ç¬¦å·ï¼‰çš„æ•´æ•°ã€‚</li><li>é€‚ç”¨åœºæ™¯ï¼šç”¨äºå­˜å‚¨å¤§å¤šæ•°æ•´æ•°æ•°æ®ã€‚</li></ul><p><code>bigint</code></p><ul><li>åŸºæœ¬å®šä¹‰ï¼šç”¨äºå­˜å‚¨éå¸¸å¤§çš„æ•´æ•°å€¼ã€‚å®ƒå ç”¨ 8 ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶ä¸”å¯ä»¥è¡¨ç¤ºèŒƒå›´ä¸º -9,223,372,036,854,775,808 åˆ° 9,223,372,036,854,775,807ï¼ˆæœ‰ç¬¦å·ï¼‰æˆ– 0 åˆ° 18,446,744,073,709,551,615ï¼ˆæ— ç¬¦å·ï¼‰çš„æ•´æ•°ã€‚</li><li>é€‚ç”¨åœºæ™¯ï¼šç”¨äºå­˜å‚¨éå¸¸å¤§çš„æ•´æ•°æ•°æ®ã€‚</li></ul><h3 id="æµ®ç‚¹æ•°æ•°æ®ç±»å‹"><a href="#æµ®ç‚¹æ•°æ•°æ®ç±»å‹" class="headerlink" title="æµ®ç‚¹æ•°æ•°æ®ç±»å‹"></a>æµ®ç‚¹æ•°æ•°æ®ç±»å‹</h3><blockquote><p>æµ®ç‚¹æ•°æ•°æ®ç±»å‹ï¼š<code>float</code>ã€<code>double</code> å’Œ <code>decimal</code> </p><p>æ ¹æ®æ•°æ®èŒƒå›´ã€ç²¾åº¦è¦æ±‚ã€å­˜å‚¨ç©ºé—´å’Œè®¡ç®—æ€§èƒ½ç­‰å› ç´ æ¥é€‰æ‹©åˆé€‚çš„æµ®ç‚¹æ•°æ•°æ®ç±»å‹</p></blockquote><p><code>float</code></p><ul><li>åŸºæœ¬å®šä¹‰ï¼šå•ç²¾åº¦æµ®ç‚¹æ•°æ•°æ®ç±»å‹ï¼Œç”¨äºå­˜å‚¨è¾ƒå°èŒƒå›´çš„æµ®ç‚¹æ•°ã€‚å®ƒå ç”¨ 4 ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶æä¾›å¤§çº¦ 7 ä½æ•°å­—çš„ç²¾åº¦ã€‚</li><li>é€‚ç”¨åœºæ™¯ï¼šç”¨äºå­˜å‚¨ç›¸å¯¹è¾ƒå°çš„æµ®ç‚¹æ•°ï¼Œå¹¶ä¸”ä¸éœ€è¦éå¸¸é«˜çš„ç²¾åº¦ï¼Œä¾‹å¦‚ç§‘å­¦è®¡æ•°ã€‚</li></ul><p><code>double</code></p><ul><li>åŸºæœ¬å®šä¹‰ï¼šåŒç²¾åº¦æµ®ç‚¹æ•°æ•°æ®ç±»å‹ï¼Œç”¨äºå­˜å‚¨è¾ƒå¤§èŒƒå›´çš„æµ®ç‚¹æ•°ã€‚å®ƒå ç”¨ 8 ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶æä¾›å¤§çº¦ 15 ä½æ•°å­—çš„ç²¾åº¦ã€‚</li><li>é€‚ç”¨åœºæ™¯ï¼šç”¨äºå­˜å‚¨å¤§å¤šæ•°æµ®ç‚¹æ•°ï¼Œå¹¶æä¾›ç›¸å¯¹è¾ƒé«˜çš„ç²¾åº¦ï¼Œä¾‹å¦‚ å­˜å‚¨åæ ‡å°±æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</li></ul><p><code>decimal</code> </p><ul><li>åŸºæœ¬å®šä¹‰ï¼šç²¾ç¡®çš„æµ®ç‚¹æ•°æ•°æ®ç±»å‹ï¼Œç”¨äºå­˜å‚¨éœ€è¦é«˜ç²¾åº¦è®¡ç®—çš„æµ®ç‚¹æ•°ã€‚å®ƒå ç”¨å¯å˜çš„å­˜å‚¨ç©ºé—´ï¼Œå…·ä½“å–å†³äºæŒ‡å®šçš„ç²¾åº¦å’Œæ ‡åº¦ã€‚ç²¾åº¦è¡¨ç¤ºæ€»ä½æ•°ï¼Œæ ‡åº¦è¡¨ç¤ºå°æ•°ç‚¹åçš„ä½æ•°ã€‚</li><li>é€‚ç”¨åœºæ™¯ï¼šdecimal å¯ä»¥å­˜å‚¨éå¸¸å¤§çš„æ•°å€¼ï¼Œå¹¶æä¾›é«˜åº¦ç²¾ç¡®çš„è®¡ç®—ï¼Œé€‚åˆäºè´§å¸ã€é‡‘èå’Œç²¾ç¡®è®¡ç®—ç­‰é¢†åŸŸã€‚</li></ul><h3 id="å­—ç¬¦ä¸²æ•°æ®ç±»å‹"><a href="#å­—ç¬¦ä¸²æ•°æ®ç±»å‹" class="headerlink" title="å­—ç¬¦ä¸²æ•°æ®ç±»å‹"></a>å­—ç¬¦ä¸²æ•°æ®ç±»å‹</h3><blockquote><p>å­—ç¬¦ä¸²æ•°æ®ç±»å‹ï¼š<code>char</code>ã€<code>varchar</code> å’Œ <code>text</code></p></blockquote><p><code>char</code></p><ul><li>åŸºæœ¬å®šä¹‰ï¼šchar æ˜¯ä¸€ç§å›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²ç±»å‹ã€‚ä½ éœ€è¦æŒ‡å®šä¸€ä¸ªå›ºå®šçš„é•¿åº¦ï¼ŒèŒƒå›´æ˜¯ 0 åˆ° 255 ä¸ªå­—ç¬¦ã€‚</li><li>é€‚ç”¨åœºæ™¯ï¼šç”¨äºé•¿åº¦å›ºå®šçš„æ•°æ®ï¼Œä¾‹å¦‚èº«ä»½è¯å·ã€å›ºå®šé•¿åº¦çš„æ ‡è¯†ç¬¦ç­‰</li></ul><p><code>varchar</code></p><ul><li>åŸºæœ¬å®šä¹‰ï¼šå¯å˜é•¿åº¦çš„å­—ç¬¦ä¸²ç±»å‹ã€‚ä½ éœ€è¦æŒ‡å®šä¸€ä¸ªæœ€å¤§é•¿åº¦ï¼ŒèŒƒå›´æ˜¯ 0 åˆ° 65,535 ä¸ªå­—ç¬¦ã€‚å®ƒåªä¼šå ç”¨å®é™…å€¼æ‰€éœ€çš„å­˜å‚¨ç©ºé—´åŠ ä¸Šé¢å¤–çš„ä¸€äº›å­—èŠ‚ä½œä¸ºé•¿åº¦ä¿¡æ¯ã€‚</li><li>é€‚ç”¨åœºæ™¯ï¼šç”¨äºé•¿åº¦å¯å˜çš„æ•°æ®ï¼Œä¾‹å¦‚å­˜å‚¨ç”¨æˆ·åç§°ã€ç”µå­é‚®ä»¶åœ°å€ç­‰ã€‚</li></ul><p><code>text</code></p><ul><li>åŸºæœ¬å®šä¹‰ï¼šç”¨äºå­˜å‚¨å¤§é‡æ–‡æœ¬æ•°æ®çš„æ•°æ®ç±»å‹ï¼Œå…¶æœ€å¤§å­˜å‚¨å®¹é‡ä¸ºçº¦ 65,535 å­—ç¬¦ã€‚</li><li>é€‚ç”¨åœºæ™¯ï¼šç”¨äºå­˜å‚¨è¾ƒå¤§çš„æ–‡æœ¬ã€æ–‡ç« ã€å¤‡æ³¨ç­‰ã€‚</li></ul><h2 id="æ·»åŠ é€šç”¨å­—æ®µ"><a href="#æ·»åŠ é€šç”¨å­—æ®µ" class="headerlink" title="æ·»åŠ é€šç”¨å­—æ®µ"></a>æ·»åŠ é€šç”¨å­—æ®µ</h2><div class="table-container"><table><thead><tr><th><strong>å­—æ®µ</strong></th><th><strong>ç±»å‹</strong></th><th><strong>è§£é‡Š</strong></th><th><strong>æ˜¯å¦å¿…é¡»</strong></th></tr></thead><tbody><tr><td><strong>id</strong></td><td>bigint(20)</td><td><strong>ä¸»é”®</strong></td><td><strong>å¿…é¡»</strong></td></tr><tr><td>create_by</td><td>varchar(64)</td><td>åˆ›å»ºè€…</td><td>éå¿…é¡»</td></tr><tr><td>update_by</td><td>varchar(64)</td><td>æ›´æ–°è€…</td><td>éå¿…é¡»</td></tr><tr><td><strong>create_time</strong></td><td>datetime</td><td><strong>æ›´æ–°æ—¶é—´</strong></td><td><strong>å¿…é¡»</strong></td></tr><tr><td><strong>update_time</strong></td><td>datetime</td><td><strong>æ›´æ–°æ—¶é—´</strong></td><td><strong>å¿…é¡»</strong></td></tr><tr><td>data_status</td><td>tinyint(1)ã€bit(1)</td><td>æ•°æ®çŠ¶æ€</td><td>éå¿…é¡»</td></tr><tr><td>remark</td><td>varchar</td><td>è®°å½•å¤‡æ³¨</td><td>éå¿…é¡»</td></tr></tbody></table></div><h2 id="ä¸€å¼ è¡¨çš„å­—æ®µä¸å®œè¿‡å¤š"><a href="#ä¸€å¼ è¡¨çš„å­—æ®µä¸å®œè¿‡å¤š" class="headerlink" title="ä¸€å¼ è¡¨çš„å­—æ®µä¸å®œè¿‡å¤š"></a>ä¸€å¼ è¡¨çš„å­—æ®µä¸å®œè¿‡å¤š</h2><div class="note orange simple"><p>å¼ è¡¨çš„å­—æ®µä¸å®œè¿‡å¤šï¼Œä¸€èˆ¬å°½é‡ä¸è¦è¶…è¿‡20ä¸ªå­—æ®µã€‚å¦‚æœä¸€å¼ è¡¨çš„å­—æ®µè¿‡å¤šï¼Œè¡¨ä¸­ä¿å­˜çš„æ•°æ®å¯èƒ½å°±ä¼šå¾ˆå¤§ï¼ŒæŸ¥è¯¢æ•ˆç‡å°±ä¼šå¾ˆä½</p></div><p><strong>é‚£å¦‚ä½•è§£å†³å­—æ®µè¿‡å¤šé—®é¢˜å‘¢ï¼Ÿ</strong></p><ul><li>å¦‚æœå®åœ¨éœ€è¦å¾ˆå¤šå­—æ®µï¼Œå¯ä»¥æŠŠä¸€å¼ å¤§çš„è¡¨ï¼Œæ‹†æˆå¤šå¼ å°çš„è¡¨ï¼Œå®ƒä»¬çš„ä¸»é”®ç›¸åŒå³å¯ã€‚</li><li>è¡¨çš„å­—æ®µæ•°éå¸¸å¤šæ—¶ï¼Œå¯ä»¥å°†è¡¨åˆ†æˆä¸¤å¼ è¡¨ï¼Œä¸€å¼ ä½œä¸ºæ¡ä»¶æŸ¥è¯¢è¡¨ï¼Œä¸€å¼ ä½œä¸ºè¯¦ç»†å†…å®¹è¡¨ã€‚</li><li>æ ¸å¿ƒå°±æ˜¯é‡‡ç”¨ 1  ï¼š1 çš„å½¢å¼å°†è¡¨è¿›è¡Œæ‹†åˆ†ã€‚</li></ul><p><strong>ç¤ºä¾‹</strong></p><blockquote><p>å‡è®¾ä½ æœ‰ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯è¡¨ï¼Œå…¶ä¸­åŒ…å«ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯ï¼Œå¦‚åå­—ã€å¯†ç ã€ç”µå­é‚®ä»¶åœ°å€ã€ç”µè¯å·ç ç­‰ã€‚æ­¤å¤–ï¼Œè¿˜åŒ…å«ç”¨æˆ·çš„é“¶è¡Œå¡ä¿¡æ¯ï¼Œå¦‚å¡å·ã€é“¶è¡Œåç§°ã€æœ‰æ•ˆæœŸç­‰ã€‚</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯ users</span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------------+--------------------------------------------------------------+-------------------+-------------+</span></span><br><span class="line"><span class="operator">|</span> id  <span class="operator">|</span> username    <span class="operator">|</span> password                                                     <span class="operator">|</span> email             <span class="operator">|</span> mobile      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------------+--------------------------------------------------------------+-------------------+-------------+</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">1</span> <span class="operator">|</span> admin       <span class="operator">|</span> $<span class="number">2</span>a$<span class="number">10</span>$<span class="number">0</span>acJOIk2D25<span class="operator">/</span>oC87nyclE.<span class="number">.0</span>lzeu9DtQ<span class="operator">/</span>n3geP4fkun<span class="operator">/</span>zIVRhHJIO <span class="operator">|</span> admin<span class="variable">@example</span>.com <span class="operator">|</span> <span class="number">15612345678</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span> John        <span class="operator">|</span> $<span class="number">2</span>a$<span class="number">10</span>$<span class="number">11</span>U48RhyJ5pSBYWSn12AD.<span class="operator">/</span>ld671.ycSzJHbyrtpeoMeYiw31eo8a <span class="operator">|</span> john<span class="variable">@example</span>.com  <span class="operator">|</span> <span class="number">15601691300</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span> Mary        <span class="operator">|</span> $<span class="number">2</span>a$<span class="number">10</span>$YMpimV4T6BtDhIaA8jSW.u8UTGBeGhc<span class="operator">/</span>qwXP4oxoMr4mOw9.qttt6 <span class="operator">|</span> mary<span class="variable">@example</span>.com  <span class="operator">|</span> <span class="number">15601701300</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------------+--------------------------------------------------------------+-------------------+-------------+</span></span><br><span class="line"> </span><br><span class="line"># é“¶è¡Œå¡åŸºæœ¬ä¿¡æ¯ users_card</span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------------+-----------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> id  <span class="operator">|</span> user_id     <span class="operator">|</span> card_number <span class="operator">|</span> bank_name   <span class="operator">|</span> expiration_date   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------------+-----------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">1</span> <span class="operator">|</span> <span class="number">1</span>           <span class="operator">|</span> <span class="number">1234567890</span>  <span class="operator">|</span> Bank A      <span class="operator">|</span> <span class="number">2022</span><span class="number">-12</span><span class="number">-30</span>        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span> <span class="number">2</span>           <span class="operator">|</span> <span class="number">2345678901</span>  <span class="operator">|</span> Bank B      <span class="operator">|</span> <span class="number">2021</span><span class="number">-11</span><span class="number">-10</span>        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span> <span class="number">3</span>           <span class="operator">|</span> <span class="number">3456789012</span>  <span class="operator">|</span> Bank C      <span class="operator">|</span> <span class="number">2020</span><span class="number">-12</span><span class="number">-01</span>        <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------------+-----------------------------------------------+</span></span><br></pre></td></tr></table></figure><h2 id="è®¾è®¡è¡¨æ—¶ï¼Œè¯„ä¼°å“ªäº›å­—æ®µéœ€è¦åŠ ç´¢å¼•"><a href="#è®¾è®¡è¡¨æ—¶ï¼Œè¯„ä¼°å“ªäº›å­—æ®µéœ€è¦åŠ ç´¢å¼•" class="headerlink" title="è®¾è®¡è¡¨æ—¶ï¼Œè¯„ä¼°å“ªäº›å­—æ®µéœ€è¦åŠ ç´¢å¼•"></a><strong>è®¾è®¡è¡¨æ—¶ï¼Œè¯„ä¼°å“ªäº›å­—æ®µéœ€è¦åŠ ç´¢å¼•</strong></h2><div class="note orange simple"><p>å¦‚æœæœ‰æŸ¥è¯¢æ¡ä»¶çš„å­—æ®µï¼Œä¸€èˆ¬å°±éœ€è¦å»ºç«‹ç´¢å¼•ã€‚</p><p>å”¯ä¸€æ€§å¤ªå·®çš„å­—æ®µä¸éœ€è¦åˆ›å»ºç´¢å¼•,å³ä¾¿ç”¨äºwhereæ¡ä»¶.</p><p>å»ºç«‹è”åˆç´¢å¼•æ—¶,ä¹Ÿè¦è€ƒè™‘æŠŠé‡å¤ç‡ä½è€Œåˆç”¨å¾—å¤šçš„åˆ—æ”¾åœ¨å‰é¢.</p><p>ç´¢å¼•ä¹Ÿä¸è¦å»ºå¾—å¤ªå¤šï¼Œä¸€èˆ¬å•è¡¨ç´¢å¼•ä¸ªæ•°ä¸è¦è¶…è¿‡ <strong>5</strong> ä¸ªã€‚å› ä¸ºåˆ›å»ºè¿‡å¤šçš„ç´¢å¼•ï¼Œä¼šé™ä½å†™å¾—é€Ÿåº¦ã€‚</p><p>è¶…è¿‡ä¸‰ä¸ªè¡¨ç¦æ­¢ joinã€‚éœ€è¦ join çš„å­—æ®µï¼Œæ•°æ®ç±»å‹ä¿æŒç»å¯¹ä¸€è‡´ï¼›å¤šè¡¨å…³è”æŸ¥è¯¢æ—¶ï¼Œä¿è¯è¢«å…³è”çš„å­—æ®µéœ€è¦æœ‰ç´¢å¼•ã€‚</p></div><p>é’ˆå¯¹ é€»è¾‘åˆ é™¤ ç´¢å¼•å¦‚ä½•å»ºç«‹</p><ul><li>é€»è¾‘åˆ é™¤ä¸å”¯ä¸€ç´¢å¼•ï¼š<a href="https://developer.aliyun.com/article/861184">https://developer.aliyun.com/article/861184</a></li><li>å”¯ä¸€ç´¢å¼•é‡ä¸Šé€»è¾‘åˆ é™¤ï¼š<a href="https://juejin.cn/post/7155492949583724551">https://juejin.cn/post/7155492949583724551</a></li><li>ä¿æŒUnique Keyçš„é€»è¾‘åˆ é™¤æ–¹æ¡ˆï¼š<a href="https://cloud.tencent.com/developer/article/1531915">https://cloud.tencent.com/developer/article/1531915</a></li><li>å¦‚ä½•è§£å†³é€»è¾‘åˆ é™¤ä¸å”¯ä¸€ç´¢å¼•å†²çªï¼š<a href="https://www.lin2j.tech/archives/logic-delete-and-unique-key">https://www.lin2j.tech/archives/logic-delete-and-unique-key</a></li><li><strong>é€»è¾‘åˆ é™¤å’Œå”¯ä¸€ç´¢å¼•ï¼š</strong><a href="https://chsm.locklab.cn/2020/08/29/logical-deletion-and-unique-index/">https://chsm.locklab.cn/2020/08/29/logical-deletion-and-unique-index/</a></li></ul><p><strong>æ¡ˆä¾‹</strong></p><blockquote><p>å½“æˆ‘ä»¬æŸ¥è¯¢æŸä¸€æ¡è®°å½• ï¼Œ å¤§éƒ¨åˆ†æƒ…å†µéƒ½ä¼šèµ° <code>ç‰©ç†åˆ é™¤</code>ï¼Œæˆ‘ä»¬è¦æŸ¥è¯¢æŸæ¡è®°å½•å¯¹åº”çš„SQLï¼š <code>where delete_flag = 0</code> ã€‚å‰é¢æˆ‘ä»¬è¯´äº† å”¯ä¸€æ€§å¤ªå·®çš„å­—æ®µä¸éœ€è¦å»ºç«‹ç´¢å¼•ï¼Œé‚£ä¹ˆ å­—æ®µ <code>delete_flag</code> è¿™ä¸ªå­—æ®µåªæœ‰ <code>0</code> æˆ–è€… <code>1</code> .åº”è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305151523915.png" alt="image-20230515152307862"></p><h2 id="ä¸éœ€è¦ä¸¥æ ¼éµå®ˆ-3NF"><a href="#ä¸éœ€è¦ä¸¥æ ¼éµå®ˆ-3NF" class="headerlink" title="ä¸éœ€è¦ä¸¥æ ¼éµå®ˆ 3NF"></a>ä¸éœ€è¦ä¸¥æ ¼éµå®ˆ 3NF</h2><p><strong>æ•°æ®åº“ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰åŸºæœ¬æ¦‚å¿µ</strong></p><ul><li><p>ç¬¬ä¸€èŒƒå¼ï¼šå¯¹å±æ€§çš„åŸå­æ€§ï¼Œè¦æ±‚å±æ€§å…·æœ‰<strong>åŸå­æ€§ï¼Œä¸å¯å†åˆ†è§£</strong>ï¼›</p><ul><li>ä¾‹å¦‚ï¼šå­¦ç”Ÿï¼ˆå­¦å·ï¼Œå§“åï¼Œæ€§åˆ«ï¼Œå‡ºç”Ÿå¹´æœˆæ—¥ï¼‰ï¼Œå¦‚æœè®¤ä¸ºæœ€åä¸€åˆ—è¿˜å¯ä»¥å†åˆ†æˆï¼ˆå‡ºç”Ÿå¹´ï¼Œå‡ºç”Ÿæœˆï¼Œå‡ºç”Ÿæ—¥ï¼‰ï¼Œè¿™è¯´æ˜ä¸å…·å¤‡åŸå­æ€§ã€‚</li></ul></li><li><p>ç¬¬äºŒèŒƒå¼ï¼šå¯¹è®°å½•çš„å”¯ä¸€æ€§ï¼Œè¦æ±‚è®°å½•æœ‰å”¯ä¸€æ ‡è¯†ï¼Œå³å®ä½“çš„<strong>å”¯ä¸€æ€§ï¼Œå³ä¸å­˜åœ¨éƒ¨åˆ†ä¾èµ–</strong>ï¼›</p><ul><li>ä¾‹å¦‚ï¼šè¯¾ç¨‹ï¼ˆå­¦å·ã€å§“åã€è¯¾ç¨‹å·ã€å­¦åˆ†ï¼‰ï¼Œå­¦åˆ†ä¾èµ–è¯¾ç¨‹å·ï¼Œå§“åä¾èµ–ä¸å­¦å·ï¼Œæ‰€ä»¥ä¸ç¬¦åˆäºŒèŒƒå¼ã€‚</li><li>æ­£ç¡®åšæ³•ï¼šå­¦ç”Ÿï¼šStudent(å­¦å·, å§“å)ï¼›è¯¾ç¨‹ï¼šCourse(è¯¾ç¨‹å·, å­¦åˆ†)ï¼›é€‰è¯¾å…³ç³»ï¼šStudentCourse(å­¦å·, è¯¾ç¨‹å·, æˆç»©)ã€‚</li></ul></li><li><p>ç¬¬ä¸‰èŒƒå¼ï¼šå¯¹å­—æ®µçš„å†—ä½™æ€§ï¼Œè¦æ±‚ä»»ä½•å­—æ®µä¸èƒ½ç”±å…¶ä»–å­—æ®µæ´¾ç”Ÿå‡ºæ¥ï¼Œå®ƒè¦æ±‚å­—æ®µæ²¡æœ‰å†—ä½™ï¼Œå³<strong>ä¸å­˜åœ¨ä¼ é€’ä¾èµ–</strong>ï¼›</p><ul><li>ä¾‹å¦‚ï¼šå­¦å·, å§“å, å¹´é¾„, å­¦é™¢åç§°, å­¦é™¢ç”µè¯ã€‚ä¾èµ–ä¼ é€’: (å­¦å·) â†’ (å­¦ç”Ÿ)ï¼›(æ‰€åœ¨å­¦é™¢) â†’ (å­¦é™¢ç”µè¯)</li><li>æ­£ç¡®åšæ³•ï¼šå­¦ç”Ÿï¼š(å­¦å·, å§“å, å¹´é¾„, æ‰€åœ¨å­¦é™¢)ï¼›å­¦é™¢ï¼š(å­¦é™¢, ç”µè¯)ã€‚</li></ul></li></ul><p><strong>æ¡ˆä¾‹</strong></p><blockquote><p>é€šè¿‡ä¸šåŠ¡å­—æ®µå†—ä½™æ¥å‡å°‘è¡¨å…³è”ï¼Œæˆ‘ä»¬è®¾è®¡è¡¨åŠå…¶å­—æ®µä¹‹é—´çš„å…³ç³», åº”å°½é‡æ»¡è¶³ç¬¬ä¸‰èŒƒå¼ã€‚ä½†æ˜¯æœ‰æ—¶å€™ï¼Œå¯ä»¥é€‚å½“å†—ä½™ï¼Œæ¥æé«˜æ•ˆç‡</p></blockquote><p>æ€»é‡‘é¢ = å•ä»· <em> æ•°é‡ï¼Œæ€»é‡‘é¢è¿™ä¸ªå­—æ®µçš„å­˜åœ¨ï¼Œè¡¨æ˜è¯¥è¡¨çš„è®¾è®¡ä¸æ»¡è¶³ç¬¬ä¸‰èŒƒå¼ï¼Œå› ä¸ºæ€»é‡‘é¢å¯ä»¥ç”±å•ä»·</em>æ•°é‡å¾—åˆ°ï¼Œè¯´æ˜æ€»é‡‘é¢æ˜¯å†—ä½™å­—æ®µã€‚</p><div class="table-container"><table><thead><tr><th><strong>å•†å“åç§°</strong></th><th><strong>å•†å“å‹å·</strong></th><th><strong>å•ä»·</strong></th><th><strong>æ•°é‡</strong></th><th><strong>æ€»é‡‘é¢</strong></th></tr></thead><tbody><tr><td>æ‰‹æœº</td><td>IPhone 13 Pro Max</td><td>9000</td><td>5</td><td>45000</td></tr></tbody></table></div><h2 id="æ•°æ®åº“å­—æ®µæ˜¯æšä¸¾ç±»å‹çš„ï¼Œéœ€è¦åœ¨commentæ³¨é‡Šæ¸…æ¥š"><a href="#æ•°æ®åº“å­—æ®µæ˜¯æšä¸¾ç±»å‹çš„ï¼Œéœ€è¦åœ¨commentæ³¨é‡Šæ¸…æ¥š" class="headerlink" title="æ•°æ®åº“å­—æ®µæ˜¯æšä¸¾ç±»å‹çš„ï¼Œéœ€è¦åœ¨commentæ³¨é‡Šæ¸…æ¥š"></a>æ•°æ®åº“å­—æ®µæ˜¯æšä¸¾ç±»å‹çš„ï¼Œéœ€è¦åœ¨commentæ³¨é‡Šæ¸…æ¥š</h2><blockquote><p>å¦‚æœä½ è®¾è®¡çš„æ•°æ®åº“å­—æ®µæ˜¯æšä¸¾ç±»å‹çš„è¯ï¼Œå°±éœ€è¦åœ¨commentåé¢æ³¨é‡Šæ¸…æ¥šæ¯ä¸ªæšä¸¾çš„æ„æ€ï¼Œä»¥ä¾¿äºç»´æŠ¤</p></blockquote><p><strong>æ­£ä¾‹</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`session_status` <span class="type">char</span>(<span class="number">2</span>) <span class="keyword">COLLATE</span> utf8_bin <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;sessionæˆæƒæ€ 00ï¼šåœ¨çº¿-æˆæƒæ€æœ‰æ•ˆ 01ï¼šä¸‹çº¿-æˆæƒæ€å¤±æ•ˆ 02ï¼šä¸‹çº¿-ä¸»åŠ¨é€€å‡º 03ï¼šä¸‹çº¿-åœ¨åˆ«å¤„è¢«ç™»å½•&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>åä¾‹</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`session_status` <span class="type">varchar</span>(<span class="number">2</span>) <span class="keyword">COLLATE</span> utf8_bin <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;sessionæˆæƒæ€&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="1-N-ã€-N-N-å…³ç³»çš„è®¾è®¡"><a href="#1-N-ã€-N-N-å…³ç³»çš„è®¾è®¡" class="headerlink" title="(1 : N) ã€(N : N)å…³ç³»çš„è®¾è®¡"></a>(1 : N) ã€(N : N)å…³ç³»çš„è®¾è®¡</h2><p><strong>1 : N è¡¨çš„è®¾è®¡</strong></p><blockquote><p>ä»è¡¨ï¼ˆNçš„è¿™ä¸€æ–¹ï¼‰åˆ›å»ºä¸€ä¸ªå­—æ®µï¼Œä»¥å­—æ®µä½œä¸ºå¤–é”®æŒ‡å‘ä¸»è¡¨ï¼ˆ1çš„è¿™ä¸€æ–¹ï¼‰çš„ä¸»é”®</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305151531955.png" alt="image2022-12-30_16-51-18.png"></p><p><strong>N : Nè¡¨è®¾è®¡</strong></p><blockquote><p>é€šè¿‡å¢åŠ ç¬¬ä¸‰å¼ è¡¨ï¼ŒæŠŠN:Nä¿®æ”¹ä¸ºä¸¤ä¸ª 1:Nï¼Œä¾‹å¦‚ RBAC è¡¨çš„è®¾è®¡</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305151533552.png" alt="image2022-12-19_14-15-35.png"></p><h2 id="ä¸æå¤–é”®å…³è”ï¼Œä¸€èˆ¬éƒ½åœ¨ä»£ç ç»´æŠ¤"><a href="#ä¸æå¤–é”®å…³è”ï¼Œä¸€èˆ¬éƒ½åœ¨ä»£ç ç»´æŠ¤" class="headerlink" title="ä¸æå¤–é”®å…³è”ï¼Œä¸€èˆ¬éƒ½åœ¨ä»£ç ç»´æŠ¤"></a>ä¸æå¤–é”®å…³è”ï¼Œä¸€èˆ¬éƒ½åœ¨ä»£ç ç»´æŠ¤</h2><p><strong>ä»€ä¹ˆæ˜¯å¤–é”®å‘¢ï¼Ÿ</strong></p><ul><li>å¤–é”®ï¼Œä¹Ÿå«FOREIGN KEYï¼Œå®ƒæ˜¯ç”¨äºå°†ä¸¤ä¸ªè¡¨è¿æ¥åœ¨ä¸€èµ·çš„é”®ã€‚</li><li>FOREIGN KEYæ˜¯ä¸€ä¸ªè¡¨ä¸­çš„ä¸€ä¸ªå­—æ®µï¼ˆæˆ–å­—æ®µé›†åˆï¼‰ï¼Œå®ƒå¼•ç”¨å¦ä¸€ä¸ªè¡¨ä¸­çš„PRIMARY KEYã€‚å®ƒæ˜¯ç”¨æ¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§çš„ã€‚</li></ul><p><strong>é˜¿é‡Œçš„Javaè§„èŒƒä¹Ÿæœ‰è¿™ä¹ˆä¸€æ¡ï¼š</strong></p><ul><li>ã€å¼ºåˆ¶ã€‘ä¸å¾—ä½¿ç”¨å¤–é”®ä¸çº§è”ï¼Œä¸€åˆ‡å¤–é”®æ¦‚å¿µå¿…é¡»åœ¨åº”ç”¨å±‚è§£å†³ã€‚</li></ul><p><strong>æˆ‘ä»¬ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨å¤–é”®å‘¢ï¼Ÿ</strong></p><ul><li>ä½¿ç”¨å¤–é”®å­˜åœ¨æ€§èƒ½é—®é¢˜ã€å¹¶å‘æ­»é”é—®é¢˜ã€ä½¿ç”¨èµ·æ¥ä¸æ–¹ä¾¿ç­‰ç­‰ã€‚</li><li>æ¯æ¬¡åšDELETEæˆ–è€…UPDATEéƒ½å¿…é¡»è€ƒè™‘å¤–é”®çº¦æŸï¼Œä¼šå¯¼è‡´å¼€å‘çš„æ—¶å€™å¾ˆéš¾å—,æµ‹è¯•æ•°æ®é€ æ•°æ®ä¹Ÿä¸æ–¹ä¾¿ã€‚</li><li>è¿˜æœ‰ä¸€ä¸ªåœºæ™¯ä¸èƒ½ä½¿ç”¨å¤–é”®ï¼Œå°±æ˜¯åˆ†åº“åˆ†è¡¨ã€‚ </li></ul><h2 id="å‚è€ƒåšæ–‡"><a href="#å‚è€ƒåšæ–‡" class="headerlink" title="å‚è€ƒåšæ–‡"></a>å‚è€ƒåšæ–‡</h2><blockquote><ul><li><a href="https://juejin.cn/post/7147135702604447758">æ˜é‡‘æ–‡ç« ï¼ˆ21ä¸ªMySQLè¡¨è®¾è®¡çš„ç»éªŒå‡†åˆ™ï¼‰</a></li><li><a href="https://zhuanlan.zhihu.com/p/63005458">MySQLä¸­çš„charå’Œvarchar</a></li><li><a href="https://www.cnblogs.com/mkl34367803/p/13096564.html">ä¸ºä»€ä¹ˆè¯´æ€§åˆ«ä¸é€‚åˆåšç´¢å¼•</a></li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL-è¡¨å‘½åè§„èŒƒï¼ˆä¸€ï¼‰</title>
      <link href="/posts/9abc017f.html"/>
      <url>/posts/9abc017f.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>æœ¬æ–‡ä¸»è¦è®²è§£ <code>MySQL</code> è¡¨ä¸­çš„ä¸€äº›é”™è¯¯å‘½åè§„èŒƒï¼Œè™½ç„¶è¿™æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„äº‹æƒ…ï¼Œä½†éšç€éœ€æ±‚å¢å¤šï¼Œè¡¨ä¹Ÿåœ¨ä¸æ–­æ‰©å¼ ï¼Œå¦‚æœæ²¡æœ‰ç›¸å…³çš„è¡¨å‘½åè§„èŒƒï¼Œåˆ°æ—¶å€™ç»´æŠ¤èµ·æ¥ä¹Ÿä¼šåŠå…¶éº»çƒ¦ã€‚æˆ‘ä»¬ä»¥ å¼€æºæ¡†æ¶ <code>Ruoyi</code> ä¸ºä¾‹ï¼Œè®²è§£è¿™ä¸ªæ¡†æ¶å¯¹è¡¨çš„å‘½åå¤„ç†ã€‚</p></blockquote><h2 id="ä¸è§„èŒƒè¡¨å‘½åå­˜åœ¨çš„é—®é¢˜"><a href="#ä¸è§„èŒƒè¡¨å‘½åå­˜åœ¨çš„é—®é¢˜" class="headerlink" title="ä¸è§„èŒƒè¡¨å‘½åå­˜åœ¨çš„é—®é¢˜"></a>ä¸è§„èŒƒè¡¨å‘½åå­˜åœ¨çš„é—®é¢˜</h2><h3 id="è¡¨å‘½å"><a href="#è¡¨å‘½å" class="headerlink" title="è¡¨å‘½å"></a>è¡¨å‘½å</h3><div class="note orange simple"><p>é—®é¢˜ä¸€ï¼šå¦‚ä¸‹å›¾ä¸­ï¼Œå¦‚ä¸‹è¡¨åè™½ç„¶å¯ä»¥åšåˆ°è§åå…¶æ„ï¼Œä½†éšç€ä¸šåŠ¡æ‰©å±•ã€‚å½“éœ€è¦æŸ¥è¯¢æŸä¸€ä¸ªæ¨¡å—çš„æ•°æ®æ—¶ï¼Œä½†åˆä¸æ¸…æ¥šè¡¨åå°±ä¼šå­˜åœ¨é—®é¢˜ã€‚</p></div><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305151249471.png" alt="image-20230515124929426"></p><h3 id="å­—æ®µå‘½å"><a href="#å­—æ®µå‘½å" class="headerlink" title="å­—æ®µå‘½å"></a>å­—æ®µå‘½å</h3><div class="note orange simple"><p>é—®é¢˜äºŒï¼šå¦‚ä¸‹å›¾ä¸­ï¼Œæ‰¾åˆ°äº†è¡¨åï¼Œä½†å¦‚æœè¦ä¿®æ”¹æŸä¸ªå­—æ®µçš„æ•°æ®åˆä¼šå­˜åœ¨é—®é¢˜äº†ã€‚</p></div><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305151255479.png" alt="image-20230515125527436"></p><h2 id="Ruoyi-å¯¹è¡¨å‘½åçš„å¤„ç†"><a href="#Ruoyi-å¯¹è¡¨å‘½åçš„å¤„ç†" class="headerlink" title="Ruoyi å¯¹è¡¨å‘½åçš„å¤„ç†"></a><code>Ruoyi</code> å¯¹è¡¨å‘½åçš„å¤„ç†</h2><blockquote><p>åŸºæœ¬è§„èŒƒ</p><ul><li><strong>æ•°æ®åº“è¡¨åã€å­—æ®µåã€ç´¢å¼•åç­‰éƒ½éœ€è¦å‘½åè§„èŒƒï¼Œå¯è¯»æ€§é«˜(ä¸€èˆ¬è¦æ±‚ç”¨è‹±æ–‡)ï¼Œæœ€å¥½åšåˆ°è§åçŸ¥æ„</strong></li><li>æˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½åçŸ¥é“è¡¨å±äºé‚£ä¸ªæ¨¡å—ï¼Œå¯ä»¥é«˜æ•ˆçš„å®šä½åˆ°è¡¨è¿›è¡Œä¿®æ”¹ã€‚</li></ul></blockquote><h3 id="è¡¨å‘½å-1"><a href="#è¡¨å‘½å-1" class="headerlink" title="è¡¨å‘½å"></a>è¡¨å‘½å</h3><blockquote><p>åŸºæœ¬è§„èŒƒ</p><ul><li>å¿…é¡»ä½¿ç”¨å°å†™å­—æ¯æˆ–è€…æ•°å­—ï¼Œç¦æ­¢ä½¿ç”¨æ•°å­—å¼€å¤´ï¼Œç¦æ­¢ä½¿ç”¨æ‹¼éŸ³ï¼Œå¹¶ä¸”ä¸€èˆ¬ä¸ä½¿ç”¨è‹±æ–‡ç¼©å†™ã€‚</li><li>åœ¨ <code>MySQL</code> ä¸­ï¼Œå¦‚æœè¡¨åå¯ä»¥ä½¿ç”¨çˆ¶çº§æ¨¡å—çš„åç§°ä½œä¸ºå‰ç¼€ï¼Œå¯ä»¥æ›´å¥½åœ°ç»„ç»‡å’Œç®¡ç†è¡¨</li></ul></blockquote><p>å¦‚ä¸‹å›¾ï¼Œ<code>QRTZ</code> å¼€å¤´å°±å¯ä»¥çŸ¥é“æ˜¯å®šæ—¶ä»»åŠ¡æ¨¡å—çš„æ•°æ®ã€‚<code>system</code> å¼€å¤´çš„å°±çŸ¥é“æ˜¯ç³»ç»Ÿæ¨¡å—çš„æ•°æ®ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305151302576.png" alt="image2022-12-30_10-30-27.png"></p><h3 id="å­—æ®µå‘½å-1"><a href="#å­—æ®µå‘½å-1" class="headerlink" title="å­—æ®µå‘½å"></a>å­—æ®µå‘½å</h3><blockquote><p>åŸºæœ¬è§„èŒƒ</p><ul><li>å¿…é¡»ä½¿ç”¨å°å†™å­—æ¯æˆ–è€…æ•°å­—ï¼Œç¦æ­¢ä½¿ç”¨æ•°å­—å¼€å¤´ï¼Œç¦æ­¢ä½¿ç”¨æ‹¼éŸ³ï¼Œå¹¶ä¸”ä¸€èˆ¬ä¸ä½¿ç”¨è‹±æ–‡ç¼©å†™</li></ul></blockquote><p>ä¾‹å¦‚ï¼Œä¸€ä¸ªè¡¨çš„è´¦å·å­—æ®µ</p><ul><li>åä¾‹</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `account_user` (</span><br><span class="line">  `<span class="number">1</span>_acc_no` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;è´¦å·&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`acc_no`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">3</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 <span class="keyword">COLLATE</span><span class="operator">=</span>utf8mb4_unicode_ci COMMENT<span class="operator">=</span><span class="string">&#x27;ç”¨æˆ·ä¿¡æ¯è¡¨&#x27;</span>;</span><br></pre></td></tr></table></figure><ul><li>æ­£ä¾‹</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `account_user` (</span><br><span class="line">  `account_no` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;è´¦å·&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`account_no`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">3</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 <span class="keyword">COLLATE</span><span class="operator">=</span>utf8mb4_unicode_ci COMMENT<span class="operator">=</span><span class="string">&#x27;ç”¨æˆ·ä¿¡æ¯è¡¨&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="ç´¢å¼•å‘½å"><a href="#ç´¢å¼•å‘½å" class="headerlink" title="ç´¢å¼•å‘½å"></a>ç´¢å¼•å‘½å</h3><p>ä¸»é”®ç´¢å¼•ï¼š</p><ul><li>pk_å­—æ®µåã€‚ ä¾‹å¦‚ï¼š<strong><code>PRIMARY KEY (</code>id<code>) USING BTREE</code></strong></li></ul><p>å”¯ä¸€ç´¢å¼•ï¼š</p><ul><li>uk_å­—æ®µåã€‚ ä¾‹å¦‚ï¼š<strong><code>UNIQUE INDEX</code>uk_mobile<code>(</code>mobile<code>ASC) USING BTREE</code></strong></li></ul><p>æ™®é€šç´¢å¼•ï¼š</p><ul><li>idx_å­—æ®µåã€‚ä¾‹å¦‚ï¼š<strong><code>INDEX</code>idx_mobile<code>(</code>mobile<code>ASC) USING BTREE</code></strong></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx-è´Ÿè½½å‡è¡¡ï¼ˆä¹ï¼‰</title>
      <link href="/posts/ed9b15a4.html"/>
      <url>/posts/ed9b15a4.html</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜æ€è€ƒï¼Ÿ"><a href="#é—®é¢˜æ€è€ƒï¼Ÿ" class="headerlink" title="é—®é¢˜æ€è€ƒï¼Ÿ"></a>é—®é¢˜æ€è€ƒï¼Ÿ</h2><ol><li><p><strong>è´Ÿè½½å‡è¡¡ä¹‹å‰ä½¿ç”¨çš„ä»€ä¹ˆæ–¹æ¡ˆï¼Ÿ</strong></p><ul><li>åœ¨æ—©æœŸå¹¶å‘ä¸å¤§çš„æƒ…å†µï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨å¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ¶æ„ã€‚</li><li>å½“ç”¨æˆ·å¢é•¿é‡ä¸Šå‡ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚çš„èƒ½åŠ›åˆ°è¾¾äº†æé™ï¼Œå°±ä¼šå‡ºç°åŠ è½½é€Ÿåº¦æ…¢ï¼Œå‡ºç°å®•æœºæƒ…å†µ</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305121653538.png" alt="image.png"></p></li><li><p><strong>è´Ÿè½½å‡è¡¡ è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</strong></p><ul><li>é’ˆå¯¹ä¸Šé¢çš„é—®é¢˜å°±å¯ä»¥ä½¿ç”¨ è´Ÿè½½å‡è¡¡ ç­–ç•¥è¿›è¡Œå¤„ç†ï¼Œå…·ä½“å¦‚ä¸‹å›¾</li><li>å½“æˆ‘ä»¬å…¶ä¸­ä¸€å°æœåŠ¡å‡ºç°é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è´Ÿè½½å‡è¡¡ç­–ç•¥å°†è¯·æ±‚è½¬ç§»åˆ°å…¶ä»–æœåŠ¡å™¨ä¸­ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305121654822.gif" alt="v2-3661c2082103036ecb23a3f29be740be_b.gif"></p></li><li><p><strong>è´Ÿè½½å‡è¡¡æä¾›çš„ç­–ç•¥ï¼Ÿ</strong></p><ul><li>è½®è¯¢ç­–ç•¥ï¼ˆround-robinï¼‰ï¼šè¯·æ±‚åœ¨æ‰€æœ‰å¯ç”¨æœåŠ¡å™¨ä¹‹é—´å¹³å‡åˆ†é…ï¼Œè´Ÿè½½å‡è¡¡é»˜è®¤çš„é…ç½®å°±æ˜¯è½®è¯¢ã€‚</li><li>æƒé‡ç­–ç•¥ï¼ˆweightï¼‰ï¼šæœåŠ¡å™¨è¢«åˆ†é…ä¸€ä¸ªæƒé‡ï¼Œè¯·æ±‚æ ¹æ®æ¯ä¸ªæœåŠ¡å™¨çš„æƒé‡åˆ†é…ã€‚</li><li>éšæœºç­–ç•¥ï¼ˆrandomï¼‰ï¼šè¯·æ±‚è¢«éšæœºåˆ†é…åœ¨ä»»æ„ä¸€å°å¯ç”¨æœåŠ¡å™¨å½“ä¸­ã€‚</li><li>ip_hashï¼šå®¢æˆ·ç«¯çš„ IP åœ°å€å°†ç”¨ä½œå“ˆå¸Œé”®ï¼Œæ¥è‡ªåŒä¸€ä¸ªipçš„è¯·æ±‚ä¼šè¢«è½¬å‘åˆ°ç›¸åŒçš„æœåŠ¡å™¨ã€‚</li><li>å“åº”æ—¶é•¿ç­–ç•¥ï¼ˆfairï¼‰ï¼šæ ¹æ®æœåŠ¡å™¨çš„å“åº”æ—¶é—´æ¥åˆ†é…è¯·æ±‚ï¼Œå“åº”æ—¶é—´çŸ­çš„ä¼˜å…ˆåˆ†é…ï¼Œå³è´Ÿè½½å‹åŠ›å°çš„ä¼˜å…ˆä¼šåˆ†é…ã€‚</li><li>æœ€å°‘è¿æ¥ï¼ˆleast_connï¼‰ï¼šå°†è¯·æ±‚åˆ†é…ç»™æ´»åŠ¨è¿æ¥æ•°æœ€å°‘çš„æœåŠ¡å™¨ï¼ˆè¾ƒä¸ºç©ºé—²çš„æœåŠ¡å™¨ï¼‰ã€‚</li></ul></li></ol><h2 id="Nginx-é…ç½®è´Ÿè½½å‡è¡¡ç­–ç•¥"><a href="#Nginx-é…ç½®è´Ÿè½½å‡è¡¡ç­–ç•¥" class="headerlink" title="Nginx é…ç½®è´Ÿè½½å‡è¡¡ç­–ç•¥"></a><strong>Nginx é…ç½®è´Ÿè½½å‡è¡¡ç­–ç•¥</strong></h2><blockquote><p>æ ¹æ®ä¸šåŠ¡åœºæ™¯çš„ä¸åŒé€‰æ‹©ä¸åŒçš„ç­–ç•¥æ–¹å¼ï¼Œå¦‚æœé€‰æ‹©çš„ç­–ç•¥ä¸é€‚åˆç‰¹å®šåœºæ™¯ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚</p></blockquote><h3 id="æœ€ä½³å®ç°ï¼ˆround-robinã€randomï¼‰"><a href="#æœ€ä½³å®ç°ï¼ˆround-robinã€randomï¼‰" class="headerlink" title="æœ€ä½³å®ç°ï¼ˆround-robinã€randomï¼‰"></a>æœ€ä½³å®ç°ï¼ˆround-robinã€randomï¼‰</h3><blockquote><p>æœ€ä½³å®è·µçš„ä¸¤ç§ç­–ç•¥ï¼š<strong>è½®è¯¢ç­–ç•¥ï¼ˆround-robinï¼‰ã€éšæœºç­–ç•¥ï¼ˆrandomï¼‰</strong></p><p><strong>æœ€ä½³å®ç°çš„è€ƒé‡æŒ‡æ ‡</strong></p><ul><li>è¿™ç§æ˜¯æœ€å¸¸è§çš„ä¸€ç§é…ç½®ï¼Œå½“ä¸çŸ¥é“ç”¨ä»€ä¹ˆçš„æ—¶å€™å°±é‡‡ç”¨è¿™ä¸€ç±»å‹ã€‚</li><li>éšæœºç­–ç•¥åœ¨å¤§é‡è¯·æ±‚çš„æƒ…å†µä¸‹ï¼ŒæŒ‰ç…§æ¦‚ç‡çš„ç†è®ºç­‰åŒäºè½®è¯¢ç­–ç•¥ã€‚</li></ul></blockquote><p><strong>è½®è¯¢ç­–ç•¥ï¼ˆround-robinï¼‰ï¼šè¯·æ±‚åœ¨æ‰€æœ‰å¯ç”¨æœåŠ¡å™¨ä¹‹é—´å¹³å‡åˆ†é…</strong></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é»˜è®¤é…ç½®å°±æ˜¯è½®è¯¢ç­–ç•¥</span></span><br><span class="line"><span class="section">upstream</span> server_group &#123;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.100:9001</span>;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.101:9001</span>;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.102:9001</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">server&#123;</span><br><span class="line">   </span><br><span class="line">    <span class="comment"># ç›‘å¬ç«¯å£</span></span><br><span class="line">    <span class="attribute">listen</span> <span class="number">8003</span>;</span><br><span class="line">    <span class="comment"># åŒ¹é…è¯·æ±‚ä¸­çš„hostå€¼</span></span><br><span class="line">    <span class="attribute">server_name</span> ruoyi.balance.localhost;</span><br><span class="line"> </span><br><span class="line">    <span class="comment"># ç›‘å¬è¯·æ±‚é™æ€èµ„æº html è·¯å¾„</span></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">      <span class="comment"># æŸ¥æ‰¾ç›®å½•</span></span><br><span class="line">      <span class="attribute">root</span> /home/basics-analysis/web;</span><br><span class="line">      <span class="comment"># é»˜è®¤æŸ¥æ‰¾</span></span><br><span class="line">      <span class="attribute">index</span> index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">       </span><br><span class="line">    <span class="comment"># ç›‘å¬è¯·æ±‚åç«¯æœåŠ¡</span></span><br><span class="line">    <span class="section">location</span><span class="regexp"> ^~</span> /api &#123;</span><br><span class="line">        <span class="comment">#nginxçš„ä¸»æœºåœ°å€</span></span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$http_host</span>;</span><br><span class="line">  </span><br><span class="line">        <span class="comment">#ç”¨æˆ·ç«¯çœŸå®çš„IPï¼Œå³å®¢æˆ·ç«¯IP</span></span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line"> </span><br><span class="line">        <span class="comment"># é…ç½®ä»£ç†æœåŠ¡å™¨</span></span><br><span class="line">        <span class="attribute">proxy_pass</span> http://server_group;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>éšæœºç­–ç•¥ï¼ˆrandomï¼‰ï¼šè¯·æ±‚è¢«éšæœºåˆ†é…åœ¨ä»»æ„ä¸€å°å¯ç”¨æœåŠ¡å™¨å½“ä¸­</strong></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># éšæœºç­–ç•¥</span></span><br><span class="line"><span class="section">upstream</span> server_group &#123;</span><br><span class="line">   random;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.100:9001</span>;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.101:9001</span>;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.102:9001</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ€§èƒ½ä¼˜å…ˆï¼ˆweightã€fairã€least-connï¼‰"><a href="#æ€§èƒ½ä¼˜å…ˆï¼ˆweightã€fairã€least-connï¼‰" class="headerlink" title="æ€§èƒ½ä¼˜å…ˆï¼ˆweightã€fairã€least_connï¼‰"></a>æ€§èƒ½ä¼˜å…ˆï¼ˆweightã€fairã€least_connï¼‰</h3><blockquote><p>æ€§èƒ½ä¼˜å…ˆçš„ä¸‰ç§ç­–ç•¥ï¼š<strong>æƒé‡ç­–ç•¥ï¼ˆweightï¼‰ã€å“åº”æ—¶é•¿ç­–ç•¥ï¼ˆfairï¼‰ã€æœ€å°è¿æ¥ï¼ˆleast_connï¼‰</strong></p><p><strong>æ€§èƒ½ä¼˜å…ˆçš„è€ƒé‡æŒ‡æ ‡</strong></p><ul><li>ä»ç»éªŒæˆ–ç¡¬ä»¶ä¸Šåˆ†ä¸ºé«˜æƒé‡ã€ä½æƒé‡çš„æœºå™¨ã€‚</li><li>æŒ‰ç…§èŠ‚ç‚¹è¯·æ±‚çš„å“åº”æ—¶é•¿æ¥å†³å®šæ˜¯å¤šåˆ†é…è¯·æ±‚ï¼Œè¿˜æ˜¯å°‘åˆ†é…è¯·æ±‚ã€‚</li><li>æŒ‰ç…§ä¿æŒçš„è¿æ¥æ•°ã€‚ä¸€èˆ¬æ¥è¯´ä¿æŒçš„è¿æ¥æ•°è¶Šå¤šè¯´æ˜å¤„ç†çš„ä»»åŠ¡è¶Šå¤šï¼Œä¹Ÿæ˜¯æœ€ç¹å¿™çš„ï¼Œå¯ä»¥å°†è¯·æ±‚åˆ†é…ç»™å…¶ä»–æœºå™¨å¤„ç†ã€‚</li></ul></blockquote><p><strong>æƒé‡ç­–ç•¥ï¼ˆweightï¼‰ï¼šæœåŠ¡å™¨è¢«åˆ†é…ä¸€ä¸ªæƒé‡ï¼Œè¯·æ±‚æ ¹æ®æ¯ä¸ªæœåŠ¡å™¨çš„æƒé‡åˆ†é…</strong></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æƒé‡ç­–ç•¥</span></span><br><span class="line"><span class="section">upstream</span> server_group &#123;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.100:9001</span> weight=<span class="number">5</span>;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.101:9001</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å“åº”æ—¶é•¿ç­–ç•¥ï¼ˆfairï¼‰ï¼šæ ¹æ®æœåŠ¡å™¨çš„å“åº”æ—¶é—´æ¥åˆ†é…è¯·æ±‚ï¼Œå“åº”æ—¶é—´çŸ­çš„ä¼˜å…ˆåˆ†é…ï¼Œå³è´Ÿè½½å‹åŠ›å°çš„ä¼˜å…ˆä¼šåˆ†é…</strong></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å“åº”æ—¶é•¿ç­–ç•¥</span></span><br><span class="line"><span class="section">upstream</span> server_group &#123;</span><br><span class="line">   fair;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.100:9001</span>;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.101:9001</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æœ€å°‘è¿æ¥æ•°ï¼ˆleast_connï¼‰ï¼šå°†è¯·æ±‚åˆ†é…ç»™æ´»åŠ¨è¿æ¥æ•°æœ€å°‘çš„æœåŠ¡å™¨ï¼ˆè¾ƒä¸ºç©ºé—²çš„æœåŠ¡å™¨ï¼‰</strong></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœ€å°‘è¿æ¥æ•°</span></span><br><span class="line"><span class="section">upstream</span> server_group &#123;</span><br><span class="line">   least_conn;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.100:9001</span>;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.101:9001</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¿æŒç¨³å®šï¼ˆip-hashã€url-hashï¼‰"><a href="#ä¿æŒç¨³å®šï¼ˆip-hashã€url-hashï¼‰" class="headerlink" title="ä¿æŒç¨³å®šï¼ˆip_hashã€url_hashï¼‰"></a>ä¿æŒç¨³å®šï¼ˆip_hashã€url_hashï¼‰</h3><blockquote><p><strong>ä¿æŒç¨³å®šçš„ä¸¤ç§ç­–ç•¥ï¼šip_hashã€url_hash</strong></p><p><strong>ä¿æŒç¨³å®šçš„è€ƒé‡æŒ‡æ ‡</strong></p><ul><li>å¾ˆå¤šè¯·æ±‚éƒ½æ˜¯æœ‰çŠ¶æ€çš„ï¼Œä¸Šä¸€æ¬¡è¯·æ±‚åˆ°å“ªä¸ªä¸šåŠ¡èŠ‚ç‚¹ï¼Œè¿™æ¬¡è¿˜è¦è¯·æ±‚åˆ°å“ªå°æœºå™¨ã€‚</li><li>å°†å®¢æˆ·ç«¯çš„ IP åœ°å€ æˆ–è€… url ä½œä¸ºå“ˆå¸Œé”®ï¼Œæ¥è‡ªåŒä¸€ä¸ªipçš„è¯·æ±‚ä¼šè¢«è½¬å‘åˆ°ç›¸åŒçš„æœåŠ¡å™¨ã€‚</li></ul><p><strong>ä¿æŒç¨³å®šçš„ä¸¤ç§ç­–ç•¥å­˜åœ¨çš„é—®é¢˜</strong></p><ul><li><strong>å½“æœ‰ä¸€ä¸ªä¸Šæ¸¸æœåŠ¡å™¨å®•æœºæˆ–è€…æ‰©å®¹çš„æ—¶å€™ï¼Œä¼šå¼•å‘å¤§é‡çš„è·¯ç”±å˜æ›´ï¼Œè¿›è€Œå¼•å‘è¿é”ååº”ï¼Œå¦‚æœä¸Šæ¸¸æœåŠ¡å™¨åœ¨æœ‰ç¼“å­˜çš„æƒ…å†µä¸‹å¯¼è‡´å¤§é‡ç¼“å­˜å¤±æ•ˆç­‰é—®é¢˜ã€‚</strong></li><li><strong>é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œå‚è€ƒåšæ–‡ï¼š</strong><a href="https://blog.csdn.net/qq_34556414/article/details/106156796">https://blog.csdn.net/qq_34556414/article/details/106156796</a></li></ul></blockquote><p><strong>ip_hashç­–ç•¥</strong></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ip_hash</span></span><br><span class="line"><span class="section">upstream</span> server_group &#123;</span><br><span class="line">   ip_hash;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.100:9001</span>;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.101:9001</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>url_hashç­–ç•¥</strong></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># url_hash</span></span><br><span class="line"><span class="section">upstream</span> server_group&#123;</span><br><span class="line">   <span class="attribute">hash</span> <span class="variable">$request_uri</span> consistent;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.100:9001</span>;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.101:9001</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ•…éšœèŠ‚ç‚¹æ‘˜é™¤ä¸æ¢å¤"><a href="#æ•…éšœèŠ‚ç‚¹æ‘˜é™¤ä¸æ¢å¤" class="headerlink" title="æ•…éšœèŠ‚ç‚¹æ‘˜é™¤ä¸æ¢å¤"></a>æ•…éšœèŠ‚ç‚¹æ‘˜é™¤ä¸æ¢å¤</h2><ul><li>ç»å…¸é…ç½®è¯¦è§£</li></ul><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">upstream</span> server_group &#123;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.100:9001</span> max_fails=<span class="number">3</span> fail_timeout=<span class="number">30s</span>;</span><br><span class="line">   <span class="attribute">server</span> <span class="number">192.168.206.101:9001</span> backup;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>é…ç½®è¯¦è§£</strong></p><div class="table-container"><table><thead><tr><th><strong>æŒ‡ä»¤</strong></th><th><strong>é»˜è®¤å€¼</strong></th><th><strong>è§£é‡Š</strong></th></tr></thead><tbody><tr><td>max_fails</td><td>1</td><td>è¯·æ±‚å¤±è´¥å¤šå°‘æ¬¡ä¹‹åï¼Œæš‚åœä½¿ç”¨è¯¥èŠ‚ç‚¹ã€‚éœ€è¦æ­é…fail_timeout ä¸€èµ·ä½¿ç”¨ã€‚</td></tr><tr><td>fail_timeout</td><td>10s</td><td>å½“è®¤å®šè¯¥èŠ‚ç‚¹ä¸èƒ½ä½¿ç”¨ä¹‹åï¼Œæš‚å®šå¤šä¹…å¯ä»¥ä½¿ç”¨ã€‚</td></tr><tr><td>backup</td><td>-</td><td>ç±»ä¼¼äºswitchè¯­å¥ä¸­çš„defaultï¼Œå½“ä¸»è¦èŠ‚ç‚¹éƒ½æŒ‚äº†çš„æ—¶å€™ï¼Œä¼šæŠŠè¯·æ±‚æ‰“åˆ°è¿™ä¸ªbackupèŠ‚ç‚¹</td></tr></tbody></table></div><h2 id="å‚è€ƒåšæ–‡"><a href="#å‚è€ƒåšæ–‡" class="headerlink" title="å‚è€ƒåšæ–‡"></a>å‚è€ƒåšæ–‡</h2><blockquote><p><a href="https://zhuanlan.zhihu.com/p/32841479">ä»€ä¹ˆæ˜¯è´Ÿè½½å‡è¡¡ï¼Ÿ</a></p><p><a href="https://blog.csdn.net/finally_vince/article/details/124454458">Nginxè´Ÿè½½å‡è¡¡è§£å†³çš„é—®é¢˜å’Œå®ç°æ–¹å¼éƒ½åœ¨è¿™é‡Œå•¦</a></p><p><a href="https://juejin.cn/post/6844904019043811342">Nginxä¸“é¢˜ï¼ˆ2ï¼‰ï¼šNginxçš„è´Ÿè½½å‡è¡¡ç­–ç•¥åŠå…¶é…ç½®</a></p><p><a href="https://blog.csdn.net/xyang81/article/details/51702900">Nginxè´Ÿè½½å‡è¡¡é…ç½®</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> WebæœåŠ¡å™¨ </category>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx-WebSocketï¼ˆå…«ï¼‰</title>
      <link href="/posts/b0ee815c.html"/>
      <url>/posts/b0ee815c.html</url>
      
        <content type="html"><![CDATA[<h2 id="Nginx-é…ç½®-WebSocket"><a href="#Nginx-é…ç½®-WebSocket" class="headerlink" title="Nginx é…ç½® WebSocket"></a>Nginx é…ç½® WebSocket</h2><blockquote><p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>åˆ›å»º <code>Nginx</code> é…ç½®æ–‡ä»¶ <code>8004.conf</code></li><li>åˆ·æ–° <code>Nginx</code> é…ç½®æ–‡ä»¶</li></ol></blockquote><h3 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h3><ol><li><p>åˆ›å»º <code>Nginx</code> é…ç½®æ–‡ä»¶ <code>8004.conf</code></p><ul><li><code>Nginx</code> é…ç½®æ–‡ä»¶è·¯å¾„ï¼š<code>/etc/nginx/conf.d</code></li></ul><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°† $http_upgrade å˜é‡æ˜ å°„åˆ° $connection_upgrade å˜é‡</span></span><br><span class="line"><span class="comment"># $http_upgrade å˜é‡é€šå¸¸ç”¨äºè¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚æ˜¯å¦æ”¯æŒ WebSocketã€‚</span></span><br><span class="line"><span class="comment"># å¦‚æœå®¢æˆ·ç«¯è¯·æ±‚æ”¯æŒ WebSocketï¼Œåˆ™ $http_upgrade å˜é‡çš„å€¼ä¸º &quot;websocket&quot;ï¼›å¦åˆ™ï¼Œå®ƒçš„å€¼ä¸ºç©ºå­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="attribute">map</span> <span class="variable">$http_upgrade</span> <span class="variable">$connection_upgrade</span> &#123;</span><br><span class="line">    <span class="attribute">default</span> upgrade;</span><br><span class="line">    &#x27;&#x27;      close;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment"># è™šæ‹Ÿä¸»æœºserverå—</span></span><br><span class="line">server&#123;</span><br><span class="line"> </span><br><span class="line">   <span class="comment"># do something ...</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment"># ç›‘å¬ /message è·¯å¾„çš„è¯·æ±‚</span></span><br><span class="line">    <span class="section">location</span><span class="regexp"> ^~</span> /message &#123;</span><br><span class="line">       <span class="attribute">proxy_pass</span> http://server:port;</span><br><span class="line">       <span class="comment"># è¡¨ç¤ºä½¿ç”¨ HTTP/1.1 åè®®</span></span><br><span class="line">       <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;   </span><br><span class="line">       <span class="comment"># è¡¨ç¤ºå°† Upgrade å¤´è®¾ç½®ä¸º $http_upgradeã€‚åœ¨httpè¯·æ±‚å¤´ä¸­åŠ å…¥äº† Upgrade: websocket</span></span><br><span class="line">       <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">       <span class="comment"># è¡¨ç¤ºå°† Connection å¤´è®¾ç½®ä¸º &quot;upgrade&quot;ã€‚åœ¨httpè¯·æ±‚å¤´ä¸­åŠ å…¥äº† Connection: Upgrade</span></span><br><span class="line">       <span class="attribute">proxy_set_header</span> Connection <span class="variable">$connection_upgrade</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åˆ·æ–° <code>Nginx</code> é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos conf.d]<span class="comment"># /usr/sbin/nginx -t </span></span><br><span class="line">nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /etc/nginx/nginx.conf <span class="built_in">test</span> is successful</span><br><span class="line">[root@VM-0-9-centos conf.d]<span class="comment"># /usr/sbin/nginx -s reload</span></span><br><span class="line">[root@VM-0-9-centos conf.d]<span class="comment"># </span></span><br></pre></td></tr></table></figure></li></ol><h2 id="WebSocket-é•¿æ—¶é—´ä¸è¿›è¡Œæ¨é€"><a href="#WebSocket-é•¿æ—¶é—´ä¸è¿›è¡Œæ¨é€" class="headerlink" title="WebSocket é•¿æ—¶é—´ä¸è¿›è¡Œæ¨é€"></a>WebSocket é•¿æ—¶é—´ä¸è¿›è¡Œæ¨é€</h2><ol><li>æ–¹æ¡ˆä¸€ï¼šé€šè¿‡ <code>proxy_read_timeout</code> è¶…æ—¶è¿æ¥æ—¶é•¿è§£å†³</li></ol><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç›‘å¬ /message è·¯å¾„çš„è¯·æ±‚</span></span><br><span class="line"><span class="section">location</span><span class="regexp"> ^~</span> /message &#123;</span><br><span class="line">   <span class="attribute">proxy_pass</span> http://server:port;</span><br><span class="line">   <span class="comment"># è§£å†³è¿æ¥è¶…æ—¶é—®é¢˜ï¼Œ60åˆ†é’Ÿï¼Œé»˜è®¤æ˜¯60sã€‚</span></span><br><span class="line">   <span class="attribute">proxy_read_timeout</span> <span class="number">3600s</span>;</span><br><span class="line">   <span class="comment"># è¡¨ç¤ºä½¿ç”¨ HTTP/1.1 åè®®</span></span><br><span class="line">   <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;   </span><br><span class="line">   <span class="comment"># è¡¨ç¤ºå°† Upgrade å¤´è®¾ç½®ä¸º $http_upgradeã€‚åœ¨httpè¯·æ±‚å¤´ä¸­åŠ å…¥äº† Upgrade: websocket</span></span><br><span class="line">   <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">   <span class="comment"># è¡¨ç¤ºå°† Connection å¤´è®¾ç½®ä¸º &quot;upgrade&quot;ã€‚åœ¨httpè¯·æ±‚å¤´ä¸­åŠ å…¥äº† Connection: Upgrade</span></span><br><span class="line">   <span class="attribute">proxy_set_header</span> Connection <span class="variable">$connection_upgrade</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>æ–¹æ¡ˆäºŒï¼šé€šè¿‡å‰ç«¯è®¾ç½®å®šæ—¶å™¨ï¼Œè¿›è¡Œ <code>WebSocket</code> è¿›è¡Œå¿ƒè·³è¯·æ±‚</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">timer=<span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (websocket.<span class="property">readyState</span> == <span class="number">1</span>) &#123;</span><br><span class="line">        websocket.<span class="title function_">send</span>(<span class="string">&quot;å¿ƒè·³åŒ…æ£€æµ‹&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//IMè¿æ¥å·²æ–­å¼€</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;, <span class="number">50</span> * <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> WebæœåŠ¡å™¨ </category>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx-é…ç½®è·¨åŸŸï¼ˆä¸ƒï¼‰</title>
      <link href="/posts/db06d141.html"/>
      <url>/posts/db06d141.html</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜æ€è€ƒï¼Ÿ"><a href="#é—®é¢˜æ€è€ƒï¼Ÿ" class="headerlink" title="é—®é¢˜æ€è€ƒï¼Ÿ"></a>é—®é¢˜æ€è€ƒï¼Ÿ</h2><ol><li><p><strong>ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿ</strong></p><ul><li><strong>è·¨åŸŸæ˜¯æŒ‡æµè§ˆå™¨ä¸å…è®¸ä¸€ä¸ªç½‘ç«™è®¿é—®å¦ä¸€ä¸ªç½‘ç«™çš„èµ„æºã€‚</strong></li></ul></li><li><p><strong>è·¨åŸŸçš„ä¾‹å­ï¼Ÿ</strong></p><ul><li>å½“æˆ‘ä»¬å¼€å‘æ—¶ï¼Œéœ€è¦å‰åç«¯è¿›è¡Œè”è°ƒä»£ç ã€‚</li><li>è¿™æ—¶ å¦‚æœ å‰ç«¯çš„ipæ˜¯ <code>192.168.56.10:8080</code> ï¼Œåç«¯çš„ipæ˜¯ <code>192.168.53.20:8888</code></li><li>é‚£ä¹ˆ å‰ç«¯ è¯·æ±‚åå°å°±ä¼šå‡ºç°è·¨åŸŸé—®é¢˜ã€‚</li></ul></li><li><p><strong>å‡ºç°è·¨åŸŸçš„åŸå› ï¼Ÿ</strong></p><ul><li>ä¸åŒåŸŸåã€‚ä¾‹å¦‚ï¼š<a href="http://www.example.com/">www.example.com</a> è¯·æ±‚ <a href="http://api.example.com/">api.example.com</a></li><li>ä¸åŒåè®®ã€‚ä¾‹å¦‚ï¼š<a href="http://a.baidu.com/">http://a.baidu.com</a> è¯·æ±‚ <a href="https://www.baidu.com/">https://www.baidu.com</a> </li><li>ä¸åŒç«¯å£ã€‚ä¾‹å¦‚ï¼š<a href="http://127.0.0.1:5500/">http://127.0.0.1:5500</a> è¯·æ±‚ <a href="http://127.0.0.1:8089/">http://127.0.0.1:8089</a>  </li></ul></li><li><p><strong>å›¾è§£è¯´æ˜</strong></p><ul><li><p>å½“æˆ‘ä»¬åœ¨ç½‘é¡µä¸Šé¢è¯·æ±‚ <a href="http://127.0.0.1:5500/index">http://127.0.0.1:5500/index</a></p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305121459712.png" alt="img"></p></li></ul><ul><li><p>è¿™æ—¶å€™åœ¨JavaScriptä¸­éœ€è¦è¯·æ±‚ç¬¬ä¸‰æ–¹æ¥å£ <a href="http://127.0.0.1:8089/">http://127.0.0.1:8089</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="title function_">fetch</span>(<span class="string">&quot;http://127.0.0.1:8089/api/testCross&quot;</span>)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>æ§åˆ¶å°ä¸­æ‰“å°é”™è¯¯ä¿¡æ¯</p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305121459518.png" alt="img"></p></li></ul></li></ol><h2 id="Nginx-å¤„ç†è·¨åŸŸ"><a href="#Nginx-å¤„ç†è·¨åŸŸ" class="headerlink" title="Nginx å¤„ç†è·¨åŸŸ"></a><code>Nginx</code> å¤„ç†è·¨åŸŸ</h2><ul><li><p><strong>æ–¹å¼ä¸€ï¼šæ¥å—æ¥è‡ªä»»æ„æºçš„è·¨åŸŸè¯·æ±‚</strong></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span> / &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment"># é…ç½®å…è®¸æ‰€æœ‰æºçš„è·¨åŸŸè¯·æ±‚ï¼ˆå³ add_header &#x27;Access-Control-Allow-Origin&#x27; &#x27;*&#x27;;ï¼‰</span></span><br><span class="line">  <span class="attribute">add_header</span> <span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span> <span class="string">&#x27;*&#x27;</span>;</span><br><span class="line">  <span class="comment"># é…ç½®å…è®¸è¯·æ±‚æ–¹æ³•</span></span><br><span class="line">  <span class="attribute">add_header</span> <span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span> <span class="string">&#x27;GET, POST, PUT, DELETE&#x27;</span>;</span><br><span class="line">  <span class="comment"># é…ç½®å…è®¸çš„è¯·æ±‚å¤´</span></span><br><span class="line">  <span class="attribute">add_header</span> <span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span> <span class="string">&#x27;DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type&#x27;</span>;</span><br><span class="line">  <span class="comment"># å¦‚æœè¯·æ±‚æ–¹æ³•æ˜¯ OPTIONSï¼Œåˆ™è¿”å› HTTP çŠ¶æ€ç  20</span></span><br><span class="line">  <span class="attribute">if</span> (<span class="variable">$request_method</span> = <span class="string">&#x27;OPTIONS&#x27;</span>) &#123;</span><br><span class="line">    <span class="attribute">return</span> <span class="number">204</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>æ–¹å¼äºŒï¼šåªæœ‰è¯·æ±‚è·¯å¾„ä»¥ /api/ å¼€å¤´çš„è¯·æ±‚æ‰ä¼šæ·»åŠ è·¨åŸŸå¤´ä¿¡æ¯</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span> /api &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="comment"># é…ç½®å…è®¸æ‰€æœ‰æºçš„è·¨åŸŸè¯·æ±‚ï¼ˆå³ add_header &#x27;Access-Control-Allow-Origin&#x27; &#x27;*&#x27;;ï¼‰</span></span><br><span class="line">    <span class="attribute">add_header</span> <span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span> <span class="string">&#x27;*&#x27;</span>;</span><br><span class="line">    <span class="comment"># é…ç½®å…è®¸è¯·æ±‚æ–¹æ³•</span></span><br><span class="line">    <span class="attribute">add_header</span> <span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span> <span class="string">&#x27;GET, POST, PUT, DELETE&#x27;</span>;</span><br><span class="line">    <span class="comment"># é…ç½®å…è®¸çš„è¯·æ±‚å¤´</span></span><br><span class="line">    <span class="attribute">add_header</span> <span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span> <span class="string">&#x27;DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type&#x27;</span>;</span><br><span class="line">    <span class="comment"># å¦‚æœè¯·æ±‚æ–¹æ³•æ˜¯ OPTIONSï¼Œåˆ™è¿”å› HTTP çŠ¶æ€ç  20</span></span><br><span class="line">    <span class="attribute">if</span> (<span class="variable">$request_method</span> = <span class="string">&#x27;OPTIONS&#x27;</span>) &#123;</span><br><span class="line">        <span class="attribute">return</span> <span class="number">204</span>;</span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="SpringBoot-å¤„ç†è·¨åŸŸ"><a href="#SpringBoot-å¤„ç†è·¨åŸŸ" class="headerlink" title="SpringBoot å¤„ç†è·¨åŸŸ"></a><code>SpringBoot</code> å¤„ç†è·¨åŸŸ</h2><ul><li><p>é’ˆå¯¹äºä¸Šé¢çš„å‰åç«¯è”è°ƒä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>java</code> ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œå°±å¯ä»¥è§£å†³è·¨åŸŸé—®é¢˜ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ResourcesConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * è·¨åŸŸé…ç½®</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> CorsFilter <span class="title function_">corsFilter</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">CorsConfiguration</span> <span class="variable">config</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CorsConfiguration</span>();</span><br><span class="line">        config.setAllowCredentials(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">// è®¾ç½®è®¿é—®æºåœ°å€</span></span><br><span class="line">        config.addAllowedOriginPattern(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">        <span class="comment">// è®¾ç½®è®¿é—®æºè¯·æ±‚å¤´</span></span><br><span class="line">        config.addAllowedHeader(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">        <span class="comment">// è®¾ç½®è®¿é—®æºè¯·æ±‚æ–¹æ³•</span></span><br><span class="line">        config.addAllowedMethod(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">        <span class="comment">// æœ‰æ•ˆæœŸ 1800ç§’</span></span><br><span class="line">        config.setMaxAge(<span class="number">1800L</span>);</span><br><span class="line">        <span class="comment">// æ·»åŠ æ˜ å°„è·¯å¾„ï¼Œæ‹¦æˆªä¸€åˆ‡è¯·æ±‚</span></span><br><span class="line">        <span class="type">UrlBasedCorsConfigurationSource</span> <span class="variable">source</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UrlBasedCorsConfigurationSource</span>();</span><br><span class="line">        source.registerCorsConfiguration(<span class="string">&quot;/**&quot;</span>, config);</span><br><span class="line">        <span class="comment">// è¿”å›æ–°çš„CorsFilter</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">CorsFilter</span>(source);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="åŒºåˆ«ï¼Ÿ"><a href="#åŒºåˆ«ï¼Ÿ" class="headerlink" title="åŒºåˆ«ï¼Ÿ"></a>åŒºåˆ«ï¼Ÿ</h2><blockquote><p><code>Nginx</code> å¤„ç†è·¨åŸŸå’Œ <code>Spring Boot</code> å¤„ç†è·¨åŸŸçš„åŒºåˆ«ä¸»è¦åœ¨äºå®ƒä»¬<strong>å¤„ç†è·¨åŸŸè¯·æ±‚çš„ä½ç½®</strong>ä¸åŒã€‚</p><p><code>Nginx</code> ï¼šå¤„ç†è·¨åŸŸé€‚ç”¨äº<strong>å‰ç«¯åº”ç”¨ç¨‹åº</strong>ä¸<strong>åç«¯ API ä¹‹é—´</strong>çš„è·¨åŸŸé—®é¢˜</p><p><code>Spring Boot</code>ï¼šå¤„ç†è·¨åŸŸåˆ™é€‚ç”¨äºåœ¨<strong>åç«¯åº”ç”¨ç¨‹åº</strong>ä¸­è§£å†³è·¨åŸŸé—®é¢˜</p></blockquote><ol><li><p><strong><code>Nginx</code> å¤„ç†è·¨åŸŸ</strong></p><ul><li><code>Nginx</code> å¤„ç†è·¨åŸŸæ˜¯åœ¨æœåŠ¡å™¨ç«¯å¤„ç†è·¨åŸŸè¯·æ±‚çš„</li><li>é¦–å…ˆï¼Œå½“å®¢æˆ·ç«¯å‘é€è·¨åŸŸè¯·æ±‚æ—¶ï¼Œ<strong>è¯·æ±‚ä¼šå…ˆåˆ°è¾¾ <code>Nginx</code> æœåŠ¡å™¨</strong>ã€‚</li><li>ç„¶åï¼Œ<code>Nginx</code> æœåŠ¡å™¨ä¼šæ·»åŠ ç›¸åº”çš„å¤´ä¿¡æ¯å¹¶è½¬å‘è¯·æ±‚åˆ°åç«¯åº”ç”¨æœåŠ¡å™¨ã€‚</li></ul></li><li><p><strong><code>SpringBoot</code> å¤„ç†è·¨åŸŸ</strong></p><ul><li>Spring Boot å¤„ç†è·¨åŸŸæ˜¯åœ¨åº”ç”¨æœåŠ¡å™¨ç«¯å¤„ç†è·¨åŸŸè¯·æ±‚çš„</li><li>é¦–å…ˆï¼Œå½“å®¢æˆ·ç«¯å‘é€è·¨åŸŸè¯·æ±‚æ—¶ï¼Œè¯·æ±‚ä¼šå…ˆåˆ°è¾¾ <code>Nginx</code> æœåŠ¡å™¨ï¼›</li><li>ç„¶åï¼Œ<code>Nginx</code> æœåŠ¡å™¨ä¼šè½¬å‘è¯·æ±‚åˆ°åç«¯åº”ç”¨æœåŠ¡å™¨ï¼›</li><li>æœ€åï¼Œåº”ç”¨æœåŠ¡å™¨å†é€šè¿‡é…ç½® <code>CORS</code> è¿‡æ»¤å™¨æ¥å¤„ç†è·¨åŸŸè¯·æ±‚ï¼›</li></ul></li><li><p><strong>æœåŠ¡å™¨å’ŒæœåŠ¡å™¨ä¹‹é—´ä¸å­˜åœ¨è·¨åŸŸï¼Œåªæœ‰æµè§ˆå™¨æ‰å­˜åœ¨è·¨åŸŸçš„è¯´æ³•ï¼Œä¾‹å¦‚ HttpClient è¯·æ±‚</strong>ã€‚</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> WebæœåŠ¡å™¨ </category>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx-é…ç½®å‚æ•°ï¼ˆå…­ï¼‰</title>
      <link href="/posts/cfc171aa.html"/>
      <url>/posts/cfc171aa.html</url>
      
        <content type="html"><![CDATA[<h2 id="location-å‚æ•°"><a href="#location-å‚æ•°" class="headerlink" title="location å‚æ•°"></a>location å‚æ•°</h2><blockquote><p>location ï¼šé…ç½®è¯·æ±‚çš„è·¯ç”±ï¼Œå¯ä»¥ä½¿ç”¨ä¿®é¥°ç¬¦æˆ–æ­£åˆ™è¡¨è¾¾å¼ã€‚</p><p>æ³¨æ„äº‹é¡¹ï¼š<strong>location uri å‰è¾¹çš„/ä¸èƒ½çœç•¥ï¼Œuriåè¾¹çš„/å¯ä»¥çœç•¥</strong>ã€‚</p></blockquote><p>å¦‚ä¸‹å†…å®¹çš„ä¼˜å…ˆçº§ä»é«˜åˆ°ä½</p><div class="tabs" id="location"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#location-1">1.ç²¾ç¡®åŒ¹é…ã€=ã€‘</button></li><li class="tab"><button type="button" data-href="#location-2">2.æŠ¢å å¼å‰ç¼€åŒ¹é…ã€^~ã€‘</button></li><li class="tab"><button type="button" data-href="#location-3">3.æ­£åˆ™åŒ¹é…ã€~ã€‘</button></li><li class="tab"><button type="button" data-href="#location-4">3.æ­£åˆ™åŒ¹é…ã€~*ã€‘</button></li><li class="tab"><button type="button" data-href="#location-5">4.æ™®é€šå‰ç¼€åŒ¹é…ã€/ã€‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="location-1"><p>ç”¨äº<strong>æ ‡å‡† URI</strong> å‰ï¼Œè¦æ±‚è¯·æ±‚å­—ç¬¦ä¸²ä¸å…¶ç²¾å‡†åŒ¹é…ï¼ŒæˆåŠŸåˆ™ç«‹å³å¤„ç†ï¼Œnginx åœæ­¢æœç´¢å…¶ä»–åŒ¹é…ã€‚</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  åªæœ‰å½“è®¿é—® www.nginx-test.com/match_all/ æ—¶æ‰ä¼šåŒ¹é… /usr/share/nginx/html/match_all/index.html</span></span><br><span class="line"><span class="section">location</span> = /match_all/ &#123;</span><br><span class="line">   <span class="attribute">root</span> /usr/share/nginx/html</span><br><span class="line">   index index.html</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="location-2"><p>ç”¨äº<strong>æ ‡å‡† URI</strong> å‰ï¼Œå¹¶è¦æ±‚ä¸€æ—¦åŒ¹é…åˆ°å°±ä¼šç«‹å³å¤„ç†ï¼Œä¸å†å»åŒ¹é…å…¶ä»–çš„é‚£äº›ä¸ªæ­£åˆ™ URIï¼Œä¸€èˆ¬ç”¨æ¥åŒ¹é…ç›®å½•</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å½“è®¿é—® www.nginx-test.com/bbs/ æ—¶ä¼šåŒ¹é…ä¸Š /usr/share/nginx/html/bbs/index.html</span></span><br><span class="line"><span class="section">location</span><span class="regexp"> ^~</span> /bbs &#123;</span><br><span class="line">   <span class="attribute">root</span> /usr/share/nginx/html;</span><br><span class="line">   <span class="attribute">index</span> index.html index.htm;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="location-3"><p>ç”¨äº<strong>æ­£åˆ™ URI</strong> å‰ï¼Œè¡¨ç¤º URI åŒ…å«æ­£åˆ™è¡¨è¾¾å¼ï¼Œ <strong>åŒºåˆ†</strong>å¤§å°å†™</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ç”¨äºæ­£åˆ™ <span class="attribute">URI</span> å‰ï¼Œè¡¨ç¤º URI åŒ…å«æ­£åˆ™è¡¨è¾¾å¼ï¼Œ åŒºåˆ†å¤§å°å†™<span class="comment"># å½“è®¿é—® www.nginx-test.com/a.jpg ç­‰è·¯å¾„æ—¶ä¼šå» /usr/share/nginx/images/a.jpg æ‰¾å¯¹åº”çš„èµ„æº</span></span><br><span class="line">location <span class="regexp">~ \.(jpeg|jpg|png|svg)$</span> &#123;</span><br><span class="line">   <span class="attribute">root</span> /usr/share/nginx/images;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="location-4"><p>ç”¨äº<strong>æ­£åˆ™ URI</strong> å‰ï¼Œ è¡¨ç¤º URI åŒ…å«æ­£åˆ™è¡¨è¾¾å¼ï¼Œ <strong>ä¸åŒºåˆ†</strong>å¤§å°å†™</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å½“è®¿é—® www.nginx-test.com/A.jpg ç­‰è·¯å¾„æ—¶ä¼šå» /usr/share/nginx/images/A.jpg æ‰¾å¯¹åº”çš„èµ„æº</span></span><br><span class="line"><span class="section">location</span> <span class="regexp">~* \.(jpeg|jpg|png|svg)$</span> &#123;</span><br><span class="line">   <span class="attribute">root</span> /usr/share/nginx/images;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="location-5"><p>location åæ²¡æœ‰å‚æ•°ç›´æ¥è·Ÿç€ <strong>æ ‡å‡† URI</strong>ï¼Œè¡¨ç¤ºå‰ç¼€åŒ¹é…ï¼Œä»£è¡¨è·Ÿè¯·æ±‚ä¸­çš„ URI ä»å¤´å¼€å§‹åŒ¹é…</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span> / &#123;</span><br><span class="line">   <span class="attribute">root</span> /usr/share/nginx/html</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="root-å‚æ•°"><a href="#root-å‚æ•°" class="headerlink" title="root å‚æ•°"></a>root å‚æ•°</h2><blockquote><p> <code>root</code> : æŒ‡ä»¤ç”¨äºæŒ‡å®šä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿè·¯å¾„å’Œé™æ€èµ„æºæ–‡ä»¶çš„æ ¹ç›®å½•ã€‚</p></blockquote><ul><li>è¯­æ³•</li></ul><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span> / &#123;</span><br><span class="line">   <span class="comment"># rootè·¯å¾„ï¼‹locationè·¯å¾„</span></span><br><span class="line">   <span class="attribute">root</span> path</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç¤ºä¾‹</li></ul><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span><span class="regexp"> ^~</span> /test &#123;</span><br><span class="line"><span class="attribute">root</span> /opt</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è¯·æ±‚ç¤ºä¾‹</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://x.x.x.x/test</span><br></pre></td></tr></table></figure><ul><li>å®é™…è®¿é—®ç›®å½•</li></ul><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/opt/test</span><br></pre></td></tr></table></figure><h2 id="alias-å‚æ•°"><a href="#alias-å‚æ•°" class="headerlink" title="alias å‚æ•°"></a>alias å‚æ•°</h2><blockquote><p> <code>alias</code> ï¼šæŒ‡ä»¤ç”¨äºæŒ‡å®šæ–‡ä»¶ç³»ç»Ÿè·¯å¾„ï¼Œä½†å®ƒä¸ <code>root</code> æŒ‡ä»¤æœ‰æ‰€ä¸åŒã€‚</p><p> æŒ‡å®šæ–‡ä»¶è·¯å¾„ï¼Œä½¿ç”¨ <code>alias</code> æ—¶ï¼Œç›®å½•åé¢ä¸€å®šè¦åŠ  <strong>/</strong></p></blockquote><ul><li>è¯­æ³•</li></ul><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span> / &#123;</span><br><span class="line">   <span class="comment"># rootè·¯å¾„ï¼‹locationè·¯å¾„</span></span><br><span class="line">   <span class="attribute">alias</span> path</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç¤ºä¾‹</li></ul><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span><span class="regexp"> ^~</span> /test-alias/ &#123;</span><br><span class="line">    <span class="attribute">alias</span> /opt/test/alias/;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è¯·æ±‚ç¤ºä¾‹</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://x.x.x.x/test-alias/index.html</span><br></pre></td></tr></table></figure><ul><li>å®é™…è®¿é—®ç›®å½•</li></ul><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/opt/test/alias/</span><br></pre></td></tr></table></figure><h2 id="proxy-pass-ä¿®é¥°ç¬¦"><a href="#proxy-pass-ä¿®é¥°ç¬¦" class="headerlink" title="proxy_pass ä¿®é¥°ç¬¦"></a>proxy_pass ä¿®é¥°ç¬¦</h2><blockquote><p>åå‘ä»£ç†é…ç½®ï¼Œç”¨äºä»£ç†è¯·æ±‚ï¼Œé€‚ç”¨äºå‰åç«¯è´Ÿè½½åˆ†ç¦»æˆ–å¤šå°æœºå™¨ã€æœåŠ¡å™¨è´Ÿè½½åˆ†ç¦»çš„åœºæ™¯ã€‚</p><p>åŒ¹é…åˆ°locationé…ç½®çš„URLè·¯å¾„åï¼Œè½¬å‘è¯·æ±‚åˆ°ã€proxy_passã€‘é…ç½®çš„URLã€‚</p><p>æ˜¯å¦ä¼šé™„åŠ locationé…ç½®è·¯å¾„ä¸ã€proxy_passã€‘é…ç½®çš„è·¯å¾„åæ˜¯å¦æœ‰â€/â€œæœ‰å…³ï¼Œæœ‰â€/â€œåˆ™ä¸é™„åŠ ã€‚</p><p>å…·ä½“åšæ–‡è¯·å‚è€ƒ <a href="http://localhost:4000/2023/05/11/Nginx/Nginx-%E4%BB%A3%E7%90%86%E8%BD%AC%E5%8F%91%EF%BC%88%E5%9B%9B%EF%BC%89/">Nginx-ä»£ç†è½¬å‘ï¼ˆå››ï¼‰</a></p></blockquote><h2 id="å‚è€ƒåšæ–‡"><a href="#å‚è€ƒåšæ–‡" class="headerlink" title="å‚è€ƒåšæ–‡"></a>å‚è€ƒåšæ–‡</h2><blockquote><p><a href="https://blog.csdn.net/weixin_46270732/article/details/116937218">ä»€ä¹ˆæ˜¯NGINXçš„åŠ¨é™åˆ†ç¦»ï¼›ä»€ä¹ˆæ˜¯è´Ÿè½½å‡è¡¡</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> WebæœåŠ¡å™¨ </category>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx-åŠ¨é™åˆ†ç¦»ï¼ˆäº”ï¼‰</title>
      <link href="/posts/b5837b07.html"/>
      <url>/posts/b5837b07.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>æœ¬æ–‡çš„æ ¸å¿ƒä¸»è¦æ˜¯å°†å‰å››ç¯‡åšæ–‡çš„å†…å®¹è¿›è¡Œä¸€ä¸ªç»¼åˆç»ƒä¹ ï¼Œé€šè¿‡ <code>Nginx</code> éƒ¨ç½²å¼€æºæ¡†æ¶ <code>Ruoyi-Vue</code> è¿™ä¸ªéœ€æ±‚è¿›è¡Œå®ç°åŠ¨é™åˆ†ç¦»ã€‚ </p><p><strong>å‡†å¤‡å·¥ä½œ</strong></p><ul><li>ç½‘ç›˜é“¾æ¥: <a href="https://pan.baidu.com/s/13bTaoFbooNpEQ9oE9vXsGw">https://pan.baidu.com/s/13bTaoFbooNpEQ9oE9vXsGw</a>  å¯†ç : vx7n</li></ul></blockquote><h2 id="é—®é¢˜æ€è€ƒ"><a href="#é—®é¢˜æ€è€ƒ" class="headerlink" title="é—®é¢˜æ€è€ƒ?"></a>é—®é¢˜æ€è€ƒ?</h2><ol><li><p><strong>ä¸ºä»€ä¹ˆä¸ä½¿ç”¨ Apache Tomcat å¤„ç†åŠ¨é™åˆ†ç¦»ï¼Ÿ</strong></p><ul><li><code>Apache Tocmat</code> ä¸¥æ ¼æ¥è¯´æ˜¯ä¸€æ¬¾ <code>java EE</code> æœåŠ¡å™¨ï¼Œä¸»è¦æ˜¯ç”¨æ¥å¤„ç† <code>servlet</code> è¯·æ±‚ã€‚ä¾‹å¦‚ <code>SpringBoot</code> ä¸­å†…ç½®çš„å°±æ˜¯ Tomcat æœåŠ¡å™¨ã€‚</li></ul></li><li><p><strong>é™æ€èµ„æºï¼ˆ<code>htmlã€cssã€js</code>ã€å›¾ç‰‡ï¼‰äº¤ç»™è°å¤„ç†ï¼Ÿ</strong></p><ul><li>å°†é™æ€æ–‡ä»¶äº¤ç»™ <code>Nginx</code> å¤„ç†ï¼Œå¯ä»¥æé«˜ç³»ç»Ÿçš„è®¿é—®é€Ÿåº¦ï¼Œå‡å°‘ <code>Tomcat</code> çš„è¯·æ±‚æ¬¡æ•°ï¼Œæœ‰æ•ˆçš„ç»™åç«¯æœåŠ¡å™¨é™å‹ã€‚</li></ul></li><li><p><strong>é™æ€èµ„æºä¸€å®šæ˜¯å’Œ <code>Nginx</code> æ”¾åœ¨åŒä¸€å°æœåŠ¡å™¨çš„å—ï¼Ÿ</strong></p><ul><li>æ˜¯çš„ï¼Œæœ¬è´¨ä¸Šæ¥è¯´ <code>Nginx</code> é…ç½®æœ¬èº«å°±æ˜¯ä¸€ä¸ªé™æ€èµ„æºçš„æœåŠ¡å™¨ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æ‰“çš„å‰ç«¯ Docker é•œåƒæœ¬è´¨ä¸Šä¸€ä¸ª <code>Nginx</code> æœåŠ¡å™¨ã€‚</li></ul></li><li><p><strong>é‚£åŠ¨é™åˆ†ç¦»ä¹‹åï¼Œé™æ€èµ„æºå¦‚ä½•è·ŸåŠ¨æ€è¯·æ±‚äº¤äº’å‘¢ï¼Ÿ</strong></p><ul><li>é™æ€èµ„æºæ˜¯é€šè¿‡æµè§ˆå™¨å’ŒåŠ¨æ€èµ„æºè¿›è¡Œäº¤äº’çš„ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305120041894.png" alt="888dce6baa76ca30e5892d8f9d16f4a"></p></li></ol><h2 id="å…·ä½“éœ€æ±‚"><a href="#å…·ä½“éœ€æ±‚" class="headerlink" title="å…·ä½“éœ€æ±‚"></a>å…·ä½“éœ€æ±‚</h2><blockquote><p>æœ¬è¿‡ç¨‹ä¹Ÿå¯ä»¥åœ¨ä¸€å°æœåŠ¡å™¨ä¸­è¿›è¡Œï¼Œä½†ä¸ºäº†æ›´å¥½çš„ç†è§£åŠ¨é™åˆ†ç¦»ï¼Œæœ¬äººç”¨åˆ°çš„æ˜¯ä¸¤å°æœåŠ¡å™¨ <code>server1</code> å’Œ <code>server2</code> ã€‚</p><ul><li><code>server1</code> ï¼šéƒ¨ç½²çš„æ˜¯ <code>nginx</code> å’Œ å‰ç«¯æ–‡ä»¶æœåŠ¡ï¼›</li><li><code>server2</code> ï¼šéƒ¨ç½²çš„æ˜¯åç«¯ jar æœåŠ¡ï¼›</li></ul><p>å®ç°æµç¨‹å¦‚ä¸‹ï¼š</p><ul><li>é¦–å…ˆï¼Œå½“å®¢æˆ·ç«¯é€šè¿‡ <a href="http://ip:port/path">http://ip:port/path</a> è¿›è¡Œè®¿é—®ã€‚</li><li>ç„¶åï¼Œå½“è¯·æ±‚è¾¾åˆ°æœåŠ¡å™¨ä¹‹åï¼Œé€šè¿‡ <code>Nginx</code> ä»£ç† è½¬å‘åˆ°çœŸæ­£çš„ç›®æ ‡æœåŠ¡å™¨ä¸Šã€‚</li><li>æœ€åï¼Œè¿”å›è¯·æ±‚ä¿¡æ¯ã€‚</li><li>å…·ä½“æµç¨‹å¦‚ä¸‹å›¾</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305120049140.png" alt="image-20230512004958119"></p></blockquote><h2 id="Nginx-é…ç½®-Ruoyi-Vue-æ¡†æ¶"><a href="#Nginx-é…ç½®-Ruoyi-Vue-æ¡†æ¶" class="headerlink" title="Nginx é…ç½® Ruoyi-Vue æ¡†æ¶"></a><code>Nginx</code> é…ç½® <code>Ruoyi-Vue</code> æ¡†æ¶</h2><blockquote><p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><code>server1</code> ï¼šä¸Šä¼ é™æ€èµ„æºã€‚</li><li><code>server1</code> ï¼šåˆ›å»º <code>nginx</code> é…ç½®æ–‡ä»¶ï¼Œå¹¶ä½¿å…¶ç”Ÿæ•ˆã€‚</li><li><code>server2</code> ï¼šä¿®æ”¹ <code>ruoyi-admin.jar</code> ä¸­çš„æ•°æ®åº“å’Œ <code>Redis</code> è¿æ¥ä¿¡æ¯ï¼Œå¹¶ä½¿å…¶ç”Ÿæ•ˆã€‚</li><li><code>server1</code> ï¼šé€šè¿‡ <code>crul</code> å‘½ä»¤æ˜¯å¦å¯ä»¥è®¿é—®è¯¥ç«¯å£ã€‚</li><li>å®¢æˆ·ç«¯è®¿é—®</li></ol></blockquote><h3 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h3><ol><li><p><code>server1</code> ï¼šä¸Šä¼ é™æ€èµ„æºã€‚</p><ul><li><p>æ–‡ä»¶è·¯å¾„ï¼š<code>/home/ruoyi</code></p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305120104382.png" alt="image-20230512010402361"></p></li></ul></li><li><p><code>server1</code> ï¼šåˆ›å»º <code>nginx</code> é…ç½®æ–‡ä»¶ï¼Œå¹¶ä½¿å…¶ç”Ÿæ•ˆã€‚</p><div class="tabs" id="server1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#server1-1">ã€ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºnginxé…ç½®æ–‡ä»¶ 8003.confã€‘</button></li><li class="tab"><button type="button" data-href="#server1-2">ã€ç¬¬äºŒæ­¥ï¼šåˆ·æ–° nginx é…ç½®æ–‡ä»¶ã€‘</button></li><li class="tab"><button type="button" data-href="#server1-3">ã€ç¬¬ä¸‰æ­¥ï¼šå¼€æ”¾é˜²ç«å¢™ç«¯å£ï¼Œåˆ·æ–°é…ç½®ã€‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="server1-1"><ul><li><p><code>nginx</code> é…ç½®æ–‡ä»¶è·¯å¾„ <code>/etc/nginx/cond.d</code></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è™šæ‹Ÿä¸»æœºserverå—</span></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"> <span class="comment"># ç›‘å¬ç«¯å£</span></span><br><span class="line">     <span class="attribute">listen</span>       <span class="number">8003</span>;</span><br><span class="line">     <span class="comment"># åŒ¹é…è¯·æ±‚ä¸­çš„hostå€¼</span></span><br><span class="line">     <span class="attribute">server_name</span>  localhost;</span><br><span class="line">     <span class="attribute">charset</span> utf-<span class="number">8</span>;</span><br><span class="line"></span><br><span class="line"> <span class="comment"># ç›‘å¬è¯·æ±‚é™æ€èµ„æºè·¯å¾„</span></span><br><span class="line">     <span class="section">location</span> / &#123;</span><br><span class="line">       <span class="attribute">root</span>   /home/ruoyi;</span><br><span class="line">   <span class="attribute">try_files</span> <span class="variable">$uri</span> <span class="variable">$uri</span>/ /index.html;</span><br><span class="line">       <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment"># ç›‘å¬è¯·æ±‚é™æ€èµ„æºè·¯å¾„</span></span><br><span class="line">     <span class="section">location</span> /prod-api/ &#123;</span><br><span class="line">        <span class="comment">#nginxçš„ä¸»æœºåœ°å€</span></span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$http_host</span>;</span><br><span class="line"></span><br><span class="line">     <span class="comment">#ç”¨æˆ·ç«¯çœŸå®çš„IPï¼Œå³å®¢æˆ·ç«¯IP</span></span><br><span class="line">         <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">         <span class="attribute">proxy_set_header</span> REMOTE-HOST <span class="variable">$remote_addr</span>;</span><br><span class="line">         <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">         </span><br><span class="line">         <span class="comment"># é…ç½®ä»£ç†æœåŠ¡å™¨, è¿™é‡Œ å¦‚æœæ˜¯æœ¬æœºå°±ç›´æ¥ä½¿ç”¨ http://localhost:portï¼Œå¦‚æœä¸æ˜¯å°±æ˜¯ç”¨ç›®æ ‡æœåŠ¡å™¨çš„ ip + ç«¯å£ã€‚</span></span><br><span class="line">         <span class="attribute">proxy_pass</span> http://localhost:8080/;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="attribute">error_page</span>   <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span>  /50x.html;</span><br><span class="line">     <span class="section">location</span> = /50x.html &#123;</span><br><span class="line">         <span class="attribute">root</span>   html;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="server1-2"><ul><li><p>åˆ·æ–° <code>nginx</code> é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos conf.d]<span class="comment"># /usr/sbin/nginx -t </span></span><br><span class="line">nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /etc/nginx/nginx.conf <span class="built_in">test</span> is successful</span><br><span class="line">[root@VM-0-9-centos conf.d]<span class="comment"># /usr/sbin/nginx -s reload</span></span><br><span class="line">[root@VM-0-9-centos conf.d]<span class="comment"># </span></span><br></pre></td></tr></table></figure></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="server1-3"><ul><li><p><code>server1</code> ï¼šå¼€æ”¾é˜²ç«å¢™ç«¯å£ï¼Œåˆ·æ–°é…ç½®ã€‚</p><div class="note warning simple"><p>å¦‚æœä¸º é˜¿é‡Œäº‘ æˆ–è€… è…¾è®¯äº‘ éœ€è¦é…ç½®å®‰å…¨ç»„è§„åˆ™ã€‚ä¾‹å¦‚ï¼š<a href="https://developer.aliyun.com/article/767328">é˜¿é‡Œäº‘-é…ç½®å®‰å…¨ç»„è§„åˆ™</a></p></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos images]<span class="comment"># firewall-cmd --zone=public --add-port=8003/tcp --permanent # å¼€æ”¾8003ç«¯å£</span></span><br><span class="line">success</span><br><span class="line">[root@VM-0-9-centos images]<span class="comment"># firewall-cmd --reload # åˆ·æ–°é˜²ç«å¢™é…ç½®</span></span><br><span class="line">success</span><br><span class="line">[root@VM-0-9-centos images]<span class="comment"># </span></span><br></pre></td></tr></table></figure></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li><li><p><code>server2</code> ï¼šä¿®æ”¹ <code>ruoyi-admin.jar</code> ä¸­çš„è¿æ¥ä¿¡æ¯ï¼Œå¹¶ä½¿å…¶ç”Ÿæ•ˆã€‚</p><div class="tabs" id="server2"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#server2-1">ã€ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹jaråŒ…é…ç½®ä¿¡æ¯ã€‘</button></li><li class="tab"><button type="button" data-href="#server2-2">ã€ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ•°æ®åº“ä¿¡æ¯ã€‘</button></li><li class="tab"><button type="button" data-href="#server2-3">ã€ç¬¬ä¸‰æ­¥ï¼šå¯åŠ¨é¡¹ç›®ã€‘</button></li><li class="tab"><button type="button" data-href="#server2-4">ã€ç¬¬å››æ­¥ï¼šå¼€æ”¾ç«¯å£ã€‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="server2-1"><ul><li><p>é€šè¿‡å‹ç¼©å·¥å…·æ‰“å¼€<code>jar</code>åŒ…ï¼Œå¯ä»¥é€šè¿‡ <code>360å‹ç¼©</code> æˆ–è€… <code>7z</code> æ‰“å¼€</p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305111635689.png" alt="image-20230511163533665"></p></li><li><p>ä¿®æ”¹ <code>BOOT-INF\classes</code> æ–‡ä»¶ä¸‹ <code>application-druid.yml</code> æ–‡ä»¶ä¸­çš„ æ•°æ®åº“è¿æ¥ä¿¡æ¯</p><blockquote><p>å…³äºLinuxä¸‹çš„MySQLå®‰è£…å¯ä»¥å‚è€ƒæˆ‘çš„åšå®¢ ã€Š<a href="http://example.com/2023/05/09/Linux/Linux-Shell-MySQL/">Linux-Shell-MySQL</a>ã€‹</p></blockquote><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ•°æ®æºé…ç½®</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">    <span class="attr">datasource:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">        <span class="attr">driverClassName:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">        <span class="attr">druid:</span></span><br><span class="line">            <span class="comment"># ä¸»åº“æ•°æ®æº</span></span><br><span class="line">            <span class="attr">master:</span></span><br><span class="line">                <span class="attr">url:</span> <span class="string">jdbc:mysql://server:3306/ry?useUnicode=true&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=true&amp;serverTimezone=GMT%2B8</span></span><br><span class="line">                <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">                <span class="attr">password:</span> <span class="string">P@ssw0rd</span></span><br><span class="line"><span class="string">......</span></span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹ <code>BOOT-INF\classes</code> æ–‡ä»¶ä¸‹ <code>application.yml</code> æ–‡ä»¶ä¸­çš„ <code>Redis</code> è¿æ¥ä¿¡æ¯</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># redis é…ç½®</span></span><br><span class="line"><span class="attr">redis:</span></span><br><span class="line">  <span class="comment"># åœ°å€</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">server</span></span><br><span class="line">  <span class="comment"># ç«¯å£ï¼Œé»˜è®¤ä¸º6379</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">  <span class="comment"># æ•°æ®åº“ç´¢å¼•</span></span><br><span class="line">  <span class="attr">database:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># å¯†ç </span></span><br><span class="line">  <span class="attr">password:</span> </span><br><span class="line">  <span class="comment"># è¿æ¥è¶…æ—¶æ—¶é—´</span></span><br><span class="line">  <span class="attr">timeout:</span> <span class="string">10s</span></span><br><span class="line">  <span class="attr">lettuce:</span></span><br><span class="line">    <span class="attr">pool:</span></span><br><span class="line">      <span class="comment"># è¿æ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿æ¥</span></span><br><span class="line">      <span class="attr">min-idle:</span> <span class="number">0</span></span><br><span class="line">      <span class="comment"># è¿æ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿æ¥</span></span><br><span class="line">      <span class="attr">max-idle:</span> <span class="number">8</span></span><br><span class="line">      <span class="comment"># è¿æ¥æ± çš„æœ€å¤§æ•°æ®åº“è¿æ¥æ•°</span></span><br><span class="line">      <span class="attr">max-active:</span> <span class="number">8</span></span><br><span class="line">      <span class="comment"># #è¿æ¥æ± æœ€å¤§é˜»å¡ç­‰å¾…æ—¶é—´ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰</span></span><br><span class="line">      <span class="attr">max-wait:</span> <span class="string">-1ms</span></span><br></pre></td></tr></table></figure></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="server2-2"><ul><li><p>åˆ›å»º <code>ry</code> æ•°æ®åº“</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># åˆ›å»º ruoyi æ•°æ®åº“ jdbc:mysql:<span class="operator">/</span><span class="operator">/</span>server:<span class="number">3306</span><span class="operator">/</span>ry</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE `ry` <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="string">&#x27;utf8mb4&#x27;</span> <span class="keyword">COLLATE</span> <span class="string">&#x27;utf8mb4_unicode_ci&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li><p>å°†ç™¾åº¦ç½‘ç›˜ä¸­çš„ <code>ry_20230223.sql</code> æ–‡ä»¶å¯¼å…¥ <code>ry</code> æ•°æ®åº“ä¸­</p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305120108851.png" alt="image-20230512010835821"></p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="server2-3"><ul><li><p>ä¸Šä¼ è‡³ <code>/home/ruoyi</code> ç›˜ç¬¦</p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305120110359.png" alt="image-20230512011020342"></p></li><li><p>å¯åŠ¨é¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-24-4-centos ruoyi]<span class="comment"># java -jar ruoyi-admin.jar &amp;</span></span><br><span class="line">[1] 6556</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹æ—¥å¿—</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-24-4-centos ruoyi]<span class="comment"># tail -f nohup.out </span></span><br><span class="line">..............</span><br><span class="line">00:21:26.908 [main] INFO  c.r.RuoYiApplication - [logStarted,61] - Started RuoYiApplication <span class="keyword">in</span> 28.295 seconds (JVM running <span class="keyword">for</span> 29.96)</span><br><span class="line">(â™¥â— â€¿â— )ï¾‰ï¾  è‹¥ä¾å¯åŠ¨æˆåŠŸ   áƒš(Â´Ú¡`áƒš)ï¾  </span><br><span class="line"> .-------.       ____     __        </span><br><span class="line"> |  _ _   \      \   \   /  /    </span><br><span class="line"> | ( <span class="string">&#x27; )  |       \  _. /  &#x27;</span>       </span><br><span class="line"> |(_ o _) /        _( )_ .<span class="string">&#x27;         </span></span><br><span class="line"><span class="string"> | (_,_).&#x27;</span> __  ___(_ o _)<span class="string">&#x27;          </span></span><br><span class="line"><span class="string"> |  |\ \  |  ||   |(_,_)&#x27;</span>         </span><br><span class="line"> |  | \ `<span class="string">&#x27;   /|   `-&#x27;</span>  /           </span><br><span class="line"> |  |  \    /  \      /           </span><br><span class="line"> <span class="string">&#x27;&#x27;</span>-<span class="string">&#x27;   `&#x27;</span>-<span class="string">&#x27;    `-..-&#x27;</span>  </span><br></pre></td></tr></table></figure></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="server2-4"><ul><li><div class="note warning simple"><p>å¦‚æœä¸º é˜¿é‡Œäº‘ æˆ–è€… è…¾è®¯äº‘ éœ€è¦é…ç½®å®‰å…¨ç»„è§„åˆ™ã€‚ä¾‹å¦‚ï¼š<a href="https://developer.aliyun.com/article/767328">é˜¿é‡Œäº‘-é…ç½®å®‰å…¨ç»„è§„åˆ™</a></p></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-24-4-centos ruoyi]<span class="comment"># firewall-cmd --zone=public --add-port=8080/tcp --permanent # å¼€æ”¾8080ç«¯å£</span></span><br><span class="line">success</span><br><span class="line">[root@VM-24-4-centos ruoyi]<span class="comment"># firewall-cmd --reload # åˆ·æ–°é˜²ç«å¢™é…ç½®</span></span><br><span class="line">success</span><br><span class="line">[root@VM-24-4-centos ruoyi]<span class="comment"># </span></span><br></pre></td></tr></table></figure></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li><li><p><code>server1</code> ï¼šé€šè¿‡ <code>crul</code> å‘½ä»¤æ˜¯å¦å¯ä»¥è®¿é—®è¯¥ç«¯å£</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos home]<span class="comment"># curl http://server2:8080/</span></span><br><span class="line">æ¬¢è¿ä½¿ç”¨RuoYiåå°ç®¡ç†æ¡†æ¶ï¼Œå½“å‰ç‰ˆæœ¬ï¼šv3.8.5ï¼Œè¯·é€šè¿‡å‰ç«¯åœ°å€è®¿é—®ã€‚</span><br></pre></td></tr></table></figure></li><li><p>å®¢æˆ·ç«¯è¿›è¡Œè®¿é—®</p><ul><li>è®¿é—®åœ°å€ï¼š<a href="http://server1:8003">http://server1:8003</a></li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305120112387.png" alt="image-20230512011246341"></p></li></ol><h2 id="å‚è€ƒåšæ–‡"><a href="#å‚è€ƒåšæ–‡" class="headerlink" title="å‚è€ƒåšæ–‡"></a>å‚è€ƒåšæ–‡</h2><blockquote><p><a href="https://blog.csdn.net/weixin_46270732/article/details/116937218">ä»€ä¹ˆæ˜¯NGINXçš„åŠ¨é™åˆ†ç¦»ï¼›ä»€ä¹ˆæ˜¯è´Ÿè½½å‡è¡¡</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> WebæœåŠ¡å™¨ </category>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx-ä»£ç†è½¬å‘ï¼ˆå››ï¼‰</title>
      <link href="/posts/fc4777.html"/>
      <url>/posts/fc4777.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>åœ¨ ã€Š<a href="https://wickson.top/2023/05/11/Nginx/Nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%EF%BC%88%E4%B8%89%EF%BC%89/">Nginx-åå‘ä»£ç†ï¼ˆä¸‰ï¼‰</a>ã€‹åšæ–‡ä¸­åœ¨ nginx çš„é…ç½®æ–‡ä»¶ä¸­å‡ºç°äº†ä¸€ä¸‹å‚æ•° <strong><code>proxy_pass</code></strong> ä»¥åŠ å¦‚ä½• <strong><code>è®¾ç½®ä»£ç†è¯·æ±‚headers</code></strong>ã€‚</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç›‘å¬è¯·æ±‚é™æ€èµ„æºè·¯å¾„</span></span><br><span class="line">  <span class="section">location</span> / &#123;</span><br><span class="line">    <span class="comment"># é…ç½®ä»£ç†æœåŠ¡å™¨, è¿™é‡Œ å¦‚æœæ˜¯æœ¬æœºå°±ç›´æ¥ä½¿ç”¨ http://localhost:portï¼Œå¦‚æœä¸æ˜¯å°±æ˜¯ç”¨ç›®æ ‡æœåŠ¡å™¨çš„ ip + ç«¯å£ã€‚</span></span><br><span class="line">    <span class="attribute">proxy_pass</span> http://server2:port;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="proxy-pass"><a href="#proxy-pass" class="headerlink" title="proxy_pass"></a>proxy_pass</h2><blockquote><ul><li>proxy_pass: <strong>ç”¨äºé…åˆ¶ä»£ç†æœåŠ¡å™¨ï¼Œ<code>proxy_pass</code> åŒºåˆ«äº <code>root</code> å’Œ <code>alias</code> ï¼Œæ˜¯å°†è¯·æ±‚åå‘ä»£ç†åˆ°æŒ‡å®šçš„urlï¼Œåé¢åšæ–‡ä¼šè®²è§£ä»–ä»¬çš„åŒºåˆ«</strong></li></ul></blockquote><ul><li>è¯­æ³•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxy_pass &lt;URL&gt;</span><br></pre></td></tr></table></figure><ul><li>ç¤ºä¾‹</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">proxy_pass http://127.0.0.1:8081;</span><br><span class="line">proxy_pass http://127.0.0.1/proxy</span><br></pre></td></tr></table></figure><ul><li>æ³¨æ„äº‹é¡¹ï¼š<strong>nginx é…ç½® proxy_pass ä¸­ url æœ«å°¾ å¸¦/ ä¸ ä¸å¸¦/ çš„åŒºåˆ«</strong></li></ul><div class="tabs" id="proxy_pass"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#proxy_pass-1">ã€ å¸¦/ ã€‘</button></li><li class="tab"><button type="button" data-href="#proxy_pass-2">ã€ ä¸å¸¦/ ã€‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="proxy_pass-1"><div class="note success simple"><p><strong>å¸¦ / : ä¼šå°†åŸuriå»é™¤locationåŒ¹é…è¡¨è¾¾å¼åçš„å†…å®¹æ‹¼æ¥åœ¨proxy_passä¸­urlä¹‹å</strong></p></div><p><strong>ç”¨æˆ·è¯·æ±‚ URI</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bbs/abc/test.html</span><br></pre></td></tr></table></figure><p><strong>proxy_pass é…ç½®</strong></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŒ¹é…è·¯å¾„ï¼Œåç¼€ä¸å¸¦/</span></span><br><span class="line"><span class="section">location</span> /bbs &#123;</span><br><span class="line">   <span class="comment"># å¸¦ / : ä¼šå°†åŸuriå»é™¤locationåŒ¹é…è¡¨è¾¾å¼åçš„å†…å®¹æ‹¼æ¥åœ¨proxy_passä¸­urlä¹‹å</span></span><br><span class="line">   <span class="attribute">proxy_pass</span> http://127.0.0.1:8080/;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment"># åŒ¹é…è·¯å¾„ï¼Œåç¼€å¸¦/</span></span><br><span class="line"><span class="section">location</span> /bbs/ &#123;</span><br><span class="line">   <span class="comment"># å¸¦ / : ä¼šå°†åŸuriå»é™¤locationåŒ¹é…è¡¨è¾¾å¼åçš„å†…å®¹æ‹¼æ¥åœ¨proxy_passä¸­urlä¹‹å</span></span><br><span class="line">   <span class="attribute">proxy_pass</span> http://127.0.0.1:8080/;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ã€ location /bbs ã€‘</p><ul><li><p>è®¡ç®—è§„åˆ™ï¼š<a href="http://127.0.0.1:8080/">http://127.0.0.1:8080/</a> + ï¼ˆ/bbs/abc/test.html - /bbsï¼‰</p></li><li><p>æœ€ç»ˆç»“æœï¼š<a href="http://127.0.0.1:8080//abc/test.html">http://127.0.0.1:8080//abc/test.html</a></p></li></ul><p>ã€ location /bbs/ ã€‘</p><ul><li><p>è®¡ç®—è§„åˆ™ï¼š<a href="http://127.0.0.1:8080/">http://127.0.0.1:8080/</a> + ï¼ˆ/bbs/abc/test.html - /bbs/ï¼‰</p></li><li><p>æœ€ç»ˆç»“æœï¼š<a href="http://127.0.0.1:8080/abc/test.html">http://127.0.0.1:8080/abc/test.html</a></p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="proxy_pass-2"><div class="note success simple"><p><strong>ä¸å¸¦ / : locationåŒ¹é…åˆ°çš„éƒ¨åˆ†å±äºè¯·æ±‚éƒ¨åˆ†ï¼ŒåŒ¹é…åˆ° /bbs/ æ—¶ä¼šå°†æ•´ä¸ªè¯·æ±‚éƒ¨åˆ†è¿½åŠ åˆ°proxy_passä¸Š</strong></p></div><p><strong>ç”¨æˆ·è¯·æ±‚ URI</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bbs/abc/test.html</span><br></pre></td></tr></table></figure><p><strong>proxy_pass é…ç½®</strong></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŒ¹é…è·¯å¾„ï¼Œåç¼€ä¸å¸¦/</span></span><br><span class="line"><span class="section">location</span> /bbs &#123;</span><br><span class="line">   <span class="comment"># ä¸å¸¦ / : locationåŒ¹é…åˆ°çš„éƒ¨åˆ†å±äºè¯·æ±‚éƒ¨åˆ†ï¼ŒåŒ¹é…åˆ° /bbs/ æ—¶ä¼šå°†æ•´ä¸ªè¯·æ±‚éƒ¨åˆ†è¿½åŠ åˆ°proxy_passä¸Š</span></span><br><span class="line">   <span class="attribute">proxy_pass</span> http://127.0.0.1:8080;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment"># åŒ¹é…è·¯å¾„ï¼Œåç¼€å¸¦/</span></span><br><span class="line"><span class="section">location</span> /bbs/ &#123;</span><br><span class="line">   <span class="comment"># ä¸å¸¦ / : locationåŒ¹é…åˆ°çš„éƒ¨åˆ†å±äºè¯·æ±‚éƒ¨åˆ†ï¼ŒåŒ¹é…åˆ° /bbs/ æ—¶ä¼šå°†æ•´ä¸ªè¯·æ±‚éƒ¨åˆ†è¿½åŠ åˆ°proxy_passä¸Š</span></span><br><span class="line">   <span class="attribute">proxy_pass</span> http://127.0.0.1:8080;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ã€ location /bbs ã€‘</p><ul><li><p>è®¡ç®—è§„åˆ™ï¼š<a href="http://127.0.0.1:8080">http://127.0.0.1:8080</a> + ï¼ˆ/bbs/abc/test.htmlï¼‰</p></li><li><p>æœ€ç»ˆç»“æœï¼š<a href="http://127.0.0.1:8080/bbs/abc/test.html">http://127.0.0.1:8080/bbs/abc/test.html</a></p></li></ul><p>ã€ location /bbs/ ã€‘</p><ul><li><p>è®¡ç®—è§„åˆ™ï¼š<a href="http://127.0.0.1:8080">http://127.0.0.1:8080</a> + ï¼ˆ/bbs/abc/test.htmlï¼‰</p></li><li><p>æœ€ç»ˆç»“æœï¼š<a href="http://127.0.0.1:8080/bbs/abc/test.html">http://127.0.0.1:8080/bbs/abc/test.html</a></p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="è®¾ç½®ä»£ç†è¯·æ±‚-headers"><a href="#è®¾ç½®ä»£ç†è¯·æ±‚-headers" class="headerlink" title="è®¾ç½®ä»£ç†è¯·æ±‚ headers"></a>è®¾ç½®ä»£ç†è¯·æ±‚ <code>headers</code></h2><blockquote><p>headersï¼šæŒ‡çš„æ˜¯NginxæœåŠ¡å™¨å‘é€ç»™<strong>å®¢æˆ·ç«¯çš„ HTTP å“åº”å¤´éƒ¨ä¿¡æ¯</strong>ã€‚</p><p>åœ¨HTTPå“åº”ä¸­ï¼Œå¤´éƒ¨ä¿¡æ¯åŒ…å«å…³äºå“åº”çš„å…ƒæ•°æ®ï¼Œå¦‚å“åº”çš„å†…å®¹ç±»å‹ã€å“åº”çš„æ—¥æœŸå’Œæ—¶é—´ã€æœåŠ¡å™¨çš„ç±»å‹å’Œç‰ˆæœ¬ã€ä»¥åŠå…¶ä»–æœ‰å…³å“åº”å’Œè¯·æ±‚çš„ä¿¡æ¯ã€‚</p></blockquote><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><div class="note orange simple"><p>é—®é¢˜ä½ç½®ï¼šç³»ç»Ÿç›‘æ§ -&gt; åœ¨çº¿ç”¨æˆ· - ä¸»æœºåœ°å€</p><p>é—®é¢˜æè¿°ï¼šå…¶ä¸­ä¸»æœºå­—æ®µåº”è¯¥æ˜¯è·å–çš„å½“å‰ç™»å½•ç”¨æˆ·çš„çœŸå® ip åœ°å€ï¼Œè€Œä¸æ˜¯ä¸»æœºæœåŠ¡å™¨çš„ipã€‚</p></div><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305112036519.png" alt="image-20230511203608477"></p><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><ol><li><p>åœ¨ <code>nginx</code> é…ç½®æ–‡ä»¶ï¼ˆ8002.confï¼‰ä¸­æ–°å¢å¦‚ä¸‹å¦‚ä¸‹å†…å®¹</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è™šæ‹Ÿä¸»æœºserverå—</span></span><br><span class="line">server&#123;</span><br><span class="line">  </span><br><span class="line">    <span class="comment"># ç›‘å¬ç«¯å£</span></span><br><span class="line">    <span class="attribute">listen</span> <span class="number">8002</span>;</span><br><span class="line">    <span class="comment"># åŒ¹é…è¯·æ±‚ä¸­çš„hostå€¼</span></span><br><span class="line">    <span class="attribute">server_name</span> ruoyi.localhost;</span><br><span class="line">      </span><br><span class="line">    <span class="comment"># ç›‘å¬è¯·æ±‚é™æ€èµ„æºè·¯å¾„</span></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line"> </span><br><span class="line">        <span class="comment">#nginxçš„ä¸»æœºåœ°å€</span></span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$http_host</span>;</span><br><span class="line"> </span><br><span class="line">        <span class="comment">#ç”¨æˆ·ç«¯çœŸå®çš„IPï¼Œå³å®¢æˆ·ç«¯IP</span></span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line"> </span><br><span class="line">        <span class="comment"># é…ç½®ä»£ç†æœåŠ¡å™¨</span></span><br><span class="line">        <span class="attribute">proxy_pass</span> http://192.168.206.120:8088;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><ol><li><p>å¸¸ç”¨å˜é‡å€¼</p><p>| <strong>å˜é‡åç§°</strong> | <strong>å˜é‡è§£é‡Š</strong>                                         |<br>| â€”â€”â€”â€”â€”â€” | â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” |<br>| $host        | nginxä¸»æœºIPï¼Œä¾‹å¦‚ 192.168.206.120                    |<br>| $http_host   | nginxä¸»æœºIPå’Œç«¯å£ï¼Œä¾‹å¦‚ 192.168.206.120:8002         |<br>| $proxy_host  | proxy_passé‡Œé…ç½®çš„ä¸»æœºåå’Œç«¯å£ï¼Œä¾‹å¦‚ï¼šlocalhost:8088 |<br>| $remote_addr | ç”¨æˆ·çš„çœŸå®IPï¼Œå³å®¢æˆ·ç«¯IP                             |</p></li></ol><ol><li><p>ç„¶ååˆ·æ–°é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos home]<span class="comment"># /usr/sbin/nginx -s reload</span></span><br><span class="line">[root@VM-0-9-centos home]<span class="comment"># </span></span><br></pre></td></tr></table></figure></li></ol><ol><li><p>è®¿é—®</p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305112034508.png" alt="image-20230511203437468"></p></li></ol><h2 id="å‚è€ƒåšæ–‡"><a href="#å‚è€ƒåšæ–‡" class="headerlink" title="å‚è€ƒåšæ–‡"></a>å‚è€ƒåšæ–‡</h2><blockquote><ul><li><a href="https://www.jianshu.com/p/549972745909"><code>nginx</code> é…ç½® proxy_pass æ—¶ <code>url</code> æœ«å°¾å¸¦â€œ/â€ä¸ä¸å¸¦â€œ/â€çš„åŒºåˆ«å¦‚ä¸‹</a></li><li><a href="https://juejin.cn/post/7083306471697416228"><code>nginx proxy_pass</code>è·¯å¾„åå¸¦/ä¸ä¸å¸¦/çš„åŒºåˆ«</a></li><li><a href="https://www.bilibili.com/video/BV1rG4y1e7BQ/?p=1&amp;vd_source=8c87bde4b88d9c9613014acf272109fc"><code>nginx</code>ä¸€å°æ—¶å…¥é—¨ç²¾è®²è¯¾ç¨‹(å¹²è´§çº¯äº«ç‰ˆ)</a></li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> WebæœåŠ¡å™¨ </category>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx-åå‘ä»£ç†ï¼ˆä¸‰ï¼‰</title>
      <link href="/posts/be2f0375.html"/>
      <url>/posts/be2f0375.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>æœ¬æ–‡ ä¸»è¦é€šè¿‡æ¡ˆä¾‹ <strong><code>Nginx</code> é…ç½® <code>Ruoyi</code> æ¡†æ¶</strong> ï¼Œå­¦ä¹ åå‘ä»£ç†ã€‚ </p><p><strong>å‡†å¤‡å·¥ä½œ</strong></p><ul><li>ç½‘ç›˜é“¾æ¥: <a href="https://pan.baidu.com/s/1NmCR-vdAcZLouRRn9V1yTA">https://pan.baidu.com/s/1NmCR-vdAcZLouRRn9V1yTA</a> å¯†ç : 1b60</li><li>å®˜ç½‘æ–‡æ¡£ï¼š<a href="http://doc.ruoyi.vip/ruoyi">http://doc.ruoyi.vip/ruoyi</a></li><li>æºç ä¸‹è½½ï¼š<a href="https://codeload.github.com/yangzongzhuan/RuoYi/zip/refs/tags/v4.7.4">https://codeload.github.com/yangzongzhuan/RuoYi/zip/refs/tags/v4.7.4</a></li></ul></blockquote><h2 id="å…·ä½“éœ€æ±‚"><a href="#å…·ä½“éœ€æ±‚" class="headerlink" title="å…·ä½“éœ€æ±‚"></a><strong>å…·ä½“éœ€æ±‚</strong></h2><blockquote><p>æœ¬è¿‡ç¨‹ä¹Ÿå¯ä»¥åœ¨ä¸€å°æœåŠ¡å™¨ä¸­è¿›è¡Œï¼Œä½†ä¸ºäº†æ›´å¥½çš„ç†è§£åå‘ä»£ç†ï¼Œæœ¬äººç”¨åˆ°çš„æ˜¯ä¸¤å°æœåŠ¡å™¨ <code>server1</code> å’Œ <code>server2</code> ã€‚</p><ul><li><code>server1</code> ï¼šéƒ¨ç½²çš„æ˜¯ <code>nginx</code> æœåŠ¡</li><li><code>server2</code> ï¼šéƒ¨ç½²çš„æ˜¯åç«¯ jar æœåŠ¡</li></ul><p>å®ç°æµç¨‹å¦‚ä¸‹ï¼š</p><ul><li>é¦–å…ˆï¼Œå½“å®¢æˆ·ç«¯é€šè¿‡ <a href="http://ip:port/path">http://ip:port/path</a> è¿›è¡Œè®¿é—®ã€‚</li><li>ç„¶åï¼Œå½“è¯·æ±‚è¾¾åˆ°æœåŠ¡å™¨ä¹‹åï¼Œé€šè¿‡ <code>Nginx</code> ä»£ç† è½¬å‘åˆ°çœŸæ­£çš„ç›®æ ‡æœåŠ¡å™¨ä¸Šã€‚</li><li>æœ€åï¼Œè¿”å›è¯·æ±‚ä¿¡æ¯ã€‚</li><li>å…·ä½“æµç¨‹å¦‚ä¸‹å›¾</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305111616675.png" alt="image-20230511161605653"></p></blockquote><h2 id="Nginx-é…ç½®-Ruoyi-æ¡†æ¶"><a href="#Nginx-é…ç½®-Ruoyi-æ¡†æ¶" class="headerlink" title="Nginx é…ç½® Ruoyi æ¡†æ¶"></a><code>Nginx</code> é…ç½® <code>Ruoyi</code> æ¡†æ¶</h2><blockquote><p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><code>server1</code> ï¼šåˆ›å»º <code>nginx</code> é…ç½®æ–‡ä»¶ï¼Œå¹¶ä½¿å…¶ç”Ÿæ•ˆã€‚</li><li><code>server2</code> ï¼šä¿®æ”¹ <code>ruoyi-admin.jar</code> ä¸­çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œå¹¶ä½¿å…¶ç”Ÿæ•ˆã€‚</li><li><code>server1</code> ï¼šé€šè¿‡ <code>crul</code> å‘½ä»¤æ˜¯å¦å¯ä»¥è®¿é—®è¯¥ç«¯å£ã€‚</li><li>å®¢æˆ·ç«¯è®¿é—®</li></ol></blockquote><h3 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h3><ol><li><p><code>server1</code> ï¼šåˆ›å»º <code>nginx</code> é…ç½®æ–‡ä»¶ï¼Œå¹¶ä½¿å…¶ç”Ÿæ•ˆã€‚</p><div class="tabs" id="server1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#server1-1">ã€ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºnginxé…ç½®æ–‡ä»¶ 8002.confã€‘</button></li><li class="tab"><button type="button" data-href="#server1-2">ã€ç¬¬äºŒæ­¥ï¼šåˆ·æ–° nginx é…ç½®æ–‡ä»¶ã€‘</button></li><li class="tab"><button type="button" data-href="#server1-3">ã€ç¬¬ä¸‰æ­¥ï¼šå¼€æ”¾é˜²ç«å¢™ç«¯å£ï¼Œåˆ·æ–°é…ç½®ã€‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="server1-1"><ul><li><p><code>nginx</code> é…ç½®æ–‡ä»¶è·¯å¾„ <code>/etc/nginx/cond.d</code></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è™šæ‹Ÿä¸»æœºserverå—</span></span><br><span class="line">server&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment"># ç›‘å¬ç«¯å£</span></span><br><span class="line">  <span class="attribute">listen</span> <span class="number">8002</span>;</span><br><span class="line">  <span class="comment"># åŒ¹é…è¯·æ±‚ä¸­çš„hostå€¼</span></span><br><span class="line">  <span class="attribute">server_name</span> ruoyi.localhost;</span><br><span class="line"></span><br><span class="line">  <span class="comment"># ç›‘å¬è¯·æ±‚é™æ€èµ„æºè·¯å¾„</span></span><br><span class="line">  <span class="section">location</span> / &#123;</span><br><span class="line">    <span class="comment"># é…ç½®ä»£ç†æœåŠ¡å™¨, è¿™é‡Œ å¦‚æœæ˜¯æœ¬æœºå°±ç›´æ¥ä½¿ç”¨ http://localhost:portï¼Œå¦‚æœä¸æ˜¯å°±æ˜¯ç”¨ç›®æ ‡æœåŠ¡å™¨çš„ ip + ç«¯å£ã€‚</span></span><br><span class="line">    <span class="attribute">proxy_pass</span> http://server2:port;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="server1-2"><ul><li><p>åˆ·æ–° <code>nginx</code> é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos conf.d]<span class="comment"># /usr/sbin/nginx -t </span></span><br><span class="line">nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /etc/nginx/nginx.conf <span class="built_in">test</span> is successful</span><br><span class="line">[root@VM-0-9-centos conf.d]<span class="comment"># /usr/sbin/nginx -s reload</span></span><br><span class="line">[root@VM-0-9-centos conf.d]<span class="comment"># </span></span><br></pre></td></tr></table></figure></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="server1-3"><ul><li><p><code>server1</code> ï¼šå¼€æ”¾é˜²ç«å¢™ç«¯å£ï¼Œåˆ·æ–°é…ç½®ã€‚</p><div class="note warning simple"><p>å¦‚æœä¸º é˜¿é‡Œäº‘ æˆ–è€… è…¾è®¯äº‘ éœ€è¦é…ç½®å®‰å…¨ç»„è§„åˆ™ã€‚ä¾‹å¦‚ï¼š<a href="https://developer.aliyun.com/article/767328">é˜¿é‡Œäº‘-é…ç½®å®‰å…¨ç»„è§„åˆ™</a></p></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos images]<span class="comment"># firewall-cmd --zone=public --add-port=8002/tcp --permanent # å¼€æ”¾8002ç«¯å£</span></span><br><span class="line">success</span><br><span class="line">[root@VM-0-9-centos images]<span class="comment"># firewall-cmd --reload # åˆ·æ–°é˜²ç«å¢™é…ç½®</span></span><br><span class="line">success</span><br><span class="line">[root@VM-0-9-centos images]<span class="comment"># </span></span><br></pre></td></tr></table></figure></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li><li><p><code>server2</code> ï¼šä¿®æ”¹ <code>ruoyi-admin.jar</code> ä¸­çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œå¹¶ä½¿å…¶ç”Ÿæ•ˆã€‚</p><div class="tabs" id="server2"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#server2-1">ã€ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹jaråŒ…é…ç½®ä¿¡æ¯ã€‘</button></li><li class="tab"><button type="button" data-href="#server2-2">ã€ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ•°æ®åº“ä¿¡æ¯ã€‘</button></li><li class="tab"><button type="button" data-href="#server2-3">ã€ç¬¬ä¸‰æ­¥ï¼šå¯åŠ¨é¡¹ç›®ã€‘</button></li><li class="tab"><button type="button" data-href="#server2-4">ã€ç¬¬å››æ­¥ï¼šå¼€æ”¾ç«¯å£ã€‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="server2-1"><ul><li><p>é€šè¿‡å‹ç¼©å·¥å…·æ‰“å¼€<code>jar</code>åŒ…ï¼Œå¯ä»¥é€šè¿‡ <code>360å‹ç¼©</code> æˆ–è€… <code>7z</code> æ‰“å¼€</p><p> <img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305111635689.png" alt="image-20230511163533665"></p></li><li><p>ä¿®æ”¹ <code>BOOT-INF\classes</code> æ–‡ä»¶ä¸‹ <code>application-druid.yml</code> æ–‡ä»¶ä¸­çš„ æ•°æ®åº“è¿æ¥ä¿¡æ¯</p><blockquote><p>å…³äºLinuxä¸‹çš„MySQLå®‰è£…å¯ä»¥å‚è€ƒæˆ‘çš„åšå®¢ ã€Š<a href="http://example.com/2023/05/09/Linux/Linux-Shell-MySQL/">Linux-Shell-MySQL</a>ã€‹</p></blockquote><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ•°æ®æºé…ç½®</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">    <span class="attr">datasource:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">        <span class="attr">driverClassName:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">        <span class="attr">druid:</span></span><br><span class="line">            <span class="comment"># ä¸»åº“æ•°æ®æº</span></span><br><span class="line">            <span class="attr">master:</span></span><br><span class="line">                <span class="attr">url:</span> <span class="string">jdbc:mysql://server:3306/ry?useUnicode=true&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=true&amp;serverTimezone=GMT%2B8</span></span><br><span class="line">                <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">                <span class="attr">password:</span> <span class="string">P@ssw0rd</span></span><br><span class="line"><span class="string">......</span></span><br></pre></td></tr></table></figure></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="server2-2"><ul><li><p>åˆ›å»º <code>ry</code> æ•°æ®åº“</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># åˆ›å»º ruoyi æ•°æ®åº“ jdbc:mysql:<span class="operator">/</span><span class="operator">/</span>server:<span class="number">3306</span><span class="operator">/</span>ry</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE `ry` <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="string">&#x27;utf8mb4&#x27;</span> <span class="keyword">COLLATE</span> <span class="string">&#x27;utf8mb4_unicode_ci&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li><p>å°†ç™¾åº¦ç½‘ç›˜ä¸­çš„ <code>ry_20210924.sql</code> æ–‡ä»¶å¯¼å…¥ <code>ry</code> æ•°æ®åº“ä¸­</p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305111648892.png" alt="image-20230511164821860"></p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="server2-3"><ul><li><p>ä¸Šä¼ è‡³ <code>/home/ruoyi</code> ç›˜ç¬¦</p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305111700052.png" alt="image-20230511170026032"></p></li><li><p>å¯åŠ¨é¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-rw-r--r-- 1 root root 75366452 May 11 16:58 ruoyi-admin.jar</span><br><span class="line">[root@VM-24-4-centos ruoyi]<span class="comment"># nohup java -jar ruoyi-admin.jar &amp;</span></span><br><span class="line">[1] 26695</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹æ—¥å¿—</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-24-4-centos ruoyi]<span class="comment"># tail -f nohup.out </span></span><br><span class="line">..............</span><br><span class="line">17:09:07.497 [main] INFO  c.r.RuoYiApplication - [logStarted,61] - Started RuoYiApplication <span class="keyword">in</span> 22.314 seconds (JVM running <span class="keyword">for</span> 23.97)</span><br><span class="line">(â™¥â— â€¿â— )ï¾‰ï¾  è‹¥ä¾å¯åŠ¨æˆåŠŸ   áƒš(Â´Ú¡`áƒš)ï¾  </span><br><span class="line"> .-------.       ____     __        </span><br><span class="line"> |  _ _   \      \   \   /  /    </span><br><span class="line"> | ( <span class="string">&#x27; )  |       \  _. /  &#x27;</span>       </span><br><span class="line"> |(_ o _) /        _( )_ .<span class="string">&#x27;         </span></span><br><span class="line"><span class="string"> | (_,_).&#x27;</span> __  ___(_ o _)<span class="string">&#x27;          </span></span><br><span class="line"><span class="string"> |  |\ \  |  ||   |(_,_)&#x27;</span>         </span><br><span class="line"> |  | \ `<span class="string">&#x27;   /|   `-&#x27;</span>  /           </span><br><span class="line"> |  |  \    /  \      /           </span><br><span class="line"> <span class="string">&#x27;&#x27;</span>-<span class="string">&#x27;   `&#x27;</span>-<span class="string">&#x27;    `-..-&#x27;</span> </span><br></pre></td></tr></table></figure></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="server2-4"><ul><li><div class="note warning simple"><p>å¦‚æœä¸º é˜¿é‡Œäº‘ æˆ–è€… è…¾è®¯äº‘ éœ€è¦é…ç½®å®‰å…¨ç»„è§„åˆ™ã€‚ä¾‹å¦‚ï¼š<a href="https://developer.aliyun.com/article/767328">é˜¿é‡Œäº‘-é…ç½®å®‰å…¨ç»„è§„åˆ™</a></p></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-24-4-centos ruoyi]<span class="comment"># firewall-cmd --zone=public --add-port=8088/tcp --permanent # å¼€æ”¾8088ç«¯å£</span></span><br><span class="line">success</span><br><span class="line">[root@VM-24-4-centos ruoyi]<span class="comment"># firewall-cmd --reload # åˆ·æ–°é˜²ç«å¢™é…ç½®</span></span><br><span class="line">success</span><br><span class="line">[root@VM-24-4-centos ruoyi]<span class="comment"># </span></span><br></pre></td></tr></table></figure></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li><li><p><code>server1</code> ï¼šé€šè¿‡ <code>crul</code> å‘½ä»¤æ˜¯å¦å¯ä»¥è®¿é—®è¯¥ç«¯å£</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos conf.d]<span class="comment"># curl http://server2:8088/</span></span><br><span class="line">[root@VM-0-9-centos conf.d]<span class="comment"># </span></span><br></pre></td></tr></table></figure></li><li><p>å®¢æˆ·ç«¯è¿›è¡Œè®¿é—®</p><ul><li>è®¿é—®åœ°å€ï¼š<a href="http://server1:8002">http://server1:8002</a></li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305111744050.png" alt="image-20230511174435926"></p></li></ol><h2 id="å‚è€ƒåšæ–‡"><a href="#å‚è€ƒåšæ–‡" class="headerlink" title="å‚è€ƒåšæ–‡"></a>å‚è€ƒåšæ–‡</h2><blockquote><ul><li><a href="https://www.bilibili.com/video/BV1rG4y1e7BQ/?p=1&amp;vd_source=8c87bde4b88d9c9613014acf272109fc"><code>nginx</code>ä¸€å°æ—¶å…¥é—¨ç²¾è®²è¯¾ç¨‹(å¹²è´§çº¯äº«ç‰ˆ)</a></li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> WebæœåŠ¡å™¨ </category>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx-é™æ€èµ„æºï¼ˆäºŒï¼‰</title>
      <link href="/posts/9aade770.html"/>
      <url>/posts/9aade770.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>æœ¬ç¯‡åšæ–‡ä¸»è¦æ˜¯é€šè¿‡ <code>Nginx</code> æœåŠ¡å™¨ä»£ç†é™æ€èµ„æºã€‚ä¸»è¦æœ‰ä¸¤ä¸ªæ¡ˆä¾‹ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯ <strong><code>Nginx</code> é…ç½®é™æ€èµ„æº</strong>ï¼Œå¦ä¸€ä¸ªæ˜¯ <strong><code>Nginx</code> é…ç½®é™æ€ç½‘ç«™</strong>ã€‚</p><p><strong>å¸¸è§é™æ€èµ„æºç±»å‹ï¼š</strong></p><ul><li>æµè§ˆå™¨ç«¯æ¸²æŸ“ï¼šHTMLã€<code>CSS</code>ã€<code>JS</code></li><li>å›¾ç‰‡ï¼š<code>JPEG</code>ã€<code>GIF</code>ã€<code>PNG</code></li><li>è§†é¢‘ï¼š<code>FLV</code>ã€<code>MPEG</code></li><li>æ–‡ä»¶ï¼š<code>TXT</code> ç­‰ä»»æ„ä¸‹è½½æ–‡ä»¶</li></ul></blockquote><h2 id="Nginx-é…ç½®é™æ€èµ„æº"><a href="#Nginx-é…ç½®é™æ€èµ„æº" class="headerlink" title="Nginx é…ç½®é™æ€èµ„æº"></a><code>Nginx</code> é…ç½®é™æ€èµ„æº</h2><blockquote><p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>ä¸Šä¼ å›¾ç‰‡åˆ°æŒ‡å®šç›˜ç¬¦ï¼›</li><li>åˆ›å»º <code>nginx</code> é…ç½®æ–‡ä»¶ï¼›</li><li>æ£€æµ‹ <code>nginx</code> é…ç½®æ–‡ä»¶ï¼Œå¹¶åˆ·æ–°é…ç½®æ–‡ä»¶ï¼›</li><li>å¼€æ”¾é˜²ç«å¢™ç«¯å£ï¼Œå¹¶åˆ·æ–°é…ç½®ï¼›</li><li>è¿›è¡Œè®¿é—®ï¼›</li></ol></blockquote><h3 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h3><ol><li><p>ä¸Šä¼ å›¾ç‰‡åˆ°æŒ‡å®šç›˜ç¬¦</p><ul><li>ä¸Šä¼ è·¯å¾„ï¼š<code>/home/images</code> ç›˜ç¬¦ä¸‹</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305110006300.png" alt="image-20230511000644277"></p></li><li><p>åˆ›å»º <code>nginx</code> é…ç½®æ–‡ä»¶ã€‚</p><ul><li><p>é…ç½®æ–‡ä»¶è·¯å¾„ï¼š<code>/etc/nginx/conf</code></p></li><li><p>é…ç½®æ–‡ä»¶åç§°ï¼š<code>8000.conf</code> </p></li></ul><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è™šæ‹Ÿä¸»æœºserverå—</span></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"> </span><br><span class="line">     <span class="comment"># ç«¯å£</span></span><br><span class="line">     <span class="attribute">listen</span> <span class="number">8000</span>;</span><br><span class="line">     <span class="comment"># åŒ¹é…è¯·æ±‚ä¸­çš„hostå€¼</span></span><br><span class="line">     <span class="attribute">server_name</span>    localhost;</span><br><span class="line"> </span><br><span class="line">     <span class="comment"># ç›‘å¬è¯·æ±‚é™æ€èµ„æº å›¾ç‰‡ è·¯å¾„</span></span><br><span class="line">     <span class="section">location</span> /images &#123;</span><br><span class="line">          <span class="comment"># æŸ¥æ‰¾ç›®å½•</span></span><br><span class="line">          <span class="attribute">root</span> /home;</span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ£€æµ‹ <code>nginx</code> é…ç½®æ–‡ä»¶ï¼Œå¹¶åˆ·æ–°é…ç½®æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos images]<span class="comment"># /usr/sbin/nginx -t # æ£€æµ‹é…ç½®æ–‡ä»¶å‘½ä»¤</span></span><br><span class="line">nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /etc/nginx/nginx.conf <span class="built_in">test</span> is successful</span><br><span class="line">[root@VM-0-9-centos images]<span class="comment"># /usr/sbin/nginx -s reload # åˆ·æ–°é…ç½®æ–‡ä»¶</span></span><br><span class="line">[root@VM-0-9-centos images]<span class="comment"># </span></span><br></pre></td></tr></table></figure></li><li><p>å¼€æ”¾é˜²ç«å¢™ç«¯å£ï¼Œå¹¶åˆ·æ–°é…ç½®ã€‚</p><div class="note warning simple"><p>å¦‚æœä¸º é˜¿é‡Œäº‘ æˆ–è€… è…¾è®¯äº‘ éœ€è¦é…ç½®å®‰å…¨ç»„è§„åˆ™ã€‚ä¾‹å¦‚ï¼š<a href="https://developer.aliyun.com/article/767328">é˜¿é‡Œäº‘-é…ç½®å®‰å…¨ç»„è§„åˆ™</a></p></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos images]<span class="comment"># firewall-cmd --zone=public --add-port=8000/tcp --permanent # å¼€æ”¾8000ç«¯å£</span></span><br><span class="line">success</span><br><span class="line">[root@VM-0-9-centos images]<span class="comment"># firewall-cmd --reload # åˆ·æ–°é˜²ç«å¢™é…ç½®</span></span><br><span class="line">success</span><br><span class="line">[root@VM-0-9-centos images]<span class="comment"># </span></span><br></pre></td></tr></table></figure></li><li><p>è¿›è¡Œè®¿é—®</p><ul><li>è®¿é—®è·¯å¾„ï¼š<code>http:ip:8000/images/20230506231750.jpg</code></li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305110136357.png" alt="image-20230511013614304"></p></li></ol><h2 id="Nginx-é…ç½®é™æ€ç½‘ç«™"><a href="#Nginx-é…ç½®é™æ€ç½‘ç«™" class="headerlink" title="Nginx é…ç½®é™æ€ç½‘ç«™"></a><code>Nginx</code> é…ç½®é™æ€ç½‘ç«™</h2><h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><blockquote><p><code>Nginx</code> é…ç½®é™æ€ç½‘ç«™ï¼Œ<code>AdminLTE</code> åå°ç®¡ç†ç³»ç»Ÿã€‚</p><ul><li><code>AdminLTE</code> å®˜æ–¹ç½‘å€ï¼š<a href="https://adminlte.io/">https://adminlte.io/</a></li><li>æºç ä¸‹è½½ï¼š<a href="https://codeload.github.com/ColorlibHQ/AdminLTE/tar.gz/refs/tags/v3.2.0">https://codeload.github.com/ColorlibHQ/AdminLTE/tar.gz/refs/tags/v3.2.0</a></li></ul></blockquote><h3 id="å®ç°æ­¥éª¤-1"><a href="#å®ç°æ­¥éª¤-1" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h3><blockquote><p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>ä¸Šä¼ é™æ€èµ„æºåˆ°æŒ‡å®šç›˜ç¬¦ï¼›</li><li><code>nginx</code> é…ç½®æ–‡ä»¶ï¼›</li><li>æ£€æµ‹ <code>nginx</code> é…ç½®æ–‡ä»¶ï¼Œå¹¶åˆ·æ–°é…ç½®æ–‡ä»¶ï¼›</li><li>å¼€æ”¾é˜²ç«å¢™ç«¯å£ï¼Œå¹¶åˆ·æ–°é…ç½®ï¼›</li><li>è¿›è¡Œè®¿é—®ï¼›</li></ol></blockquote><ol><li><p><strong>ä¸Šä¼ é™æ€èµ„æºåˆ°æŒ‡å®šç›˜ç¬¦</strong></p><ul><li>ä¸Šä¼ è·¯å¾„ï¼š<code>/home/images</code> ç›˜ç¬¦ä¸‹</li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305110122048.png" alt="image-20230511012248028"></p></li><li><p><strong>åˆ›å»º <code>Nginx</code> é…ç½®æ–‡ä»¶</strong></p><ul><li>é…ç½®æ–‡ä»¶è·¯å¾„ï¼š<code>/etc/nginx/conf</code></li><li>é…ç½®æ–‡ä»¶åç§°ï¼š<code>8001.conf</code> </li></ul><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é…ç½®è™šæ‹Ÿä¸»æœºçš„ç›¸å…³å‚æ•°ï¼Œå¯ä»¥æœ‰å¤šä¸ª</span></span><br><span class="line">server&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="comment"># ç›‘å¬ç«¯å£, ç›‘å¬å¯ä»¥é…ç½®æˆIP æˆ– ç«¯å£æˆ–IP+ç«¯å£listen 127.0.0.1:8000;</span></span><br><span class="line">    <span class="attribute">listen</span> <span class="number">8001</span>;</span><br><span class="line">    <span class="comment"># é€šè¿‡è¯·æ±‚ä¸­çš„ host å€¼ï¼Œæ‰¾åˆ°å¯¹åº”çš„è™šæ‹Ÿä¸»æœºçš„é…ç½®</span></span><br><span class="line">    <span class="attribute">server_name</span> nginx-dev;</span><br><span class="line">     </span><br><span class="line">    <span class="comment"># é…ç½®è¯·æ±‚è·¯ç”±ï¼Œlocation æ€»æ˜¯ä»/ç›®å½•å¼€å§‹åŒ¹é…ã€‚</span></span><br><span class="line">    <span class="comment"># ä¾‹å¦‚ï¼š/static/css ==ã€‹ location /css &#123;   root /static;  &#125;</span></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">root</span> /home/static/AdminLTE-<span class="number">3</span>.<span class="number">2</span>.<span class="number">0</span>;</span><br><span class="line">        <span class="attribute">index</span> index.html index2.html index3.html;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>æ£€æµ‹ <code>nginx</code> é…ç½®æ–‡ä»¶ï¼Œå¹¶åˆ·æ–°é…ç½®æ–‡ä»¶</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos images]<span class="comment"># /usr/sbin/nginx -t # æ£€æµ‹é…ç½®æ–‡ä»¶å‘½ä»¤</span></span><br><span class="line">nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /etc/nginx/nginx.conf <span class="built_in">test</span> is successful</span><br><span class="line">[root@VM-0-9-centos images]<span class="comment"># /usr/sbin/nginx -s reload # åˆ·æ–°é…ç½®æ–‡ä»¶</span></span><br><span class="line">[root@VM-0-9-centos images]<span class="comment"># </span></span><br></pre></td></tr></table></figure></li><li><p><strong>å¼€æ”¾é˜²ç«å¢™ç«¯å£ï¼Œå¹¶åˆ·æ–°é…ç½®</strong></p><div class="note warning simple"><p>å¦‚æœä¸º é˜¿é‡Œäº‘ æˆ–è€… è…¾è®¯äº‘ éœ€è¦é…ç½®å®‰å…¨ç»„è§„åˆ™ã€‚ä¾‹å¦‚ï¼š<a href="https://developer.aliyun.com/article/767328">é˜¿é‡Œäº‘-é…ç½®å®‰å…¨ç»„è§„åˆ™</a></p></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos images]<span class="comment"># firewall-cmd --zone=public --add-port=8001/tcp --permanent # å¼€æ”¾8001ç«¯å£</span></span><br><span class="line">success</span><br><span class="line">[root@VM-0-9-centos images]<span class="comment"># firewall-cmd --reload # åˆ·æ–°é˜²ç«å¢™é…ç½®</span></span><br><span class="line">success</span><br><span class="line">[root@VM-0-9-centos images]<span class="comment"># </span></span><br></pre></td></tr></table></figure></li><li><p><strong>è¿›è¡Œè®¿é—®</strong></p><ul><li>è®¿é—®è·¯å¾„ï¼š<a href="http://ip:8001/index.html">http://ip:8001/index.html</a></li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305110133134.png" alt="image-20230511013353075"></p></li></ol><h2 id="å‚è€ƒåšæ–‡"><a href="#å‚è€ƒåšæ–‡" class="headerlink" title="å‚è€ƒåšæ–‡"></a>å‚è€ƒåšæ–‡</h2><blockquote><ul><li><a href="https://tsejx.github.io/devops-guidebook//server/nginx/static-resource-server">é™æ€èµ„æºæœåŠ¡å™¨</a></li><li><a href="https://www.bilibili.com/video/BV1rG4y1e7BQ/?p=1&amp;vd_source=8c87bde4b88d9c9613014acf272109fc"><code>nginx</code>ä¸€å°æ—¶å…¥é—¨ç²¾è®²è¯¾ç¨‹(å¹²è´§çº¯äº«ç‰ˆ)</a></li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> WebæœåŠ¡å™¨ </category>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx-åŸºç¡€çŸ¥è¯†ï¼ˆä¸€ï¼‰</title>
      <link href="/posts/380e70b.html"/>
      <url>/posts/380e70b.html</url>
      
        <content type="html"><![CDATA[<h2 id="Nginx-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Nginx-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Nginx æ˜¯ä»€ä¹ˆï¼Ÿ"></a><code>Nginx</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2><blockquote><p> <code>Nginx</code> æ˜¯ä¸€æ¬¾è½»é‡çº§çš„ Web æœåŠ¡å™¨ / åå‘ä»£ç†æœåŠ¡å™¨ï¼Œå¹¿æ³›ç”¨äºè´Ÿè½½å‡è¡¡ã€åå‘ä»£ç†å’Œ HTTP ç¼“å­˜ç­‰åŠŸèƒ½ã€‚</p></blockquote><h2 id="Nginx-è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"><a href="#Nginx-è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ" class="headerlink" title="Nginx è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"></a><code>Nginx</code> è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h2><ul><li>é«˜å¹¶å‘è¿æ¥æ•°è¯·æ±‚å¤„ç†ï¼š<code>Nginx</code> é€šè¿‡å¼‚æ­¥éé˜»å¡çš„è®¾è®¡æ¶æ„ï¼Œèƒ½å¤Ÿé«˜æ•ˆåœ°å¤„ç†é«˜å¹¶å‘è¿æ¥æ•°çš„è¯·æ±‚ã€‚</li><li>è´Ÿè½½å‡è¡¡ï¼š<code>Nginx</code> å¯ä»¥å°†å®¢æˆ·ç«¯çš„è¯·æ±‚å‡è¡¡åˆ†å‘åˆ°åç«¯çš„å¤šå°æœåŠ¡å™¨ä¸Šï¼Œä»è€Œæä¾›è´Ÿè½½å‡è¡¡æœåŠ¡ã€‚</li><li>åå‘ä»£ç†ï¼š<code>Nginx</code> å¯ä»¥ä½œä¸ºåå‘ä»£ç†æœåŠ¡å™¨ï¼Œå°†å®¢æˆ·ç«¯çš„è¯·æ±‚è½¬å‘åˆ°åç«¯çš„æœåŠ¡å™¨ä¸Šï¼Œä»è€Œä¸ºå®¢æˆ·ç«¯æä¾›è´Ÿè½½å‡è¡¡ã€é«˜å¯ç”¨æ€§å’Œå®‰å…¨æ€§ç­‰åŠŸèƒ½ã€‚</li><li>HTTP ç¼“å­˜ï¼š<code>Nginx</code> å¯ä»¥å°†å¸¸ç”¨çš„é™æ€æ–‡ä»¶ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œä»è€Œæå‡ç½‘ç«™çš„è®¿é—®é€Ÿåº¦ã€‚</li><li><code>HTTPS</code>æœåŠ¡ï¼š<code>Nginx</code> æ”¯æŒ <code>HTTPS</code>åè®®ï¼Œå¯ä»¥ä¸ºç½‘ç«™æä¾›å®‰å…¨çš„åŠ å¯†ä¼ è¾“æœåŠ¡ã€‚</li></ul><h2 id="Nginx-å¦‚ä½•ä½¿ç”¨ï¼Ÿ"><a href="#Nginx-å¦‚ä½•ä½¿ç”¨ï¼Ÿ" class="headerlink" title="Nginx å¦‚ä½•ä½¿ç”¨ï¼Ÿ"></a><code>Nginx</code> å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h2><ul><li>åœ¨çº¿å®‰è£…å‚è€ƒï¼ˆå¤–ç½‘åšæ–‡ï¼‰ï¼š<a href="https://www.runoob.com/linux/`Nginx`-install-setup.html">åœ¨çº¿å®‰è£… <code>Nginx</code></a></li><li>Dockerå®‰è£…å‚è€ƒï¼ˆå¤–ç½‘åšæ–‡ï¼‰ï¼š<a href="https://www.runoob.com/docker/docker-install-`Nginx`.html">Docker å®‰è£… <code>Nginx</code></a></li></ul><h2 id="Nginx-ç›¸å…³ç›®å½•"><a href="#Nginx-ç›¸å…³ç›®å½•" class="headerlink" title="Nginx ç›¸å…³ç›®å½•"></a><code>Nginx</code> ç›¸å…³ç›®å½•</h2><ul><li><p><code>Nginx</code> å®‰è£…ç›®å½•</p><ul><li>å¤–ç½‘ï¼ˆåœ¨çº¿å®‰è£…ï¼‰ï¼š<code>/usr/local/Nginx</code></li></ul></li><li><p><code>Nginx</code> å¯åŠ¨ç›®å½•</p><ul><li>å¤–ç½‘ï¼ˆåœ¨çº¿å®‰è£…ï¼‰ï¼š<code>/usr/local/Nginx/sbin</code></li></ul></li><li><p><code>Nginx</code> æ—¥å¿—ç›®å½•</p><ul><li>å¤–ç½‘ï¼ˆåœ¨çº¿å®‰è£…ï¼‰ï¼š<code>/usr/local/Nginx/logs</code></li></ul></li></ul><h2 id="Nginx-å¸¸ç”¨å‘½ä»¤"><a href="#Nginx-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="Nginx å¸¸ç”¨å‘½ä»¤"></a><code>Nginx</code> å¸¸ç”¨å‘½ä»¤</h2><div class="table-container"><table><thead><tr><th>å‘½ä»¤</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td><code>Nginx</code> -t</td><td>æ‰§è¡Œé…ç½®æ–‡ä»¶æ£€æµ‹</td></tr><tr><td><code>Nginx</code> -t -q</td><td>æ‰§è¡Œé…ç½®æ–‡ä»¶æ£€æµ‹ï¼Œä¸”åªè¾“å‡ºé”™è¯¯ä¿¡æ¯</td></tr><tr><td><code>Nginx</code> -v</td><td>æ˜¾ç¤º<code>Nginx</code>æ‰§è¡Œæ–‡ä»¶çš„ç‰ˆæœ¬ä¿¡æ¯</td></tr><tr><td><code>Nginx</code> -s stop</td><td>å¿«é€Ÿåœæ­¢<code>Nginx</code></td></tr><tr><td><code>Nginx</code> -s reload</td><td>é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶</td></tr><tr><td><code>Nginx</code> -c /etc/<code>Nginx</code>/<code>Nginx</code>.conf</td><td>æŒ‡å®š <code>Nginx</code>.conf æ–‡ä»¶çš„ä½ç½®</td></tr></tbody></table></div><h2 id="Nginx-ä»£ç†"><a href="#Nginx-ä»£ç†" class="headerlink" title="Nginx ä»£ç†"></a><code>Nginx</code> ä»£ç†</h2><h3 id="æ­£å‘ä»£ç†"><a href="#æ­£å‘ä»£ç†" class="headerlink" title="æ­£å‘ä»£ç†"></a>æ­£å‘ä»£ç†</h3><blockquote><p>æ­£å‘ä»£ç†ï¼šå½“æˆ‘ä»¬ç«™åœ¨å®¢æˆ·ç«¯çš„è§’åº¦æƒ³è®¿é—® Googleï¼Œ æ­£å‘ä»£ç†æœåŠ¡å™¨ç±»ä¼¼ä¸€ä¸ªè·³æ¿æœºï¼Œä»£ç†è®¿é—®å¤–éƒ¨èµ„æºã€‚</p></blockquote><p>ä¾‹å¦‚ï¼Œä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æƒ³è®¿é—® Googleï¼Œä½†æ˜¯å­˜åœ¨ç›¸åº”çš„é˜²ç«å¢™ï¼Œæ— æ³•è®¿é—®ã€‚</p><ul><li><p>é¦–å…ˆï¼Œå…ˆæ‰¾ä¸€ä¸ªèƒ½è®¿é—®åˆ° Google çš„æœåŠ¡å™¨ã€‚</p></li><li><p>ç„¶åï¼Œæˆ‘ä»¬èƒ½å¤Ÿè®¿é—®è¿™å°æœåŠ¡å™¨ï¼Œä½œä¸ºæˆ‘ä»¬èƒ½å¤Ÿè®¿é—®Googleçš„æ¡¥æ¢ã€‚</p></li><li><p>æœ€åï¼Œåœ¨è®©ä»£ç†æœåŠ¡å™¨å°†æˆ‘ä»¬æƒ³è¦çš„æ•°æ®è¿”å›ç»™æˆ‘ä»¬ã€‚</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305101524071.png" alt="image2023-1-3_19-20-3.png" /></p><h3 id="åå‘ä»£ç†"><a href="#åå‘ä»£ç†" class="headerlink" title="åå‘ä»£ç†"></a>åå‘ä»£ç†</h3><blockquote><p>åå‘ä»£ç†ï¼ˆReverse Proxyï¼‰å®é™…è¿è¡Œæ–¹å¼æ˜¯æŒ‡ä»¥ä»£ç†æœåŠ¡å™¨æ¥æ¥å— <code>internet</code> ä¸Šçš„è¿æ¥è¯·æ±‚ã€‚</p><p>å®¢æˆ·ç«¯æ˜¯æ— æ„ŸçŸ¥ä»£ç†çš„å­˜åœ¨çš„ï¼Œåå‘ä»£ç†å¯¹å¤–éƒ½æ˜¯é€æ˜çš„ï¼Œè®¿é—®è€…è€…å¹¶ä¸çŸ¥é“è‡ªå·±è®¿é—®çš„æ˜¯ä¸€ä¸ªä»£ç†ï¼Œå› ä¸ºå®¢æˆ·ç«¯ä¸éœ€è¦ä»»ä½•é…ç½®å°±å¯ä»¥è®¿é—®ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬è®¿é—® <code>taobao.com</code> æˆ–è€… <code>jd.com</code> å…¶å® éƒ½ç»è¿‡äº† å¾ˆå¤šæ¬¡ä»£ç†ç„¶åæ‰åˆ°çš„ç›®æ ‡æœåŠ¡å™¨ã€‚</p></blockquote><p>ä¾‹å­ï¼Œæˆ‘ä»¬éƒ¨ç½²çš„é¡¹ç›®</p><ul><li><p>é¦–å…ˆï¼Œæˆ‘ä»¬é€šè¿‡å®¢æˆ·ç«¯è®¿é—® 106.12.78.90 æ—¶ï¼Œä¼šåœ¨æµè§ˆå™¨å¾—åˆ°æˆ‘ä»¬æƒ³çœ‹åˆ°çš„å†…å®¹ã€‚</p></li><li><p>ç„¶åï¼Œä½†é¡¹ç›®éƒ¨ç½²åœ¨ 10.10.20.200 è¿™å°æœåŠ¡å™¨ä¸­ï¼Œå¹¶æš´éœ²å¤–ç½‘ 106.12.78.90 æš´éœ²å‡ºå»ã€‚</p></li><li><p>æœ€åï¼Œåœ¨æœåŠ¡å™¨ 10.10.20.200 å†…éƒ¨å¯èƒ½åšäº†å¤šæ¬¡ä»£ç†ï¼Œæ‰è®¿é—®åˆ°æˆ‘ä»¬çš„WebæœåŠ¡å™¨ï¼ˆ10.10.20.189ï¼‰ä¸­ã€‚</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305101532396.png" alt="image2023-1-3_19-27-24.png"  /></p><h3 id="æ­£å‘ä»£ç†ã€æ–¹å‘ä»£ç†åŒºåˆ«"><a href="#æ­£å‘ä»£ç†ã€æ–¹å‘ä»£ç†åŒºåˆ«" class="headerlink" title="æ­£å‘ä»£ç†ã€æ–¹å‘ä»£ç†åŒºåˆ«"></a>æ­£å‘ä»£ç†ã€æ–¹å‘ä»£ç†åŒºåˆ«</h3><blockquote><p>æ¥è‡ªçŸ¥ä¹ï¼š<a href="https://www.zhihu.com/question/24723688">https://www.zhihu.com/question/24723688</a></p></blockquote><ul><li><p>æ­£å‘ä»£ç†ä¸­ï¼Œproxyå’ŒclientåŒå±ä¸€ä¸ªLANï¼Œå¯¹serveré€æ˜ï¼›</p></li><li><p>åå‘ä»£ç†ä¸­ï¼Œproxyå’ŒserveråŒå±ä¸€ä¸ªLANï¼Œå¯¹clienté€æ˜ã€‚</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305101537454.png" alt="image2023-1-3_19-40-39.png"  /></p><h2 id="Nginx-è´Ÿè½½å‡è¡¡"><a href="#Nginx-è´Ÿè½½å‡è¡¡" class="headerlink" title="Nginx è´Ÿè½½å‡è¡¡"></a><code>Nginx</code> è´Ÿè½½å‡è¡¡</h2><blockquote><p>è´Ÿè½½å‡è¡¡ï¼Œé€šè¿‡åå‘ä»£ç†æœåŠ¡å™¨æ¥ä¼˜åŒ–ç½‘ç«™çš„è´Ÿè½½ï¼Œä¸€å°æœåŠ¡å™¨ä¸è¡Œå°±æå¤šå°ã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305101527469.png" alt="image2023-1-3_19-36-41.png"  /></p><h2 id="Nginx-é…ç½®æ–‡ä»¶"><a href="#Nginx-é…ç½®æ–‡ä»¶" class="headerlink" title="Nginx é…ç½®æ–‡ä»¶"></a><code>Nginx</code> é…ç½®æ–‡ä»¶</h2><blockquote><p><code>nginx.conf</code> é…ç½®æ–‡ä»¶åˆ†ä¸ºå¦‚ä¸‹ä¸‰ä¸ªæ¿å—ï¼š</p><ul><li>å…¨å±€é…ç½®</li><li>I/O äº‹ä»¶é…ç½®</li><li><code>http</code> é…ç½®</li></ul></blockquote><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">worker_processes</span> <span class="number">1</span>; <span class="comment"># åªå¯åŠ¨ä¸€ä¸ªå·¥ä½œè¿›ç¨‹</span></span><br><span class="line"> </span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="attribute">worker_connections</span> <span class="number">1024</span>; <span class="comment"># æ¯ä¸ªå·¥ä½œè¿›ç¨‹çš„æœ€å¤§è¿æ¥ä¸º1024</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="attribute">include</span> mime.types; <span class="comment"># å¼•å…¥MIMEç±»å‹æ˜ å°„è¡¨æ–‡ä»¶</span></span><br><span class="line">    <span class="attribute">default_type</span> application/octet-stream; <span class="comment"># å…¨å±€é»˜è®¤æ˜ å°„ç±»å‹ä¸ºapplication/octet-stream</span></span><br><span class="line"> </span><br><span class="line">    <span class="attribute">sendfile</span> <span class="literal">on</span>; <span class="comment"># å¯ç”¨é›¶å¤åˆ¶æœºåˆ¶</span></span><br><span class="line">    <span class="attribute">keepalive_timeout</span> <span class="number">65</span>; <span class="comment"># ä¿æŒè¿æ¥è¶…æ—¶æ—¶é—´ä¸º65s</span></span><br><span class="line">     </span><br><span class="line">    <span class="section">server</span> &#123; <span class="comment"># è™šæ‹Ÿä¸»æœºé…ç½®</span></span><br><span class="line">        <span class="attribute">listen</span> <span class="number">80</span>; <span class="comment"># ç›‘å¬80ç«¯å£çš„ç½‘ç»œè¿æ¥è¯·æ±‚</span></span><br><span class="line">        <span class="attribute">server_name</span> localhost; <span class="comment"># è™šæ‹Ÿä¸»æœºåä¸ºlocalhost</span></span><br><span class="line"> </span><br><span class="line">        <span class="section">location</span> / &#123; <span class="comment"># åŒ¹é…è·¯å¾„</span></span><br><span class="line">            <span class="attribute">root</span> html; <span class="comment"># æ–‡ä»¶æ ¹ç›®å½•</span></span><br><span class="line">            <span class="attribute">index</span> index.html index.htm; <span class="comment"># é»˜è®¤é¡µåç§°</span></span><br><span class="line">        &#125;</span><br><span class="line">         </span><br><span class="line">        <span class="attribute">error_page</span> <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span> /50x.html; <span class="comment"># æŠ¥é”™ç¼–ç å¯¹åº”é¡µé¢</span></span><br><span class="line">        <span class="section">location</span> = /50x.html &#123;</span><br><span class="line">            <span class="attribute">root</span> html;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment"># å¼•å…¥å…¶ä»– nginx é…ç½®æ–‡ä»¶</span></span><br><span class="line">    <span class="attribute">include</span> /etc/nginx/conf.d/<span class="regexp">*.conf</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒåšæ–‡"><a href="#å‚è€ƒåšæ–‡" class="headerlink" title="å‚è€ƒåšæ–‡"></a>å‚è€ƒåšæ–‡</h2><blockquote><ul><li><a href="https://www.cnblogs.com/anker/p/6056540.html">æ­£å‘ä»£ç†ä¸åå‘ä»£ç†</a></li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> WebæœåŠ¡å™¨ </category>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux-Shell-MySQL</title>
      <link href="/posts/3ffb66e.html"/>
      <url>/posts/3ffb66e.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><blockquote><p>ç°åœ¨ <code>MySQL</code> è™½è¯´å¯ä»¥é€šè¿‡ <code>Docker</code> ä¸€é”®å®‰è£…ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰å¾ˆå¤šå…¬å¸çš„é¡¹ç›®ä¾æ—§åœ¨ä½¿ç”¨ä¼ ç»Ÿçš„æ–¹å¼è¿›è¡Œå®‰è£…ã€‚</p><p>å¦‚ä¸‹æ–¹å¼å¯ä»¥é€šè¿‡è„šæœ¬ä¸€é”®å®‰è£… <code>MySQL 5.7.35</code></p><p>å‡†å¤‡ç¯å¢ƒï¼š</p><ul><li>æ“ä½œç³»ç»Ÿï¼šCentOS 7.6 64ä½</li><li>å®ä¾‹é…ç½®ï¼š1æ ¸ 1GB 5Mbps</li><li>MySQLï¼š<code>mysql 5.7.35</code></li></ul><p>å‡†å¤‡è„šæœ¬ï¼ˆç½‘ç›˜è‡ªå–ï¼‰ï¼š</p><ul><li>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1vXElBOA_zM1dlwxUT-wi7Q">https://pan.baidu.com/s/1vXElBOA_zM1dlwxUT-wi7Q</a> </li><li>æå–ç ï¼škh9m </li></ul></blockquote><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><blockquote><ol><li>å°†è„šæœ¬ä¸Šä¼ è‡³ <code>/tmp</code> ç›®å½•ä¸‹</li><li>ç»™è„šæœ¬æ·»åŠ æƒé™æ·»åŠ æƒé™</li><li>æ‰§è¡Œè„šæœ¬</li><li>å¼€æ”¾é˜²ç«å¢™ç«¯å£ï¼Œå¹¶åˆ·æ–°é…ç½®</li><li>é…ç½® <code>MySQL</code> </li><li>æµ‹è¯•é“¾æ¥</li></ol></blockquote><ol><li><p>å°†è„šæœ¬ä¸Šä¼ è‡³ <code>/tmp</code> ç›®å½•ä¸‹</p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305111335799.png" alt="image-20230511133516733"></p></li><li><p>ç»™è„šæœ¬æ·»åŠ æƒé™æ·»åŠ æƒé™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-24-4-centos tmp]<span class="comment"># chmod +x mysqlinstall_auto.sh </span></span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œè„šæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-24-4-centos tmp]<span class="comment"># ./mysqlinstall_auto.sh </span></span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">MySQLè‡ªåŠ¨éƒ¨ç½²è„šæœ¬æ‰§è¡Œ</span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">å‘ç°MySQL-serverå®‰è£…æ–‡ä»¶ mysql-community-server-5.7.35-1.el7.x86_64.rpm</span><br><span class="line">å‘ç°MySQL-clientå®‰è£…æ–‡ä»¶ mysql-community-client-5.7.35-1.el7.x86_64.rpm</span><br><span class="line">--------------------------------------------------------------------</span><br><span class="line">æ­£åœ¨å®‰è£…MySQL...</span><br><span class="line">æ­£åœ¨å¸è½½MariaDB</span><br><span class="line">å·²å¸è½½MariaDB</span><br><span class="line">æ­£åœ¨å®‰è£…MySQL-server...</span><br><span class="line">warning: mysql-community-server-5.7.35-1.el7.x86_64.rpm: Header V3 DSA/SHA256 Signature, key ID 5072e1f5: NOKEY</span><br><span class="line"><span class="comment">################################# [100%]</span></span><br><span class="line">Updating / installing...</span><br><span class="line"><span class="comment">################################# [100%]</span></span><br><span class="line">serverå®‰è£…å®Œæˆ</span><br><span class="line">æ­£åœ¨å®‰è£…MySQL-client...</span><br><span class="line">warning: mysql-community-client-5.7.35-1.el7.x86_64.rpm: Header V3 DSA/SHA256 Signature, key ID 5072e1f5: NOKEY</span><br><span class="line"><span class="comment">################################# [100%]</span></span><br><span class="line">Updating / installing...</span><br><span class="line"><span class="comment">################################# [100%]</span></span><br><span class="line">clientå®‰è£…å®Œæˆ</span><br><span class="line">--------------------------------------------------------------------</span><br><span class="line">æ­£åœ¨å¯åŠ¨MySQL...</span><br><span class="line">å¯åŠ¨æˆåŠŸ</span><br><span class="line">--------------------------------------------------------------------</span><br><span class="line">æ­£åœ¨è·å–mysqlåˆå§‹å¯†ç </span><br><span class="line">mysqlåˆå§‹å¯†ç : )tLp(LCD&lt;6*S</span><br><span class="line">-------------------------------------------------</span><br><span class="line">éƒ¨ç½²è„šæœ¬æ‰§è¡Œå®Œæˆ</span><br></pre></td></tr></table></figure></li><li><p>å¼€æ”¾é˜²ç«å¢™ç«¯å£ï¼Œå¹¶åˆ·æ–°é…ç½®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-24-4-centos tmp]<span class="comment"># firewall-cmd --zone=public --add-port=3306/tcp --permanent # å¼€æ”¾3306ç«¯å£</span></span><br><span class="line">success</span><br><span class="line">[root@VM-24-4-centos tmp]<span class="comment"># firewall-cmd --reload # åˆ·æ–°é˜²ç«å¢™é…ç½®</span></span><br><span class="line">success</span><br><span class="line">[root@VM-24-4-centos tmp]<span class="comment"># </span></span><br></pre></td></tr></table></figure></li><li><p>é…ç½® <code>MySQL</code> </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-24-4-centos tmp]<span class="comment"># mysql -u root -p </span></span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection <span class="built_in">id</span> is 3</span><br><span class="line">Server version: 5.7.35</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2021, Oracle and/or its affiliates.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">&#x27;help;&#x27;</span> or <span class="string">&#x27;\h&#x27;</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">&#x27;\c&#x27;</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¦–æ¬¡æ“ä½œè¦æ±‚é‡ç½®å¯†ç ,å¿…é¡»å¤§å°å†™ç‰¹æ®Šå­—ç¬¦ç»„æˆ, æˆ‘è®¾ç½®çš„å¯†ç ä¸º P@ssw0rd</span></span><br><span class="line">mysql&gt; ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED BY <span class="string">&#x27;P@ssw0rd&#x27;</span>; </span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆæƒè¿œç¨‹è®¿é—® % è¡¨ç¤ºæ‰€æœ‰ä¸»æœºéƒ½å¯ä»¥è®¿é—®</span></span><br><span class="line">mysql&gt; grant all privileges on *.* to <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified by <span class="string">&#x27;P@ssw0rd&#x27;</span> with grant option; </span><br><span class="line">Query OK, 0 rows affected, 1 warning (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges; <span class="comment"># åˆ·æ–°æƒé™ä¿¡æ¯</span></span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="built_in">exit</span></span><br><span class="line">Bye</span><br><span class="line">[root@VM-24-4-centos tmp]<span class="comment"># </span></span><br></pre></td></tr></table></figure></li><li><p>æµ‹è¯•é“¾æ¥</p><p><img src="https://cdn.jsdelivr.net/gh/wicksonZhang/static-source-cdn/images/202305111401493.png" alt="image-20230511140119459"></p></li></ol><h2 id="è„šæœ¬è§£æ"><a href="#è„šæœ¬è§£æ" class="headerlink" title="è„šæœ¬è§£æ"></a>è„šæœ¬è§£æ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šå®‰è£…æ–‡ä»¶å¤¹</span></span><br><span class="line">package_dir=<span class="string">&quot;/tmp&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;#################################################&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;MySQLè‡ªåŠ¨éƒ¨ç½²è„šæœ¬æ‰§è¡Œ&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;#################################################&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> <span class="string">&quot;<span class="variable">$&#123;package_dir&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥æ‰¾MySQL-serverå’ŒMySQL-clientçš„å®‰è£…åŒ…</span></span><br><span class="line">server=$(find -maxdepth 1 -name <span class="string">&#x27;*mysql*&#x27;</span> | grep server | awk -F <span class="string">&quot;/&quot;</span> <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>)</span><br><span class="line">client=$(find -maxdepth 1 -name <span class="string">&#x27;*mysql*&#x27;</span> | grep client | awk -F <span class="string">&quot;/&quot;</span> <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥MySQL-serverå®‰è£…åŒ…æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™é€€å‡º</span></span><br><span class="line"><span class="keyword">if</span> [[ -z <span class="string">&quot;<span class="variable">$&#123;server&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;æœªæ‰¾åˆ°MySQL-serverå®‰è£…æ–‡ä»¶&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 0</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;å‘ç°MySQL-serverå®‰è£…æ–‡ä»¶ <span class="variable">$&#123;server&#125;</span>&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥MySQL-clientå®‰è£…åŒ…æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™é€€å‡º</span></span><br><span class="line"><span class="keyword">if</span> [[ -z <span class="string">&quot;<span class="variable">$&#123;client&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;æœªæ‰¾åˆ°MySQL-clientå®‰è£…æ–‡ä»¶&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 0</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;å‘ç°MySQL-clientå®‰è£…æ–‡ä»¶ <span class="variable">$&#123;client&#125;</span>&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…MySQL</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">install_mysql</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;--------------------------------------------------------------------&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;æ­£åœ¨å®‰è£…MySQL...&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ£€æŸ¥ç³»ç»Ÿè‡ªå¸¦æ•°æ®åº“MariaDBæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨åˆ™å¸è½½</span></span><br><span class="line">    mariadb=$(rpm -qa | grep mariadb)</span><br><span class="line">    <span class="keyword">if</span> [[ -n <span class="string">&quot;<span class="variable">$&#123;mariadb&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;æ­£åœ¨å¸è½½MariaDB&quot;</span></span><br><span class="line">        rpm -e <span class="string">&quot;<span class="variable">$&#123;mariadb&#125;</span>&quot;</span> --nodeps</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;å·²å¸è½½MariaDB&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;æœªæ‰¾åˆ°MariaDBè½¯ä»¶åŒ…&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ£€æŸ¥æœåŠ¡å™¨ä¸Šæ˜¯å¦å·²å®‰è£…MySQLï¼Œå¦‚æœå·²ç»å®‰è£…åˆ™é€€å‡º</span></span><br><span class="line">    ismysql=$(rpm -qa | grep mysql)</span><br><span class="line">    <span class="keyword">if</span> [[ -n <span class="string">&quot;<span class="variable">$&#123;ismysql&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;mysqlå·²å­˜åœ¨ï¼Œè¯·ç¡®è®¤&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 0</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="comment"># å®‰è£…MySQL-serverå’ŒMySQL-client</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;æ­£åœ¨å®‰è£…MySQL-server...&quot;</span></span><br><span class="line">        rpm -ih <span class="string">&quot;<span class="variable">$&#123;server&#125;</span>&quot;</span> --force --nodeps</span><br><span class="line">        <span class="keyword">if</span> [ $? -eq 0 ];<span class="keyword">then</span></span><br><span class="line">            <span class="built_in">echo</span> <span class="string">&quot;serverå®‰è£…å®Œæˆ&quot;</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">echo</span> <span class="string">&quot;serverå®‰è£…å¤±è´¥ï¼Œè¯·æ£€æŸ¥æŠ¥é”™ä¿¡æ¯ï¼&quot;</span></span><br><span class="line">            <span class="built_in">exit</span> 1</span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;æ­£åœ¨å®‰è£…MySQL-client...&quot;</span></span><br><span class="line">        rpm -ih <span class="string">&quot;<span class="variable">$&#123;client&#125;</span>&quot;</span> --force --nodeps</span><br><span class="line">        <span class="keyword">if</span> [ $? -eq 0 ];<span class="keyword">then</span></span><br><span class="line">            <span class="built_in">echo</span> <span class="string">&quot;clientå®‰è£…å®Œæˆ&quot;</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">echo</span> <span class="string">&quot;clientå®‰è£…å¤±è´¥ï¼Œè¯·æ£€æŸ¥æŠ¥é”™ä¿¡æ¯ï¼&quot;</span></span><br><span class="line">            <span class="built_in">exit</span> 1</span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨MySQL</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">startup</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;--------------------------------------------------------------------&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;æ­£åœ¨å¯åŠ¨MySQL...&quot;</span></span><br><span class="line">    systemctl restart mysqld</span><br><span class="line">    <span class="keyword">if</span> [ $? -eq 0 ];<span class="keyword">then</span></span><br><span class="line">        <span class="keyword">if</span> netstat -ntulp | grep -q 3306</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">            <span class="built_in">echo</span> <span class="string">&quot;å¯åŠ¨æˆåŠŸ&quot;</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">echo</span> <span class="string">&quot;å¯åŠ¨å¤±è´¥ï¼Œè¯·æŸ¥çœ‹æ—¥å¿—ï¼&quot;</span></span><br><span class="line">            <span class="built_in">exit</span> 1</span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;å¯åŠ¨å¤±è´¥ï¼Œè¯·æŸ¥çœ‹æ—¥å¿—ï¼&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–MySQLçš„åˆå§‹å¯†ç </span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">get_password</span></span>() &#123;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;--------------------------------------------------------------------&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;æ­£åœ¨è·å–mysqlåˆå§‹å¯†ç &quot;</span></span><br><span class="line">init_password=$(grep <span class="string">&#x27;temporary password&#x27;</span> /var/log/mysqld.log | awk <span class="string">&#x27;&#123;print $NF&#125;&#x27;</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;mysqlåˆå§‹å¯†ç : <span class="variable">$init_password</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">install_mysql</span><br><span class="line">startup</span><br><span class="line">get_password</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;-------------------------------------------------&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;éƒ¨ç½²è„šæœ¬æ‰§è¡Œå®Œæˆ&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ“ä½œç³»ç»Ÿ </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux-Shell</title>
      <link href="/posts/ccf232fc.html"/>
      <url>/posts/ccf232fc.html</url>
      
        <content type="html"><![CDATA[<h3 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h3><blockquote><p>å˜é‡æ˜¯ Shell è„šæœ¬ç¼–ç¨‹ä¸­æœ€åŸºæœ¬çš„æ¦‚å¿µä¹‹ä¸€ï¼Œç”¨äºå­˜å‚¨æ•°æ®ã€‚Shell ä¸­çš„å˜é‡ä¸éœ€è¦äº‹å…ˆå£°æ˜ï¼Œåªéœ€è¦åœ¨å˜é‡åå‰åŠ ä¸Š <code>$</code> ç¬¦å·å³å¯å¼•ç”¨è¯¥å˜é‡ã€‚</p></blockquote><ul><li>å‘½ä»¤è¯­æ³•</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰å˜é‡</span></span><br><span class="line">å˜é‡å = å€¼</span><br><span class="line"><span class="comment"># è°ƒç”¨å˜é‡</span></span><br><span class="line">$å˜é‡å</span><br></pre></td></tr></table></figure><ul><li>ç¤ºä¾‹</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name=<span class="string">&quot;John&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;My name is <span class="variable">$name</span>.&quot;</span></span><br></pre></td></tr></table></figure><h3 id="å¸¸ç”¨åˆ¤æ–­"><a href="#å¸¸ç”¨åˆ¤æ–­" class="headerlink" title="å¸¸ç”¨åˆ¤æ–­"></a>å¸¸ç”¨åˆ¤æ–­</h3><blockquote><p>åœ¨ Shell è„šæœ¬ç¼–ç¨‹ä¸­ï¼Œå¸¸å¸¸éœ€è¦æ ¹æ®æŸäº›æ¡ä»¶è¿›è¡Œåˆ¤æ–­ã€‚</p></blockquote><h4 id="if-è¯­å¥"><a href="#if-è¯­å¥" class="headerlink" title="if è¯­å¥"></a>if è¯­å¥</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># if è¯­å¥åˆ¤æ–­å˜é‡ num æ˜¯å¦å¤§äº 10ï¼Œå¦‚æœæˆç«‹åˆ™è¾“å‡º &quot;The number is greater than 10.&quot;</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$num</span> -gt 10 ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;The number is greater than 10.&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><h4 id="case-è¯­å¥"><a href="#case-è¯­å¥" class="headerlink" title="case è¯­å¥"></a>case è¯­å¥</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="variable">$variable</span> <span class="keyword">in</span></span><br><span class="line">  value1)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Variable is value1.&quot;</span></span><br><span class="line">    ;;</span><br><span class="line">  value2)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Variable is value2.&quot;</span></span><br><span class="line">    ;;</span><br><span class="line">  *)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Variable is neither value1 nor value2.&quot;</span></span><br><span class="line">    ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure><h3 id="æµç¨‹æ§åˆ¶"><a href="#æµç¨‹æ§åˆ¶" class="headerlink" title="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶</h3><h4 id="for-å¾ªç¯è¯­å¥"><a href="#for-å¾ªç¯è¯­å¥" class="headerlink" title="for å¾ªç¯è¯­å¥"></a>for å¾ªç¯è¯­å¥</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..5&#125;; <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><h4 id="while-è¯­å¥"><a href="#while-è¯­å¥" class="headerlink" title="while è¯­å¥"></a>while è¯­å¥</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> [ <span class="variable">$num</span> -le 10 ]; <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$num</span></span><br><span class="line">  num=$((num+<span class="number">1</span>))</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><h3 id="ä¼ å‚"><a href="#ä¼ å‚" class="headerlink" title="ä¼ å‚"></a>ä¼ å‚</h3><blockquote><p>åœ¨ Shell è„šæœ¬ä¸­ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå‚æ•°æ¥ä¼ é€’å‚æ•°å€¼ã€‚</p></blockquote><ul><li>ç¤ºä¾‹</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;The first parameter is: <span class="variable">$1</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;The second parameter is: <span class="variable">$2</span>&quot;</span></span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œä½¿ç”¨ <code>$1</code> å’Œ <code>$2</code> æ¥å¼•ç”¨ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªå‚æ•°ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./script.sh foo bar</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">The first parameter is: foo</span><br><span class="line">The second parameter is: bar</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><blockquote><p>å‡½æ•°æ¥å°è£…é‡å¤ä½¿ç”¨çš„ä»£ç .</p></blockquote><ul><li>ç¤ºä¾‹</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">greeting</span></span>() &#123;</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;Hello, <span class="variable">$1</span>!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">greeting <span class="string">&quot;John&quot;</span></span><br></pre></td></tr></table></figure><ul><li>è°ƒç”¨è„šæœ¬ <code>./script.sh</code></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># ./script.sh </span></span><br><span class="line">Hello, John!</span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><blockquote><p>åœ¨ Shell è„šæœ¬ä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„æ¥å­˜å‚¨ä¸€ç»„æ•°æ®ã€‚</p></blockquote><ul><li>ç¤ºä¾‹</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">fruits=(<span class="string">&quot;apple&quot;</span> <span class="string">&quot;banana&quot;</span> <span class="string">&quot;orange&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;fruits[0]&#125;</span>  <span class="comment"># è¾“å‡º &quot;apple&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;fruits[1]&#125;</span>  <span class="comment"># è¾“å‡º &quot;banana&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;fruits[2]&#125;</span>  <span class="comment"># è¾“å‡º &quot;orange&quot;</span></span><br></pre></td></tr></table></figure><ul><li>è°ƒç”¨</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># ./script.sh </span></span><br><span class="line">apple</span><br><span class="line">banana</span><br><span class="line">orange</span><br></pre></td></tr></table></figure><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><blockquote><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç»¼åˆä½¿ç”¨å˜é‡ã€å¸¸ç”¨åˆ¤æ–­ã€æµç¨‹æ§åˆ¶ã€ä¼ å‚ã€å‡½æ•°ã€æ•°ç»„çš„ Shell è„šæœ¬ç¤ºä¾‹</p></blockquote><ul><li>ç¤ºä¾‹</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">name=<span class="string">&quot;John&quot;</span></span><br><span class="line">age=20</span><br><span class="line">fruits=(<span class="string">&quot;apple&quot;</span> <span class="string">&quot;banana&quot;</span> <span class="string">&quot;orange&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$age</span> -ge 18 ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$name</span> is an adult.&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$name</span> is not an adult.&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> fruit <span class="keyword">in</span> <span class="variable">$&#123;fruits[@]&#125;</span>; <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;I like <span class="variable">$fruit</span>.&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">greeting</span></span>() &#123;</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;Hello, <span class="variable">$1</span>!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">greeting <span class="variable">$name</span></span><br></pre></td></tr></table></figure><ul><li>è°ƒç”¨è„šæœ¬</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># ./script.sh </span></span><br><span class="line">John is an adult.</span><br><span class="line">I like apple.</span><br><span class="line">I like banana.</span><br><span class="line">I like orange.</span><br><span class="line">Hello, John!</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ“ä½œç³»ç»Ÿ </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux-ç½‘ç»œç›‘æµ‹</title>
      <link href="/posts/4f449b15.html"/>
      <url>/posts/4f449b15.html</url>
      
        <content type="html"><![CDATA[<h2 id="curl"><a href="#curl" class="headerlink" title="curl"></a>curl</h2><blockquote><p>curlï¼šè¯¥å‘½ä»¤å¯è§†ä¸ºä¸å¸¦å‚æ•°çš„GETè¯·æ±‚ã€‚</p></blockquote><ul><li>å‘½ä»¤æ ¼å¼</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl æœåŠ¡åœ°å€</span><br></pre></td></tr></table></figure><ul><li>æ“ä½œç¤ºä¾‹</li></ul><div class="tabs" id="curl"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#curl-1"><i class="fas fa-check"></i>ã€æ­£å¸¸ç¤ºä¾‹ã€‘</button></li><li class="tab"><button type="button" data-href="#curl-2"><i class="fas fa-xmark"></i>ã€å¤±è´¥ç¤ºä¾‹ã€‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="curl-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># curl http://localhost:80</span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;<span class="built_in">head</span>&gt;</span><br><span class="line">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">        width: 35em;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">        font-family: Tahoma, Verdana, Arial, sans-serif;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;</span><br><span class="line">&lt;p&gt;If you see this page, the nginx web server is successfully installed and</span><br><span class="line">working. Further configuration is required.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;For online documentation and support please refer to</span><br><span class="line">&lt;a href=<span class="string">&quot;http://nginx.org/&quot;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;</span><br><span class="line">Commercial support is available at</span><br><span class="line">&lt;a href=<span class="string">&quot;http://nginx.com/&quot;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;&lt;em&gt;Thank you <span class="keyword">for</span> using nginx.&lt;/em&gt;&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># </span></span><br><span class="line"></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="curl-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># curl http://localhost:8080</span></span><br><span class="line">curl: (7) Failed connect to localhost:8080; Connection refused</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a><code>netstat</code></h2><blockquote><p><code>netstat</code> ï¼šç›‘å¬ç«¯å£çŠ¶æ€</p></blockquote><ul><li>å‘½ä»¤æ ¼å¼</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat å‚æ•° | grep ç«¯å£å·</span><br></pre></td></tr></table></figure><ul><li>å‚æ•°è¯´æ˜</li></ul><div class="note orange simple"><p><strong>-a</strong>ï¼šæ˜¾ç¤ºæ‰€æœ‰socket</p><p><strong>-l</strong>ï¼šæ˜¾ç¤ºæ‰€æœ‰å¤„äºç›‘å¬ä¸­çš„ç«¯å£</p><p><strong>-n</strong>ï¼šæ˜¾ç¤ºæœ¬åœ°çš„<code>IP</code>åœ°å€</p><p><strong>-p</strong>ï¼šæ˜¾ç¤º<code>pid</code>åŠè¿›ç¨‹åç§°</p><p><strong>-t</strong>ï¼šåªæ˜¾ç¤º<code>tcp</code>ç«¯å£</p><p><strong>-u</strong>ï¼šåªæ˜¾ç¤º<code>udp</code>ç«¯å£</p></div><ul><li>æ“ä½œç¤ºä¾‹</li></ul><div class="tabs" id="netstat"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#netstat-1">ã€ç›‘å¬tcpç«¯å£ã€‘</button></li><li class="tab"><button type="button" data-href="#netstat-2">ã€æŸ¥è¯¢åŒ…å«80çš„ç«¯å£ã€‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="netstat-1"><p><code>netstat -ltnp</code>ï¼šæŸ¥è¯¢æ‰€æœ‰å¤„äºç›‘å¬çŠ¶æ€çš„tcpç«¯å£</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># netstat -ltnp</span></span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    </span><br><span class="line">tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      3781/nginx: master  </span><br><span class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1457/sshd           </span><br><span class="line">tcp        0      0 0.0.0.0:8888            0.0.0.0:*               LISTEN      1455/python         </span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="netstat-2"><p><code>netstat -anp | grep 80</code>ï¼šæŸ¥è¯¢æ‰€æœ‰å¤„äºç›‘å¬çŠ¶æ€çš„tcpç«¯å£</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># netstat -anp | grep 80</span></span><br><span class="line">tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      3781/nginx: master  </span><br><span class="line">tcp        0      0 10.0.0.9:42842          169.254.0.55:8080       TIME_WAIT   -                   </span><br><span class="line">tcp        0      0 10.0.0.9:80             170.64.161.204:38658    TIME_WAIT   -                   </span><br><span class="line">tcp        0      0 10.0.0.9:35380          169.254.0.55:5574       ESTABLISHED 5133/YDService      </span><br><span class="line">tcp        0      0 10.0.0.9:80             170.64.161.204:38694    TIME_WAIT   -                   </span><br><span class="line">tcp        0      0 10.0.0.9:80             170.64.161.204:38660    TIME_WAIT   -                   </span><br><span class="line">udp6       0      0 fe80::5054:ff:fead::123 :::*                                657/ntpd            </span><br><span class="line">unix  2      [ ACC ]     STREAM     LISTENING     8005     1/systemd            /run/systemd/journal/stdout</span><br><span class="line">unix  5      [ ]         DGRAM                    8008     1/systemd            /run/systemd/journal/socket</span><br><span class="line">unix  12     [ ]         DGRAM                    8010     1/systemd            /dev/log</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="telnet"><a href="#telnet" class="headerlink" title="telnet"></a>telnet</h2><blockquote><p>telnetï¼šç”¨æ¥æ¢æµ‹æŒ‡å®š <code>ip</code> æ˜¯å¦å¼€æ”¾æŒ‡å®šç«¯å£ã€‚</p><p>åœ¨ Linux ç¯å¢ƒä¸‹ <code>Telnet</code> æ˜¯éœ€è¦å®‰è£…çš„ã€‚ å®‰è£…å‘½ä»¤ï¼š<code>yum install telnet</code></p></blockquote><ul><li>å‘½ä»¤æ ¼å¼</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">telnet IP ç«¯å£</span><br></pre></td></tr></table></figure><ul><li>æ“ä½œç¤ºä¾‹</li></ul><div class="tabs" id="curl"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#curl-1"><i class="fas fa-check"></i>ã€æ­£å¸¸ç¤ºä¾‹ã€‘</button></li><li class="tab"><button type="button" data-href="#curl-2"><i class="fas fa-xmark"></i>ã€å¤±è´¥ç¤ºä¾‹ã€‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="curl-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># telnet 127.0.0.1 80</span></span><br><span class="line">Trying 127.0.0.1...</span><br><span class="line">Connected to 127.0.0.1.</span><br><span class="line">Escape character is <span class="string">&#x27;^]&#x27;</span>.</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="curl-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># telnet 127.0.0.1 8080</span></span><br><span class="line">Trying 127.0.0.1...</span><br><span class="line">telnet: connect to address 127.0.0.1: Connection refused</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>]]></content>
      
      
      <categories>
          
          <category> æ“ä½œç³»ç»Ÿ </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux-åŸºç¡€å‘½ä»¤</title>
      <link href="/posts/5c7d7d77.html"/>
      <url>/posts/5c7d7d77.html</url>
      
        <content type="html"><![CDATA[<h2 id="Linux-ç›®å½•æ“ä½œ"><a href="#Linux-ç›®å½•æ“ä½œ" class="headerlink" title="Linux - ç›®å½•æ“ä½œ"></a>Linux - ç›®å½•æ“ä½œ</h2><h3 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h3><blockquote><p>cdï¼šè¿›å…¥å¯¹åº”ç›®å½•ï¼Œç±»ä¼¼ windows æ‰“å¼€æ–‡ä»¶å¤¹</p></blockquote><ul><li>å‘½ä»¤è¯­æ³•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ã€<span class="built_in">dir</span>ã€‘</span><br></pre></td></tr></table></figure><ul><li>æ“ä½œç¤ºä¾‹</li></ul><div class="tabs" id="cd"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#cd-1">ã€cd ~ã€‘</button></li><li class="tab"><button type="button" data-href="#cd-2">ã€cd ..ã€‘</button></li><li class="tab"><button type="button" data-href="#cd-3">ã€cd -ã€‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="cd-1"><p><strong>cd ~ ï¼šå›åˆ°å½“å‰ç™»å½•è´¦å·çš„homeç›®å½•</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos ~]<span class="comment"># cd /usr/local/</span></span><br><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># cd ~</span></span><br><span class="line">[root@VM-0-9-centos ~]<span class="comment"># pwd</span></span><br><span class="line">/root</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="cd-2"><p><strong>cd .. || cd ./.. ï¼šè¿›åˆ°å½“å‰ç›®å½•çš„çˆ¶çº§ç›®å½•</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos /]<span class="comment"># cd /usr/local/</span></span><br><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># cd ./..</span></span><br><span class="line">[root@VM-0-9-centos usr]<span class="comment"># pwd</span></span><br><span class="line">/usr</span><br><span class="line">[root@VM-0-9-centos usr]<span class="comment"># cd /usr/local/</span></span><br><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># cd ..</span></span><br><span class="line">[root@VM-0-9-centos usr]<span class="comment"># pwd</span></span><br><span class="line">/usr</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="cd-3"><p><strong>cd - ï¼šè·³è½¬åˆ°ä¹‹å‰æ‰€åœ¨ç›®å½•</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos home]<span class="comment"># cd /usr/local/</span></span><br><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># pwd</span></span><br><span class="line">/usr/local</span><br><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># cd -</span></span><br><span class="line">/home</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h3><blockquote><p>cpï¼šæ–‡ä»¶æ‹·è´</p></blockquote><ul><li>å‘½ä»¤è¯­æ³•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> å‚æ•° æºæ–‡ä»¶ ç›®æ ‡ä½ç½®</span><br></pre></td></tr></table></figure><ul><li>å‚æ•°è¯´æ˜</li></ul><div class="note orange simple"><p><strong>-r/R</strong>ï¼šé€’å½’ï¼Œä½¿ç”¨äºç›®å½•å¤åˆ¶</p><p><strong>-n</strong>ï¼šä¸è¦†ç›–ï¼Œä¸åŠ è¯¥å‚æ•°é»˜è®¤è¦†ç›–</p></div><ul><li>æ“ä½œç¤ºä¾‹</li></ul><div class="tabs" id="cp"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#cp-1">ã€cp æºæ–‡ä»¶ ç›®æ ‡ä½ç½®ã€‘</button></li><li class="tab"><button type="button" data-href="#cp-2">ã€cp -r æºæ–‡ä»¶ ç›®æ ‡ä½ç½®ã€‘</button></li><li class="tab"><button type="button" data-href="#cp-3">ã€cp -n æºæ–‡ä»¶ ç›®æ ‡ä½ç½®ã€‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="cp-1"><p>ã€cp æºæ–‡ä»¶ ç›®æ ‡ä½ç½®ã€‘ï¼šè¦†ç›–å¤åˆ¶å½“å‰ç›®å½•ä¸‹bbbæ–‡ä»¶è‡³/tmpç›®å½•ä¸‹ï¼Œå‘½åä¸ºaaaæ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># touch bbb.md</span></span><br><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># ll</span></span><br><span class="line">...</span><br><span class="line">-rw-r--r--   1 root root    0 May  9 12:01 bbb.md</span><br><span class="line">...</span><br><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># cp bbb.md /tmp/aaa</span></span><br><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># cd /tmp/</span></span><br><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># ll</span></span><br><span class="line">...</span><br><span class="line">-rw-r--r-- 1 root root    0 May  9 12:01 aaa</span><br><span class="line">...</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="cp-2"><p>ã€cp -r æºæ–‡ä»¶ ç›®æ ‡ä½ç½®ã€‘ï¼šè¦†ç›–å¤åˆ¶cccç›®å½•è‡³/tmpç›®å½•ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># pwd</span></span><br><span class="line">/usr/local</span><br><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># mkdir ccc</span></span><br><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># cp -r ccc/ /tmp/</span></span><br><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># cd /tmp/</span></span><br><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># ll</span></span><br><span class="line">drwxr-xr-x 2 root root 4096 May  9 13:32 ccc</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="cp-3"><p>ã€cp -n æºæ–‡ä»¶ ç›®æ ‡ä½ç½®ã€‘ï¼šå¤åˆ¶bbbæ–‡ä»¶è‡³/tmpç›®å½•ä¸‹ï¼Œå¹¶è·³è¿‡é‡åæ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># touch bbb.md</span></span><br><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># cp -n bbb.md /tmp/</span></span><br><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># cd /tmp/</span></span><br><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># ll</span></span><br><span class="line">-rw-r--r-- 1 root root    0 May  9 13:36 bbb.md</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><blockquote><p>findï¼šæŸ¥æ‰¾æ–‡ä»¶</p></blockquote><ul><li>å‘½ä»¤è¯­æ³•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find æŸ¥æ‰¾ç›®å½• å‚æ•°</span><br></pre></td></tr></table></figure><ul><li>å‚æ•°è¯´æ˜</li></ul><div class="note orange simple"><p><strong>-name</strong>ï¼šåç§°åŒ¹é…</p><p><strong>-mindepth</strong>ï¼šç›®å½•æ·±åº¦æœ€å°é™åˆ¶</p><p><strong>-maxdepth</strong>ï¼šç›®å½•æ·±åº¦æœ€å¤§é™åˆ¶</p><p><strong>-type</strong>ï¼šæ–‡ä»¶ç±»å‹åŒ¹é…ï¼ˆ<strong>f</strong> æ™®é€šæ–‡ä»¶ <strong>l</strong> ç¬¦å·è¿æ¥ <strong>d</strong> ç›®å½•ï¼‰</p></div><ul><li>æ“ä½œç¤ºä¾‹</li></ul><div class="tabs" id="find"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#find-1">ã€find è·¯å¾„ -mindepth -maxdepthã€‘</button></li><li class="tab"><button type="button" data-href="#find-2">ã€find è·¯å¾„ -type f -name filenameã€‘</button></li><li class="tab"><button type="button" data-href="#find-3">ã€find è·¯å¾„ -name *.jpgã€‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="find-1"><p>find è·¯å¾„ -mindepth -maxdepthï¼šæŸ¥æ‰¾ç›®å½•ä¸‹ç›®å½•æ·±åº¦2å±‚ä¸3å±‚çš„æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos home]<span class="comment"># find /home -mindepth 2 -maxdepth 3</span></span><br><span class="line">/home/www/.bashrc</span><br><span class="line">/home/www/.bash_logout</span><br><span class="line">/home/www/.bash_profile</span><br><span class="line">...</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="find-2"><p>find è·¯å¾„ -type f -name filenameï¼šæŸ¥æ‰¾/homeç›®å½•ä¸‹åç§°ä¸ºaaaçš„æ™®é€šæ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos home]<span class="comment"># find /home -type f -name aaa</span></span><br><span class="line">[root@VM-0-9-centos home]<span class="comment"># touch aaa</span></span><br><span class="line">[root@VM-0-9-centos home]<span class="comment"># find /home -type f -name aaa</span></span><br><span class="line">/home/aaa</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="find-3"><p>find è·¯å¾„ -name *.jpgï¼šæŸ¥æ‰¾/homeç›®å½•ä¸‹åç¼€ä¸º.jpgçš„æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos home]<span class="comment"># find /home -name *.jpg</span></span><br><span class="line">[root@VM-0-9-centos home]<span class="comment"># touch aa.jpg</span></span><br><span class="line">[root@VM-0-9-centos home]<span class="comment"># find /home -name *.jpg</span></span><br><span class="line">/home/aa.jpg</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h3><blockquote><p>lsï¼šæ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹çš„ä¿¡æ¯</p></blockquote><ul><li>å‘½ä»¤è¯­æ³•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span></span><br></pre></td></tr></table></figure><ul><li>å‚æ•°è¯´æ˜</li></ul><div class="note orange simple"><p><strong>-a</strong> ï¼šæ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶</p><p><strong>-l</strong> ï¼šæ˜¾ç¤ºæ–‡ä»¶å±æ€§ï¼Œæ–‡ä»¶å¤§å°ä»¥å­—èŠ‚æ˜¾ç¤º</p><p><strong>-h</strong> ï¼šæŒ‰K\M\Gçš„å½¢å¼æ˜¾ç¤ºæ–‡ä»¶å¤§å°ä¿¡æ¯</p><p><strong>-S</strong> ï¼šæŒ‰æ–‡ä»¶å¤§å°æ’åº</p></div><ul><li>æ“ä½œç¤ºä¾‹</li></ul><div class="tabs" id="ls"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#ls-1">ã€lsã€‘</button></li><li class="tab"><button type="button" data-href="#ls-2">ã€ls -aã€‘</button></li><li class="tab"><button type="button" data-href="#ls-3">ã€ls -lã€‘</button></li><li class="tab"><button type="button" data-href="#ls-4">ã€ls -alã€‘</button></li><li class="tab"><button type="button" data-href="#ls-5">ã€ls -lhã€‘</button></li><li class="tab"><button type="button" data-href="#ls-6">ã€ls -lhSã€‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="ls-1"><p>lsï¼šæ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹çš„ä¿¡æ¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos home]<span class="comment"># ls # æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹çš„ä¿¡æ¯</span></span><br><span class="line">aaa  aa.jpg  lighthouse  www</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="ls-2"><p>ls -aï¼šæ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos home]<span class="comment"># ls -a # æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶</span></span><br><span class="line">.  ..  aaa  aa.jpg  lighthouse  www</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="ls-3"><p>ls -lï¼šæ˜¾ç¤ºæ–‡ä»¶å±æ€§ï¼Œæ–‡ä»¶å¤§å°ä»¥å­—èŠ‚æ˜¾ç¤º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos home]<span class="comment"># ls -l # æ˜¾ç¤ºæ–‡ä»¶å±æ€§ï¼Œæ–‡ä»¶å¤§å°ä»¥å­—èŠ‚æ˜¾ç¤º</span></span><br><span class="line">total 8</span><br><span class="line">-rw-r--r-- 1 root       root          0 May  9 13:44 aaa</span><br><span class="line">-rw-r--r-- 1 root       root          0 May  9 13:46 aa.jpg</span><br><span class="line">drwx------ 5 lighthouse lighthouse 4096 Oct 12  2022 lighthouse</span><br><span class="line">drwx------ 2 www        www        4096 Aug 11  2022 www</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="ls-4"><p>ls -alï¼šæ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶ï¼Œæ–‡ä»¶å±æ€§ï¼Œæ–‡ä»¶å¤§å°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos home]<span class="comment"># ls -al # æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶ï¼Œæ–‡ä»¶å±æ€§ï¼Œæ–‡ä»¶å¤§å°</span></span><br><span class="line">total 16</span><br><span class="line">drwxr-xr-x.  4 root       root       4096 May  9 13:46 .</span><br><span class="line">dr-xr-xr-x. 21 root       root       4096 May  9 13:50 ..</span><br><span class="line">-rw-r--r--   1 root       root          0 May  9 13:44 aaa</span><br><span class="line">-rw-r--r--   1 root       root          0 May  9 13:46 aa.jpg</span><br><span class="line">drwx------   5 lighthouse lighthouse 4096 Oct 12  2022 lighthouse</span><br><span class="line">drwx------   2 www        www        4096 Aug 11  2022 www</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="ls-5"><p>ls -lhï¼ˆæŒ‰K\M\Gçš„å½¢å¼æ˜¾ç¤ºæ–‡ä»¶å¤§å°ä¿¡æ¯ï¼‰ï¼šæ˜¾ç¤ºæ–‡ä»¶å±æ€§ï¼Œæ–‡ä»¶å¤§å°ä»¥Kæ˜¾ç¤º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos home]<span class="comment"># ls -lh # æ˜¾ç¤ºæ–‡ä»¶å±æ€§ï¼Œæ–‡ä»¶å¤§å°ä»¥Kæ˜¾ç¤º</span></span><br><span class="line">total 8.0K</span><br><span class="line">-rw-r--r-- 1 root       root          0 May  9 13:44 aaa</span><br><span class="line">-rw-r--r-- 1 root       root          0 May  9 13:46 aa.jpg</span><br><span class="line">drwx------ 5 lighthouse lighthouse 4.0K Oct 12  2022 lighthouse</span><br><span class="line">drwx------ 2 www        www        4.0K Aug 11  2022 www</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="ls-6"><p>ls -lhSï¼šæ˜¾ç¤ºæ–‡ä»¶å±æ€§ï¼Œæ–‡ä»¶å¤§å°ä»¥Kæ˜¾ç¤ºï¼ŒæŒ‰æ–‡ä»¶å¤§å°æ’åº</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos home]<span class="comment"># ls -lhS  # æ˜¾ç¤ºæ–‡ä»¶å±æ€§ï¼Œæ–‡ä»¶å¤§å°ä»¥Kæ˜¾ç¤ºï¼ŒæŒ‰æ–‡ä»¶å¤§å°æ’åº</span></span><br><span class="line">total 8.0K</span><br><span class="line">drwx------ 5 lighthouse lighthouse 4.0K Oct 12  2022 lighthouse</span><br><span class="line">drwx------ 2 www        www        4.0K Aug 11  2022 www</span><br><span class="line">-rw-r--r-- 1 root       root          0 May  9 13:44 aaa</span><br><span class="line">-rw-r--r-- 1 root       root          0 May  9 13:46 aa.jpg</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h3><blockquote><p>åˆ›å»ºæ–‡ä»¶ç›®å½•</p></blockquote><ul><li>å‘½ä»¤è¯­æ³•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> å‚æ•° æ–‡ä»¶å</span><br></pre></td></tr></table></figure><ul><li>å‚æ•°è¯´æ˜</li></ul><div class="note orange simple"><p><strong>-p</strong> ï¼šåµŒå¥—å…³ç³»ç›®å½•åˆ›å»º;</p></div><ul><li>æ“ä½œç¤ºä¾‹</li></ul><div class="tabs" id="mkdir"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#mkdir-1">ã€mkdir dirã€‘</button></li><li class="tab"><button type="button" data-href="#mkdir-2">ã€mkdir -p dirã€‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="mkdir-1"><p><strong>mkdir dir</strong>ï¼šåˆ›å»ºç©ºç™½ç›®å½•ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos home]<span class="comment"># ls</span></span><br><span class="line">lighthouse  www</span><br><span class="line">[root@VM-0-9-centos home]<span class="comment"># mkdir v1</span></span><br><span class="line">[root@VM-0-9-centos home]<span class="comment"># ls</span></span><br><span class="line">lighthouse  v1  www</span><br><span class="line">[root@VM-0-9-centos home]<span class="comment"># mkdir v2 v3 v4</span></span><br><span class="line">[root@VM-0-9-centos home]<span class="comment"># ls</span></span><br><span class="line">lighthouse  v1  v2  v3  v4  www</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="mkdir-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos home]<span class="comment"># rm -rf v1 v2 v3 v4</span></span><br><span class="line">[root@VM-0-9-centos home]<span class="comment"># mkdir -p v1/v2/v3</span></span><br><span class="line">[root@VM-0-9-centos home]<span class="comment"># ls</span></span><br><span class="line">lighthouse  v1  www</span><br><span class="line">[root@VM-0-9-centos home]<span class="comment"># find v1 -mindepth 2 -maxdepth 3</span></span><br><span class="line">v1/v2/v3</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="mv"><a href="#mv" class="headerlink" title="mv"></a>mv</h3><blockquote><p>mvï¼šç§»åŠ¨æ–‡ä»¶ï¼Œå¯ä»¥æ“ä½œç›®å½•å’Œæ–‡ä»¶ã€‚</p></blockquote><ul><li>å‘½ä»¤æ ¼å¼</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> æºè·¯å¾„ ç›®æ ‡è·¯å¾„</span><br></pre></td></tr></table></figure><ul><li>æ“ä½œç¤ºä¾‹</li></ul><div class="tabs" id="mv"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#mv-1">ã€mv file ç›®æ ‡è·¯å¾„ã€‘</button></li><li class="tab"><button type="button" data-href="#mv-2">ã€mv dir ç›®æ ‡è·¯å¾„ã€‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="mv-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos home]<span class="comment"># touch ccc</span></span><br><span class="line">[root@VM-0-9-centos home]<span class="comment"># mv ccc /tmp/aaa</span></span><br><span class="line">[root@VM-0-9-centos home]<span class="comment"># cd /tmp/</span></span><br><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># ls</span></span><br><span class="line">aaa</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="mv-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># mkdir bbb</span></span><br><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># mv bbb/ /tmp/</span></span><br><span class="line">[root@VM-0-9-centos <span class="built_in">local</span>]<span class="comment"># cd /tmp/</span></span><br><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># ls</span></span><br><span class="line">bbb</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="pwd"><a href="#pwd" class="headerlink" title="pwd"></a>pwd</h3><blockquote><p>æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•</p></blockquote><ul><li>å‘½ä»¤æ ¼å¼</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">pwd</span></span><br></pre></td></tr></table></figure><ul><li>æ“ä½œç¤ºä¾‹</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># pwd</span></span><br><span class="line">/tmp</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h3><blockquote><p>rmï¼šåˆ é™¤ç›®å½•æˆ–æ–‡ä»¶</p></blockquote><ul><li>å‘½ä»¤æ ¼å¼</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> å‚æ•° è·¯å¾„</span><br></pre></td></tr></table></figure><ul><li>å‚æ•°è¯´æ˜</li></ul><div class="note orange simple"><p><strong>-r</strong>ï¼šé€’å½’ï¼Œç”¨äºç›®å½•</p><p><strong>-f</strong>ï¼šå¼ºåˆ¶åˆ é™¤ï¼Œä¸æ˜¾ç¤ºä»»ä½•ä¿¡æ¯ï¼ˆä¼šä½¿å‰è¾¹çš„å‚æ•° i å¤±æ•ˆï¼‰</p><p><strong>-i</strong>ï¼šè¿›è¡Œä»»ä½•æ“ä½œå‰éœ€ç¡®è®¤ï¼Œåªèƒ½æ“ä½œæ–‡ä»¶ï¼ˆä¼šä½¿å‰è¾¹çš„å‚æ•° f å¤±æ•ˆï¼‰</p></div><ul><li>æ“ä½œç¤ºä¾‹</li></ul><div class="tabs" id="rm"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#rm-1">ã€rm -ir è·¯å¾„ã€‘</button></li><li class="tab"><button type="button" data-href="#rm-2">ã€rm -rf è·¯å¾„ã€‘</button></li><li class="tab"><button type="button" data-href="#rm-3">ã€rm -i æ–‡ä»¶ã€‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="rm-1"><p>rm -ir è·¯å¾„ï¼šåˆ é™¤ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œå¹¶åœ¨æ¯ä¸€æ­¥æ‰§è¡Œæ“ä½œå‰è¿›è¡Œç¡®è®¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># rm -ir bbb/</span></span><br><span class="line"><span class="built_in">rm</span>: remove directory â€˜bbb/â€™? y</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="rm-2"><p>rm -rf è·¯å¾„ï¼šå¼ºåˆ¶åˆ é™¤ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œä¸­é—´ä¸ä¼šäº§ç”Ÿä»»ä½•æç¤º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># rm -rf ccc/</span></span><br><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># </span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="rm-3"><p>rm -i è·¯å¾„ï¼šåˆ é™¤test1æ–‡ä»¶ï¼Œåœ¨åˆ é™¤å‰è¿›è¡Œç¡®è®¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># touch ccc.md</span></span><br><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># rm -i ccc.md </span></span><br><span class="line"><span class="built_in">rm</span>: remove regular empty file â€˜ccc.mdâ€™? y</span><br><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># </span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="Linux-æ–‡ä»¶ç¼–è¾‘"><a href="#Linux-æ–‡ä»¶ç¼–è¾‘" class="headerlink" title="Linux - æ–‡ä»¶ç¼–è¾‘"></a>Linux - æ–‡ä»¶ç¼–è¾‘</h2><blockquote><p>viï¼šè‡ªå¸¦æ–‡æœ¬ç¼–è¾‘å™¨</p></blockquote><ul><li>å‘½ä»¤æ ¼å¼</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi filename</span><br></pre></td></tr></table></figure><ul><li>æ“ä½œç¤ºä¾‹</li></ul><div class="tabs" id="linux---vi"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#linux---vi-1">ã€æ’å…¥æ¨¡å¼ï¼ˆinsert modeï¼‰ã€‘</button></li><li class="tab"><button type="button" data-href="#linux---vi-2">ã€å‘½ä»¤æ¨¡å¼ï¼ˆcommand modeï¼‰ã€‘</button></li><li class="tab"><button type="button" data-href="#linux---vi-3">ã€åº•è¡Œæ¨¡å¼ï¼ˆlast line modeï¼‰ã€‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="linux---vi-1"><ul><li><p>ç¬¬ä¸€æ­¥ï¼šè¿›å…¥æ–‡ä»¶ç¼–è¾‘å™¨åï¼ŒæŒ‰ <strong>i</strong> è¿›å…¥æ’å…¥æ¨¡å¼</p></li><li><p>ç¬¬äºŒæ­¥ï¼šæ’å…¥æ¨¡å¼ä¸‹ï¼Œæ–‡æœ¬ç¼–è¾‘æŒ‰å¸¸è§„æ¨¡å¼è¿›è¡Œæ“ä½œ</p></li><li><p>ç¬¬ä¸‰æ­¥ï¼šæŒ‰ <strong>ESC</strong> é€€å‡ºæ’å…¥æ¨¡å¼</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="linux---vi-2"><ul><li><p>ç§»åŠ¨å…‰æ ‡</p><ul><li><p><strong>ctrl + b</strong>  å±å¹•å‘åç§»åŠ¨ä¸€é¡µ</p></li><li><p><strong>ctrl + f</strong>  å±å¹•å‘å‰ç§»åŠ¨ä¸€é¡µ</p></li><li><p><strong>ctrl + u</strong>  å±å¹•å‘åç§»åŠ¨åŠé¡µ</p></li><li><p><strong>ctrl + d</strong>  å±å¹•å‘å‰ç§»åŠ¨åŠé¡µ</p></li><li><p><strong>$</strong>  å…‰æ ‡ç§»åŠ¨åˆ°è¡Œå°¾</p></li><li><p><strong>^</strong>  å…‰æ ‡ç§»åŠ¨åˆ°è¡Œé¦–</p></li></ul></li><li><p>åˆ é™¤æ“ä½œ</p><ul><li><strong>x</strong>  åˆ é™¤å…‰æ ‡åä¸€ä½å­—ç¬¦</li><li><strong>#x</strong>  åˆ é™¤å…‰æ ‡å#ä½å­—ç¬¦</li><li><strong>dd</strong>  åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œ</li></ul></li><li><p>æ’¤å›æ“ä½œ</p><ul><li><strong>u</strong>  æ’¤å›ä¸Šä¸€æ­¥æ“ä½œ</li></ul></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="linux---vi-3"><ul><li><p>å‘½ä»¤æ¨¡å¼ä¸‹ï¼ŒæŒ‰ <strong>ï¼š</strong> è¿›å…¥åº•è¡Œæ¨¡å¼</p></li><li><p>å­—ç¬¦æŸ¥æ‰¾</p><ul><li><strong>/keywords</strong>  å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ <strong>/</strong> ï¼Œæ¥ç€è¾“å…¥æŸ¥æ‰¾å…³é”®å­—åå›è½¦è¿›è¡ŒæŸ¥æ‰¾ï¼Œæ¥ç€æŒ‰ <strong>n</strong> è½¬åˆ°ä¸‹ä¸€ä¸ªæŸ¥æ‰¾ç»“æœ</li></ul></li><li><p>ä¿å­˜æ–‡ä»¶</p><ul><li><p><strong>:w filename</strong>  ä»¥ <strong>filename</strong> ä¸ºæ–‡ä»¶åå¦å­˜ä¸º</p></li><li><p><strong>:wq</strong>  ä¿å­˜å¹¶é€€å‡º</p></li></ul></li><li><p>é€€å‡ºç¼–è¾‘</p><ul><li><strong>:q!</strong>  ä¸å­˜ç›˜å¼ºåˆ¶é€€å‡º</li></ul></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="Linux-æ–‡ä»¶æŸ¥çœ‹"><a href="#Linux-æ–‡ä»¶æŸ¥çœ‹" class="headerlink" title="Linux - æ–‡ä»¶æŸ¥çœ‹"></a>Linux - æ–‡ä»¶æŸ¥çœ‹</h2><h3 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h3><ul><li>å‘½ä»¤æ ¼å¼</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> filename <span class="comment"># æŸ¥çœ‹æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">cat</span> -n filename <span class="comment"># æŸ¥çœ‹æ–‡ä»¶å†…å®¹å¹¶é™„å¸¦è¡Œå·</span></span><br></pre></td></tr></table></figure><ul><li>æ“ä½œç¤ºä¾‹</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># touch Readme.md</span></span><br><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># vi Readme.md </span></span><br><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># cat Readme.md </span></span><br><span class="line">this is Readme</span><br><span class="line">[root@VM-0-9-centos tmp]<span class="comment"># cat -n Readme.md </span></span><br><span class="line">     1this is Readme</span><br></pre></td></tr></table></figure><h3 id="less"><a href="#less" class="headerlink" title="less"></a>less</h3><ul><li>å‘½ä»¤æ ¼å¼</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">less filename</span><br></pre></td></tr></table></figure><ul><li>å‚æ•°è¯´æ˜</li></ul><div class="note orange simple"><p><strong>Space</strong> æˆ– <strong>PageUp</strong>ï¼šå‘å‰ä¸€å±</p><p><strong>B</strong> æˆ– <strong>PageDown</strong>ï¼šå‘åä¸€å±</p><p><strong>Enter</strong> ï¼šå‘åä¸€è¡Œ</p><p><strong>K</strong> ï¼šå‘å‰ä¸€è¡Œ</p></div><h3 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h3><ul><li>å‘½ä»¤æ ¼å¼</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">tail</span> å‚æ•° filename</span><br></pre></td></tr></table></figure><ul><li>å‚æ•°è¯´æ˜</li></ul><div class="note orange simple"><p><strong>-n</strong> ï¼šæŒ‡å®šæ˜¾ç¤ºæ–‡ä»¶çš„æœ€åå¤šå°‘è¡Œã€‚</p><p><strong>-f</strong> ï¼šåŠ¨æ€æ˜¾ç¤ºï¼Œé»˜è®¤æ˜¾ç¤ºæ–‡ä»¶æœ«å°¾10è¡Œï¼Œå¹¶ä¸”ä¸€ç›´ä¿æŒæ˜¾ç¤ºçŠ¶æ€ã€‚</p></div>]]></content>
      
      
      <categories>
          
          <category> æ“ä½œç³»ç»Ÿ </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/posts/4a17b156.html"/>
      <url>/posts/4a17b156.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
